function wO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bO={exports:{}},Bw={},SO={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=Symbol.for("react.element"),Hq=Symbol.for("react.portal"),qq=Symbol.for("react.fragment"),Wq=Symbol.for("react.strict_mode"),Kq=Symbol.for("react.profiler"),Gq=Symbol.for("react.provider"),Jq=Symbol.for("react.context"),Yq=Symbol.for("react.forward_ref"),Xq=Symbol.for("react.suspense"),Qq=Symbol.for("react.memo"),Zq=Symbol.for("react.lazy"),b4=Symbol.iterator;function eW(t){return t===null||typeof t!="object"?null:(t=b4&&t[b4]||t["@@iterator"],typeof t=="function"?t:null)}var kO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_O=Object.assign,NO={};function Sh(t,e,n){this.props=t,this.context=e,this.refs=NO,this.updater=n||kO}Sh.prototype.isReactComponent={};Sh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EO(){}EO.prototype=Sh.prototype;function XN(t,e,n){this.props=t,this.context=e,this.refs=NO,this.updater=n||kO}var QN=XN.prototype=new EO;QN.constructor=XN;_O(QN,Sh.prototype);QN.isPureReactComponent=!0;var S4=Array.isArray,AO=Object.prototype.hasOwnProperty,ZN={current:null},CO={key:!0,ref:!0,__self:!0,__source:!0};function TO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)AO.call(e,r)&&!CO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pg,type:t,key:s,ref:o,props:i,_owner:ZN.current}}function tW(t,e){return{$$typeof:Pg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pg}function nW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var k4=/\/+/g;function qb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nW(""+t.key):e.toString(36)}function hv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pg:case Hq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qb(o,0):r,S4(i)?(n="",t!=null&&(n=t.replace(k4,"$&/")+"/"),hv(i,e,n,"",function(c){return c})):i!=null&&(eE(i)&&(i=tW(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(k4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",S4(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qb(s,a);o+=hv(s,e,n,l,i)}else if(l=eW(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qb(s,a++),o+=hv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Y0(t,e,n){if(t==null)return t;var r=[],i=0;return hv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ki={current:null},pv={transition:null},iW={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:pv,ReactCurrentOwner:ZN};function PO(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:Y0,forEach:function(t,e,n){Y0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Y0(t,function(){e++}),e},toArray:function(t){return Y0(t,function(e){return e})||[]},only:function(t){if(!eE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ut.Component=Sh;Ut.Fragment=qq;Ut.Profiler=Kq;Ut.PureComponent=XN;Ut.StrictMode=Wq;Ut.Suspense=Xq;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iW;Ut.act=PO;Ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_O({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ZN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)AO.call(e,l)&&!CO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pg,type:t.type,key:i,ref:s,props:r,_owner:o}};Ut.createContext=function(t){return t={$$typeof:Jq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gq,_context:t},t.Consumer=t};Ut.createElement=TO;Ut.createFactory=function(t){var e=TO.bind(null,t);return e.type=t,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(t){return{$$typeof:Yq,render:t}};Ut.isValidElement=eE;Ut.lazy=function(t){return{$$typeof:Zq,_payload:{_status:-1,_result:t},_init:rW}};Ut.memo=function(t,e){return{$$typeof:Qq,type:t,compare:e===void 0?null:e}};Ut.startTransition=function(t){var e=pv.transition;pv.transition={};try{t()}finally{pv.transition=e}};Ut.unstable_act=PO;Ut.useCallback=function(t,e){return ki.current.useCallback(t,e)};Ut.useContext=function(t){return ki.current.useContext(t)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(t){return ki.current.useDeferredValue(t)};Ut.useEffect=function(t,e){return ki.current.useEffect(t,e)};Ut.useId=function(){return ki.current.useId()};Ut.useImperativeHandle=function(t,e,n){return ki.current.useImperativeHandle(t,e,n)};Ut.useInsertionEffect=function(t,e){return ki.current.useInsertionEffect(t,e)};Ut.useLayoutEffect=function(t,e){return ki.current.useLayoutEffect(t,e)};Ut.useMemo=function(t,e){return ki.current.useMemo(t,e)};Ut.useReducer=function(t,e,n){return ki.current.useReducer(t,e,n)};Ut.useRef=function(t){return ki.current.useRef(t)};Ut.useState=function(t){return ki.current.useState(t)};Ut.useSyncExternalStore=function(t,e,n){return ki.current.useSyncExternalStore(t,e,n)};Ut.useTransition=function(){return ki.current.useTransition()};Ut.version="18.3.1";SO.exports=Ut;var $=SO.exports;const mi=Tg($),tE=wO({__proto__:null,default:mi},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sW=$,oW=Symbol.for("react.element"),aW=Symbol.for("react.fragment"),lW=Object.prototype.hasOwnProperty,cW=sW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uW={key:!0,ref:!0,__self:!0,__source:!0};function jO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lW.call(e,r)&&!uW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oW,type:t,key:s,ref:o,props:i,_owner:cW.current}}Bw.Fragment=aW;Bw.jsx=jO;Bw.jsxs=jO;bO.exports=Bw;var p=bO.exports,LO={exports:{}},ps={},RO={exports:{}},IO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,Y){var q=K.length;K.push(Y);e:for(;0<q;){var de=q-1>>>1,T=K[de];if(0<i(T,Y))K[de]=Y,K[q]=T,q=de;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Y=K[0],q=K.pop();if(q!==Y){K[0]=q;e:for(var de=0,T=K.length,R=T>>>1;de<R;){var J=2*(de+1)-1,ae=K[J],Q=J+1,O=K[Q];if(0>i(ae,q))Q<T&&0>i(O,ae)?(K[de]=O,K[Q]=q,de=Q):(K[de]=ae,K[J]=q,de=J);else if(Q<T&&0>i(O,q))K[de]=O,K[Q]=q,de=Q;else break e}}return Y}function i(K,Y){var q=K.sortIndex-Y.sortIndex;return q!==0?q:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=K)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function N(K){if(g=!1,b(K),!m)if(n(l)!==null)m=!0,pe(C);else{var Y=n(c);Y!==null&&re(N,Y.startTime-K)}}function C(K,Y){m=!1,g&&(g=!1,y(z),z=-1),f=!0;var q=h;try{for(b(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||K&&!W());){var de=d.callback;if(typeof de=="function"){d.callback=null,h=d.priorityLevel;var T=de(d.expirationTime<=Y);Y=t.unstable_now(),typeof T=="function"?d.callback=T:d===n(l)&&r(l),b(Y)}else r(l);d=n(l)}if(d!==null)var R=!0;else{var J=n(c);J!==null&&re(N,J.startTime-Y),R=!1}return R}finally{d=null,h=q,f=!1}}var M=!1,B=null,z=-1,F=5,G=-1;function W(){return!(t.unstable_now()-G<F)}function L(){if(B!==null){var K=t.unstable_now();G=K;var Y=!0;try{Y=B(!0,K)}finally{Y?V():(M=!1,B=null)}}else M=!1}var V;if(typeof w=="function")V=function(){w(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,te=E.port2;E.port1.onmessage=L,V=function(){te.postMessage(null)}}else V=function(){v(L,0)};function pe(K){B=K,M||(M=!0,V())}function re(K,Y){z=v(function(){K(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,pe(C))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var q=h;h=Y;try{return K()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var q=h;h=K;try{return Y()}finally{h=q}},t.unstable_scheduleCallback=function(K,Y,q){var de=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?de+q:de):q=de,K){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=q+T,K={id:u++,callback:Y,priorityLevel:K,startTime:q,expirationTime:T,sortIndex:-1},q>de?(K.sortIndex=q,e(c,K),n(l)===null&&K===n(c)&&(g?(y(z),z=-1):g=!0,re(N,q-de))):(K.sortIndex=T,e(l,K),m||f||(m=!0,pe(C))),K},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(K){var Y=h;return function(){var q=h;h=Y;try{return K.apply(this,arguments)}finally{h=q}}}})(IO);RO.exports=IO;var dW=RO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fW=$,ds=dW;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OO=new Set,Im={};function Uu(t,e){Gf(t,e),Gf(t+"Capture",e)}function Gf(t,e){for(Im[t]=e,t=0;t<e.length;t++)OO.add(e[t])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QS=Object.prototype.hasOwnProperty,hW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_4={},N4={};function pW(t){return QS.call(N4,t)?!0:QS.call(_4,t)?!1:hW.test(t)?N4[t]=!0:(_4[t]=!0,!1)}function mW(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gW(t,e,n,r){if(e===null||typeof e>"u"||mW(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _i(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new _i(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new _i(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new _i(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new _i(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new _i(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new _i(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new _i(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new _i(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new _i(t,5,!1,t.toLowerCase(),null,!1,!1)});var nE=/[\-:]([a-z])/g;function rE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nE,rE);zr[e]=new _i(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nE,rE);zr[e]=new _i(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nE,rE);zr[e]=new _i(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new _i(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new _i(t,1,!1,t.toLowerCase(),null,!0,!0)});function iE(t,e,n,r){var i=zr.hasOwnProperty(e)?zr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gW(e,n,i,r)&&(n=null),r||i===null?pW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xa=fW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X0=Symbol.for("react.element"),of=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),sE=Symbol.for("react.strict_mode"),ZS=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),DO=Symbol.for("react.context"),oE=Symbol.for("react.forward_ref"),ek=Symbol.for("react.suspense"),tk=Symbol.for("react.suspense_list"),aE=Symbol.for("react.memo"),Al=Symbol.for("react.lazy"),FO=Symbol.for("react.offscreen"),E4=Symbol.iterator;function wp(t){return t===null||typeof t!="object"?null:(t=E4&&t[E4]||t["@@iterator"],typeof t=="function"?t:null)}var Ln=Object.assign,Wb;function Up(t){if(Wb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wb=e&&e[1]||""}return`
`+Wb+t}var Kb=!1;function Gb(t,e){if(!t||Kb)return"";Kb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Kb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Up(t):""}function yW(t){switch(t.tag){case 5:return Up(t.type);case 16:return Up("Lazy");case 13:return Up("Suspense");case 19:return Up("SuspenseList");case 0:case 2:case 15:return t=Gb(t.type,!1),t;case 11:return t=Gb(t.type.render,!1),t;case 1:return t=Gb(t.type,!0),t;default:return""}}function nk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case af:return"Fragment";case of:return"Portal";case ZS:return"Profiler";case sE:return"StrictMode";case ek:return"Suspense";case tk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DO:return(t.displayName||"Context")+".Consumer";case MO:return(t._context.displayName||"Context")+".Provider";case oE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aE:return e=t.displayName||null,e!==null?e:nk(t.type)||"Memo";case Al:e=t._payload,t=t._init;try{return nk(t(e))}catch{}}return null}function vW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nk(e);case 8:return e===sE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wW(t){var e=BO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Q0(t){t._valueTracker||(t._valueTracker=wW(t))}function zO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rk(t,e){var n=e.checked;return Ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UO(t,e){e=e.checked,e!=null&&iE(t,"checked",e,!1)}function ik(t,e){UO(t,e);var n=oc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sk(t,e.type,n):e.hasOwnProperty("defaultValue")&&sk(t,e.type,oc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sk(t,e,n){(e!=="number"||Jv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $p=Array.isArray;function Nf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ok(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return Ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Je(92));if($p(n)){if(1<n.length)throw Error(Je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oc(n)}}function $O(t,e){var n=oc(e.value),r=oc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function P4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ak(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Z0,HO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Z0=Z0||document.createElement("div"),Z0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Z0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Om(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var em={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xW=["Webkit","ms","Moz","O"];Object.keys(em).forEach(function(t){xW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),em[e]=em[t]})});function qO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||em.hasOwnProperty(t)&&em[t]?(""+e).trim():e+"px"}function WO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bW=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lk(t,e){if(e){if(bW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function ck(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uk=null;function lE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dk=null,Ef=null,Af=null;function j4(t){if(t=Rg(t)){if(typeof dk!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=Hw(e),dk(t.stateNode,t.type,e))}}function KO(t){Ef?Af?Af.push(t):Af=[t]:Ef=t}function GO(){if(Ef){var t=Ef,e=Af;if(Af=Ef=null,j4(t),e)for(t=0;t<e.length;t++)j4(e[t])}}function JO(t,e){return t(e)}function YO(){}var Jb=!1;function XO(t,e,n){if(Jb)return t(e,n);Jb=!0;try{return JO(t,e,n)}finally{Jb=!1,(Ef!==null||Af!==null)&&(YO(),GO())}}function Mm(t,e){var n=t.stateNode;if(n===null)return null;var r=Hw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Je(231,e,typeof n));return n}var fk=!1;if(Va)try{var xp={};Object.defineProperty(xp,"passive",{get:function(){fk=!0}}),window.addEventListener("test",xp,xp),window.removeEventListener("test",xp,xp)}catch{fk=!1}function SW(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var tm=!1,Yv=null,Xv=!1,hk=null,kW={onError:function(t){tm=!0,Yv=t}};function _W(t,e,n,r,i,s,o,a,l){tm=!1,Yv=null,SW.apply(kW,arguments)}function NW(t,e,n,r,i,s,o,a,l){if(_W.apply(this,arguments),tm){if(tm){var c=Yv;tm=!1,Yv=null}else throw Error(Je(198));Xv||(Xv=!0,hk=c)}}function $u(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L4(t){if($u(t)!==t)throw Error(Je(188))}function EW(t){var e=t.alternate;if(!e){if(e=$u(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return L4(i),t;if(s===r)return L4(i),e;s=s.sibling}throw Error(Je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Je(189))}}if(n.alternate!==r)throw Error(Je(190))}if(n.tag!==3)throw Error(Je(188));return n.stateNode.current===n?t:e}function ZO(t){return t=EW(t),t!==null?eM(t):null}function eM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eM(t);if(e!==null)return e;t=t.sibling}return null}var tM=ds.unstable_scheduleCallback,R4=ds.unstable_cancelCallback,AW=ds.unstable_shouldYield,CW=ds.unstable_requestPaint,Jn=ds.unstable_now,TW=ds.unstable_getCurrentPriorityLevel,cE=ds.unstable_ImmediatePriority,nM=ds.unstable_UserBlockingPriority,Qv=ds.unstable_NormalPriority,PW=ds.unstable_LowPriority,rM=ds.unstable_IdlePriority,zw=null,Qo=null;function jW(t){if(Qo&&typeof Qo.onCommitFiberRoot=="function")try{Qo.onCommitFiberRoot(zw,t,void 0,(t.current.flags&128)===128)}catch{}}var xo=Math.clz32?Math.clz32:IW,LW=Math.log,RW=Math.LN2;function IW(t){return t>>>=0,t===0?32:31-(LW(t)/RW|0)|0}var ey=64,ty=4194304;function Vp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Vp(a):(s&=o,s!==0&&(r=Vp(s)))}else o=n&~i,o!==0?r=Vp(o):s!==0&&(r=Vp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xo(e),i=1<<n,r|=t[n],e&=~i;return r}function OW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=OW(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function pk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iM(){var t=ey;return ey<<=1,!(ey&4194240)&&(ey=64),t}function Yb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xo(e),t[e]=n}function DW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nn=0;function sM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oM,dE,aM,lM,cM,mk=!1,ny=[],Wl=null,Kl=null,Gl=null,Dm=new Map,Fm=new Map,Il=[],FW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I4(t,e){switch(t){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fm.delete(e.pointerId)}}function bp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rg(e),e!==null&&dE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BW(t,e,n,r,i){switch(e){case"focusin":return Wl=bp(Wl,t,e,n,r,i),!0;case"dragenter":return Kl=bp(Kl,t,e,n,r,i),!0;case"mouseover":return Gl=bp(Gl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dm.set(s,bp(Dm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fm.set(s,bp(Fm.get(s)||null,t,e,n,r,i)),!0}return!1}function uM(t){var e=au(t.target);if(e!==null){var n=$u(e);if(n!==null){if(e=n.tag,e===13){if(e=QO(n),e!==null){t.blockedOn=e,cM(t.priority,function(){aM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uk=r,n.target.dispatchEvent(r),uk=null}else return e=Rg(n),e!==null&&dE(e),t.blockedOn=n,!1;e.shift()}return!0}function O4(t,e,n){mv(t)&&n.delete(e)}function zW(){mk=!1,Wl!==null&&mv(Wl)&&(Wl=null),Kl!==null&&mv(Kl)&&(Kl=null),Gl!==null&&mv(Gl)&&(Gl=null),Dm.forEach(O4),Fm.forEach(O4)}function Sp(t,e){t.blockedOn===e&&(t.blockedOn=null,mk||(mk=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,zW)))}function Bm(t){function e(i){return Sp(i,t)}if(0<ny.length){Sp(ny[0],t);for(var n=1;n<ny.length;n++){var r=ny[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wl!==null&&Sp(Wl,t),Kl!==null&&Sp(Kl,t),Gl!==null&&Sp(Gl,t),Dm.forEach(e),Fm.forEach(e),n=0;n<Il.length;n++)r=Il[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)uM(n),n.blockedOn===null&&Il.shift()}var Cf=Xa.ReactCurrentBatchConfig,e1=!0;function UW(t,e,n,r){var i=nn,s=Cf.transition;Cf.transition=null;try{nn=1,fE(t,e,n,r)}finally{nn=i,Cf.transition=s}}function $W(t,e,n,r){var i=nn,s=Cf.transition;Cf.transition=null;try{nn=4,fE(t,e,n,r)}finally{nn=i,Cf.transition=s}}function fE(t,e,n,r){if(e1){var i=gk(t,e,n,r);if(i===null)o2(t,e,r,t1,n),I4(t,r);else if(BW(i,t,e,n,r))r.stopPropagation();else if(I4(t,r),e&4&&-1<FW.indexOf(t)){for(;i!==null;){var s=Rg(i);if(s!==null&&oM(s),s=gk(t,e,n,r),s===null&&o2(t,e,r,t1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else o2(t,e,r,null,n)}}var t1=null;function gk(t,e,n,r){if(t1=null,t=lE(r),t=au(t),t!==null)if(e=$u(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return t1=t,null}function dM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TW()){case cE:return 1;case nM:return 4;case Qv:case PW:return 16;case rM:return 536870912;default:return 16}default:return 16}}var Bl=null,hE=null,gv=null;function fM(){if(gv)return gv;var t,e=hE,n=e.length,r,i="value"in Bl?Bl.value:Bl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gv=i.slice(t,1<r?1-r:void 0)}function yv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ry(){return!0}function M4(){return!1}function ms(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ry:M4,this.isPropagationStopped=M4,this}return Ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ry)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ry)},persist:function(){},isPersistent:ry}),e}var kh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pE=ms(kh),Lg=Ln({},kh,{view:0,detail:0}),VW=ms(Lg),Xb,Qb,kp,Uw=Ln({},Lg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kp&&(kp&&t.type==="mousemove"?(Xb=t.screenX-kp.screenX,Qb=t.screenY-kp.screenY):Qb=Xb=0,kp=t),Xb)},movementY:function(t){return"movementY"in t?t.movementY:Qb}}),D4=ms(Uw),HW=Ln({},Uw,{dataTransfer:0}),qW=ms(HW),WW=Ln({},Lg,{relatedTarget:0}),Zb=ms(WW),KW=Ln({},kh,{animationName:0,elapsedTime:0,pseudoElement:0}),GW=ms(KW),JW=Ln({},kh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YW=ms(JW),XW=Ln({},kh,{data:0}),F4=ms(XW),QW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eK[t])?!!e[t]:!1}function mE(){return tK}var nK=Ln({},Lg,{key:function(t){if(t.key){var e=QW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mE,charCode:function(t){return t.type==="keypress"?yv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rK=ms(nK),iK=Ln({},Uw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B4=ms(iK),sK=Ln({},Lg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mE}),oK=ms(sK),aK=Ln({},kh,{propertyName:0,elapsedTime:0,pseudoElement:0}),lK=ms(aK),cK=Ln({},Uw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uK=ms(cK),dK=[9,13,27,32],gE=Va&&"CompositionEvent"in window,nm=null;Va&&"documentMode"in document&&(nm=document.documentMode);var fK=Va&&"TextEvent"in window&&!nm,hM=Va&&(!gE||nm&&8<nm&&11>=nm),z4=" ",U4=!1;function pM(t,e){switch(t){case"keyup":return dK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lf=!1;function hK(t,e){switch(t){case"compositionend":return mM(e);case"keypress":return e.which!==32?null:(U4=!0,z4);case"textInput":return t=e.data,t===z4&&U4?null:t;default:return null}}function pK(t,e){if(lf)return t==="compositionend"||!gE&&pM(t,e)?(t=fM(),gv=hE=Bl=null,lf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hM&&e.locale!=="ko"?null:e.data;default:return null}}var mK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mK[t.type]:e==="textarea"}function gM(t,e,n,r){KO(r),e=n1(e,"onChange"),0<e.length&&(n=new pE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rm=null,zm=null;function gK(t){AM(t,0)}function $w(t){var e=df(t);if(zO(e))return t}function yK(t,e){if(t==="change")return e}var yM=!1;if(Va){var e2;if(Va){var t2="oninput"in document;if(!t2){var V4=document.createElement("div");V4.setAttribute("oninput","return;"),t2=typeof V4.oninput=="function"}e2=t2}else e2=!1;yM=e2&&(!document.documentMode||9<document.documentMode)}function H4(){rm&&(rm.detachEvent("onpropertychange",vM),zm=rm=null)}function vM(t){if(t.propertyName==="value"&&$w(zm)){var e=[];gM(e,zm,t,lE(t)),XO(gK,e)}}function vK(t,e,n){t==="focusin"?(H4(),rm=e,zm=n,rm.attachEvent("onpropertychange",vM)):t==="focusout"&&H4()}function wK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $w(zm)}function xK(t,e){if(t==="click")return $w(e)}function bK(t,e){if(t==="input"||t==="change")return $w(e)}function SK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ko=typeof Object.is=="function"?Object.is:SK;function Um(t,e){if(ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!QS.call(e,i)||!ko(t[i],e[i]))return!1}return!0}function q4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W4(t,e){var n=q4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q4(n)}}function wM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xM(){for(var t=window,e=Jv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jv(t.document)}return e}function yE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kK(t){var e=xM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wM(n.ownerDocument.documentElement,n)){if(r!==null&&yE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=W4(n,s);var o=W4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _K=Va&&"documentMode"in document&&11>=document.documentMode,cf=null,yk=null,im=null,vk=!1;function K4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vk||cf==null||cf!==Jv(r)||(r=cf,"selectionStart"in r&&yE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),im&&Um(im,r)||(im=r,r=n1(yk,"onSelect"),0<r.length&&(e=new pE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cf)))}function iy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uf={animationend:iy("Animation","AnimationEnd"),animationiteration:iy("Animation","AnimationIteration"),animationstart:iy("Animation","AnimationStart"),transitionend:iy("Transition","TransitionEnd")},n2={},bM={};Va&&(bM=document.createElement("div").style,"AnimationEvent"in window||(delete uf.animationend.animation,delete uf.animationiteration.animation,delete uf.animationstart.animation),"TransitionEvent"in window||delete uf.transitionend.transition);function Vw(t){if(n2[t])return n2[t];if(!uf[t])return t;var e=uf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bM)return n2[t]=e[n];return t}var SM=Vw("animationend"),kM=Vw("animationiteration"),_M=Vw("animationstart"),NM=Vw("transitionend"),EM=new Map,G4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yc(t,e){EM.set(t,e),Uu(e,[t])}for(var r2=0;r2<G4.length;r2++){var i2=G4[r2],NK=i2.toLowerCase(),EK=i2[0].toUpperCase()+i2.slice(1);yc(NK,"on"+EK)}yc(SM,"onAnimationEnd");yc(kM,"onAnimationIteration");yc(_M,"onAnimationStart");yc("dblclick","onDoubleClick");yc("focusin","onFocus");yc("focusout","onBlur");yc(NM,"onTransitionEnd");Gf("onMouseEnter",["mouseout","mouseover"]);Gf("onMouseLeave",["mouseout","mouseover"]);Gf("onPointerEnter",["pointerout","pointerover"]);Gf("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hp));function J4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NW(r,e,void 0,t),t.currentTarget=null}function AM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;J4(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;J4(i,a,c),s=l}}}if(Xv)throw t=hk,Xv=!1,hk=null,t}function wn(t,e){var n=e[kk];n===void 0&&(n=e[kk]=new Set);var r=t+"__bubble";n.has(r)||(CM(e,t,2,!1),n.add(r))}function s2(t,e,n){var r=0;e&&(r|=4),CM(n,t,r,e)}var sy="_reactListening"+Math.random().toString(36).slice(2);function $m(t){if(!t[sy]){t[sy]=!0,OO.forEach(function(n){n!=="selectionchange"&&(AK.has(n)||s2(n,!1,t),s2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sy]||(e[sy]=!0,s2("selectionchange",!1,e))}}function CM(t,e,n,r){switch(dM(e)){case 1:var i=UW;break;case 4:i=$W;break;default:i=fE}n=i.bind(null,e,n,t),i=void 0,!fk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o2(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=au(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XO(function(){var c=s,u=lE(n),d=[];e:{var h=EM.get(t);if(h!==void 0){var f=pE,m=t;switch(t){case"keypress":if(yv(n)===0)break e;case"keydown":case"keyup":f=rK;break;case"focusin":m="focus",f=Zb;break;case"focusout":m="blur",f=Zb;break;case"beforeblur":case"afterblur":f=Zb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=D4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=qW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=oK;break;case SM:case kM:case _M:f=GW;break;case NM:f=lK;break;case"scroll":f=VW;break;case"wheel":f=uK;break;case"copy":case"cut":case"paste":f=YW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=B4}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,y!==null&&(N=Mm(w,y),N!=null&&g.push(Vm(w,N,b)))),v)break;w=w.return}0<g.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==uk&&(m=n.relatedTarget||n.fromElement)&&(au(m)||m[Ha]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?au(m):null,m!==null&&(v=$u(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=D4,N="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=B4,N="onPointerLeave",y="onPointerEnter",w="pointer"),v=f==null?h:df(f),b=m==null?h:df(m),h=new g(N,w+"leave",f,n,u),h.target=v,h.relatedTarget=b,N=null,au(u)===c&&(g=new g(y,w+"enter",m,n,u),g.target=b,g.relatedTarget=v,N=g),v=N,f&&m)t:{for(g=f,y=m,w=0,b=g;b;b=jd(b))w++;for(b=0,N=y;N;N=jd(N))b++;for(;0<w-b;)g=jd(g),w--;for(;0<b-w;)y=jd(y),b--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=jd(g),y=jd(y)}g=null}else g=null;f!==null&&Y4(d,h,f,g,!1),m!==null&&v!==null&&Y4(d,v,m,g,!0)}}e:{if(h=c?df(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=yK;else if($4(h))if(yM)C=bK;else{C=wK;var M=vK}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=xK);if(C&&(C=C(t,c))){gM(d,C,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&sk(h,"number",h.value)}switch(M=c?df(c):window,t){case"focusin":($4(M)||M.contentEditable==="true")&&(cf=M,yk=c,im=null);break;case"focusout":im=yk=cf=null;break;case"mousedown":vk=!0;break;case"contextmenu":case"mouseup":case"dragend":vk=!1,K4(d,n,u);break;case"selectionchange":if(_K)break;case"keydown":case"keyup":K4(d,n,u)}var B;if(gE)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else lf?pM(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(hM&&n.locale!=="ko"&&(lf||z!=="onCompositionStart"?z==="onCompositionEnd"&&lf&&(B=fM()):(Bl=u,hE="value"in Bl?Bl.value:Bl.textContent,lf=!0)),M=n1(c,z),0<M.length&&(z=new F4(z,t,null,n,u),d.push({event:z,listeners:M}),B?z.data=B:(B=mM(n),B!==null&&(z.data=B)))),(B=fK?hK(t,n):pK(t,n))&&(c=n1(c,"onBeforeInput"),0<c.length&&(u=new F4("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=B))}AM(d,e)})}function Vm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function n1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mm(t,n),s!=null&&r.unshift(Vm(t,s,i)),s=Mm(t,e),s!=null&&r.push(Vm(t,s,i))),t=t.return}return r}function jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Y4(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Mm(n,s),l!=null&&o.unshift(Vm(n,l,a))):i||(l=Mm(n,s),l!=null&&o.push(Vm(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CK=/\r\n?/g,TK=/\u0000|\uFFFD/g;function X4(t){return(typeof t=="string"?t:""+t).replace(CK,`
`).replace(TK,"")}function oy(t,e,n){if(e=X4(e),X4(t)!==e&&n)throw Error(Je(425))}function r1(){}var wk=null,xk=null;function bk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sk=typeof setTimeout=="function"?setTimeout:void 0,PK=typeof clearTimeout=="function"?clearTimeout:void 0,Q4=typeof Promise=="function"?Promise:void 0,jK=typeof queueMicrotask=="function"?queueMicrotask:typeof Q4<"u"?function(t){return Q4.resolve(null).then(t).catch(LK)}:Sk;function LK(t){setTimeout(function(){throw t})}function a2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bm(e)}function Jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _h=Math.random().toString(36).slice(2),Go="__reactFiber$"+_h,Hm="__reactProps$"+_h,Ha="__reactContainer$"+_h,kk="__reactEvents$"+_h,RK="__reactListeners$"+_h,IK="__reactHandles$"+_h;function au(t){var e=t[Go];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ha]||n[Go]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Z4(t);t!==null;){if(n=t[Go])return n;t=Z4(t)}return e}t=n,n=t.parentNode}return null}function Rg(t){return t=t[Go]||t[Ha],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function df(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function Hw(t){return t[Hm]||null}var _k=[],ff=-1;function vc(t){return{current:t}}function Sn(t){0>ff||(t.current=_k[ff],_k[ff]=null,ff--)}function yn(t,e){ff++,_k[ff]=t.current,t.current=e}var ac={},si=vc(ac),Fi=vc(!1),Tu=ac;function Jf(t,e){var n=t.type.contextTypes;if(!n)return ac;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bi(t){return t=t.childContextTypes,t!=null}function i1(){Sn(Fi),Sn(si)}function e3(t,e,n){if(si.current!==ac)throw Error(Je(168));yn(si,e),yn(Fi,n)}function TM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Je(108,vW(t)||"Unknown",i));return Ln({},n,r)}function s1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ac,Tu=si.current,yn(si,t),yn(Fi,Fi.current),!0}function t3(t,e,n){var r=t.stateNode;if(!r)throw Error(Je(169));n?(t=TM(t,e,Tu),r.__reactInternalMemoizedMergedChildContext=t,Sn(Fi),Sn(si),yn(si,t)):Sn(Fi),yn(Fi,n)}var La=null,qw=!1,l2=!1;function PM(t){La===null?La=[t]:La.push(t)}function OK(t){qw=!0,PM(t)}function wc(){if(!l2&&La!==null){l2=!0;var t=0,e=nn;try{var n=La;for(nn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}La=null,qw=!1}catch(i){throw La!==null&&(La=La.slice(t+1)),tM(cE,wc),i}finally{nn=e,l2=!1}}return null}var hf=[],pf=0,o1=null,a1=0,js=[],Ls=0,Pu=null,Ia=1,Oa="";function Yc(t,e){hf[pf++]=a1,hf[pf++]=o1,o1=t,a1=e}function jM(t,e,n){js[Ls++]=Ia,js[Ls++]=Oa,js[Ls++]=Pu,Pu=t;var r=Ia;t=Oa;var i=32-xo(r)-1;r&=~(1<<i),n+=1;var s=32-xo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ia=1<<32-xo(e)+i|n<<i|r,Oa=s+t}else Ia=1<<s|n<<i|r,Oa=t}function vE(t){t.return!==null&&(Yc(t,1),jM(t,1,0))}function wE(t){for(;t===o1;)o1=hf[--pf],hf[pf]=null,a1=hf[--pf],hf[pf]=null;for(;t===Pu;)Pu=js[--Ls],js[Ls]=null,Oa=js[--Ls],js[Ls]=null,Ia=js[--Ls],js[Ls]=null}var ss=null,rs=null,Nn=!1,mo=null;function LM(t,e){var n=Ds(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ss=t,rs=Jl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ss=t,rs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pu!==null?{id:Ia,overflow:Oa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ds(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ss=t,rs=null,!0):!1;default:return!1}}function Nk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ek(t){if(Nn){var e=rs;if(e){var n=e;if(!n3(t,e)){if(Nk(t))throw Error(Je(418));e=Jl(n.nextSibling);var r=ss;e&&n3(t,e)?LM(r,n):(t.flags=t.flags&-4097|2,Nn=!1,ss=t)}}else{if(Nk(t))throw Error(Je(418));t.flags=t.flags&-4097|2,Nn=!1,ss=t}}}function r3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ss=t}function ay(t){if(t!==ss)return!1;if(!Nn)return r3(t),Nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bk(t.type,t.memoizedProps)),e&&(e=rs)){if(Nk(t))throw RM(),Error(Je(418));for(;e;)LM(t,e),e=Jl(e.nextSibling)}if(r3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rs=Jl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rs=null}}else rs=ss?Jl(t.stateNode.nextSibling):null;return!0}function RM(){for(var t=rs;t;)t=Jl(t.nextSibling)}function Yf(){rs=ss=null,Nn=!1}function xE(t){mo===null?mo=[t]:mo.push(t)}var MK=Xa.ReactCurrentBatchConfig;function _p(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Je(309));var r=n.stateNode}if(!r)throw Error(Je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Je(284));if(!n._owner)throw Error(Je(290,t))}return t}function ly(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i3(t){var e=t._init;return e(t._payload)}function IM(t){function e(y,w){if(t){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Zl(y,w),y.index=0,y.sibling=null,y}function s(y,w,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,b,N){return w===null||w.tag!==6?(w=m2(b,y.mode,N),w.return=y,w):(w=i(w,b),w.return=y,w)}function l(y,w,b,N){var C=b.type;return C===af?u(y,w,b.props.children,N,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Al&&i3(C)===w.type)?(N=i(w,b.props),N.ref=_p(y,w,b),N.return=y,N):(N=_v(b.type,b.key,b.props,null,y.mode,N),N.ref=_p(y,w,b),N.return=y,N)}function c(y,w,b,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=g2(b,y.mode,N),w.return=y,w):(w=i(w,b.children||[]),w.return=y,w)}function u(y,w,b,N,C){return w===null||w.tag!==7?(w=wu(b,y.mode,N,C),w.return=y,w):(w=i(w,b),w.return=y,w)}function d(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=m2(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case X0:return b=_v(w.type,w.key,w.props,null,y.mode,b),b.ref=_p(y,null,w),b.return=y,b;case of:return w=g2(w,y.mode,b),w.return=y,w;case Al:var N=w._init;return d(y,N(w._payload),b)}if($p(w)||wp(w))return w=wu(w,y.mode,b,null),w.return=y,w;ly(y,w)}return null}function h(y,w,b,N){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(y,w,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case X0:return b.key===C?l(y,w,b,N):null;case of:return b.key===C?c(y,w,b,N):null;case Al:return C=b._init,h(y,w,C(b._payload),N)}if($p(b)||wp(b))return C!==null?null:u(y,w,b,N,null);ly(y,b)}return null}function f(y,w,b,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(b)||null,a(w,y,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case X0:return y=y.get(N.key===null?b:N.key)||null,l(w,y,N,C);case of:return y=y.get(N.key===null?b:N.key)||null,c(w,y,N,C);case Al:var M=N._init;return f(y,w,b,M(N._payload),C)}if($p(N)||wp(N))return y=y.get(b)||null,u(w,y,N,C,null);ly(w,N)}return null}function m(y,w,b,N){for(var C=null,M=null,B=w,z=w=0,F=null;B!==null&&z<b.length;z++){B.index>z?(F=B,B=null):F=B.sibling;var G=h(y,B,b[z],N);if(G===null){B===null&&(B=F);break}t&&B&&G.alternate===null&&e(y,B),w=s(G,w,z),M===null?C=G:M.sibling=G,M=G,B=F}if(z===b.length)return n(y,B),Nn&&Yc(y,z),C;if(B===null){for(;z<b.length;z++)B=d(y,b[z],N),B!==null&&(w=s(B,w,z),M===null?C=B:M.sibling=B,M=B);return Nn&&Yc(y,z),C}for(B=r(y,B);z<b.length;z++)F=f(B,y,z,b[z],N),F!==null&&(t&&F.alternate!==null&&B.delete(F.key===null?z:F.key),w=s(F,w,z),M===null?C=F:M.sibling=F,M=F);return t&&B.forEach(function(W){return e(y,W)}),Nn&&Yc(y,z),C}function g(y,w,b,N){var C=wp(b);if(typeof C!="function")throw Error(Je(150));if(b=C.call(b),b==null)throw Error(Je(151));for(var M=C=null,B=w,z=w=0,F=null,G=b.next();B!==null&&!G.done;z++,G=b.next()){B.index>z?(F=B,B=null):F=B.sibling;var W=h(y,B,G.value,N);if(W===null){B===null&&(B=F);break}t&&B&&W.alternate===null&&e(y,B),w=s(W,w,z),M===null?C=W:M.sibling=W,M=W,B=F}if(G.done)return n(y,B),Nn&&Yc(y,z),C;if(B===null){for(;!G.done;z++,G=b.next())G=d(y,G.value,N),G!==null&&(w=s(G,w,z),M===null?C=G:M.sibling=G,M=G);return Nn&&Yc(y,z),C}for(B=r(y,B);!G.done;z++,G=b.next())G=f(B,y,z,G.value,N),G!==null&&(t&&G.alternate!==null&&B.delete(G.key===null?z:G.key),w=s(G,w,z),M===null?C=G:M.sibling=G,M=G);return t&&B.forEach(function(L){return e(y,L)}),Nn&&Yc(y,z),C}function v(y,w,b,N){if(typeof b=="object"&&b!==null&&b.type===af&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case X0:e:{for(var C=b.key,M=w;M!==null;){if(M.key===C){if(C=b.type,C===af){if(M.tag===7){n(y,M.sibling),w=i(M,b.props.children),w.return=y,y=w;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Al&&i3(C)===M.type){n(y,M.sibling),w=i(M,b.props),w.ref=_p(y,M,b),w.return=y,y=w;break e}n(y,M);break}else e(y,M);M=M.sibling}b.type===af?(w=wu(b.props.children,y.mode,N,b.key),w.return=y,y=w):(N=_v(b.type,b.key,b.props,null,y.mode,N),N.ref=_p(y,w,b),N.return=y,y=N)}return o(y);case of:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=i(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=g2(b,y.mode,N),w.return=y,y=w}return o(y);case Al:return M=b._init,v(y,w,M(b._payload),N)}if($p(b))return m(y,w,b,N);if(wp(b))return g(y,w,b,N);ly(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,b),w.return=y,y=w):(n(y,w),w=m2(b,y.mode,N),w.return=y,y=w),o(y)):n(y,w)}return v}var Xf=IM(!0),OM=IM(!1),l1=vc(null),c1=null,mf=null,bE=null;function SE(){bE=mf=c1=null}function kE(t){var e=l1.current;Sn(l1),t._currentValue=e}function Ak(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tf(t,e){c1=t,bE=mf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Di=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(bE!==t)if(t={context:t,memoizedValue:e,next:null},mf===null){if(c1===null)throw Error(Je(308));mf=t,c1.dependencies={lanes:0,firstContext:t}}else mf=mf.next=t;return e}var lu=null;function _E(t){lu===null?lu=[t]:lu.push(t)}function MM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_E(e)):(n.next=i.next,i.next=n),e.interleaved=n,qa(t,r)}function qa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cl=!1;function NE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qa(t,n)}return i=r.interleaved,i===null?(e.next=e,_E(r)):(e.next=i.next,i.next=e),r.interleaved=e,qa(t,n)}function vv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uE(t,n)}}function s3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function u1(t,e,n,r){var i=t.updateQueue;Cl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,f=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Ln({},d,h);break e;case 2:Cl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Lu|=o,t.lanes=o,t.memoizedState=d}}function o3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Je(191,i));i.call(r)}}}var Ig={},Zo=vc(Ig),qm=vc(Ig),Wm=vc(Ig);function cu(t){if(t===Ig)throw Error(Je(174));return t}function EE(t,e){switch(yn(Wm,e),yn(qm,t),yn(Zo,Ig),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ak(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ak(e,t)}Sn(Zo),yn(Zo,e)}function Qf(){Sn(Zo),Sn(qm),Sn(Wm)}function FM(t){cu(Wm.current);var e=cu(Zo.current),n=ak(e,t.type);e!==n&&(yn(qm,t),yn(Zo,n))}function AE(t){qm.current===t&&(Sn(Zo),Sn(qm))}var Cn=vc(0);function d1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c2=[];function CE(){for(var t=0;t<c2.length;t++)c2[t]._workInProgressVersionPrimary=null;c2.length=0}var wv=Xa.ReactCurrentDispatcher,u2=Xa.ReactCurrentBatchConfig,ju=0,jn=null,yr=null,kr=null,f1=!1,sm=!1,Km=0,DK=0;function Vr(){throw Error(Je(321))}function TE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ko(t[n],e[n]))return!1;return!0}function PE(t,e,n,r,i,s){if(ju=s,jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wv.current=t===null||t.memoizedState===null?UK:$K,t=n(r,i),sm){s=0;do{if(sm=!1,Km=0,25<=s)throw Error(Je(301));s+=1,kr=yr=null,e.updateQueue=null,wv.current=VK,t=n(r,i)}while(sm)}if(wv.current=h1,e=yr!==null&&yr.next!==null,ju=0,kr=yr=jn=null,f1=!1,e)throw Error(Je(300));return t}function jE(){var t=Km!==0;return Km=0,t}function zo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?jn.memoizedState=kr=t:kr=kr.next=t,kr}function Hs(){if(yr===null){var t=jn.alternate;t=t!==null?t.memoizedState:null}else t=yr.next;var e=kr===null?jn.memoizedState:kr.next;if(e!==null)kr=e,yr=t;else{if(t===null)throw Error(Je(310));yr=t,t={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},kr===null?jn.memoizedState=kr=t:kr=kr.next=t}return kr}function Gm(t,e){return typeof e=="function"?e(t):e}function d2(t){var e=Hs(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=yr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ju&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,jn.lanes|=u,Lu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ko(r,e.memoizedState)||(Di=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,jn.lanes|=s,Lu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function f2(t){var e=Hs(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ko(s,e.memoizedState)||(Di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function BM(){}function zM(t,e){var n=jn,r=Hs(),i=e(),s=!ko(r.memoizedState,i);if(s&&(r.memoizedState=i,Di=!0),r=r.queue,LE(VM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kr!==null&&kr.memoizedState.tag&1){if(n.flags|=2048,Jm(9,$M.bind(null,n,r,i,e),void 0,null),Er===null)throw Error(Je(349));ju&30||UM(n,e,i)}return i}function UM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $M(t,e,n,r){e.value=n,e.getSnapshot=r,HM(e)&&qM(t)}function VM(t,e,n){return n(function(){HM(e)&&qM(t)})}function HM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ko(t,n)}catch{return!0}}function qM(t){var e=qa(t,1);e!==null&&bo(e,t,1,-1)}function a3(t){var e=zo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:t},e.queue=t,t=t.dispatch=zK.bind(null,jn,t),[e.memoizedState,t]}function Jm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WM(){return Hs().memoizedState}function xv(t,e,n,r){var i=zo();jn.flags|=t,i.memoizedState=Jm(1|e,n,void 0,r===void 0?null:r)}function Ww(t,e,n,r){var i=Hs();r=r===void 0?null:r;var s=void 0;if(yr!==null){var o=yr.memoizedState;if(s=o.destroy,r!==null&&TE(r,o.deps)){i.memoizedState=Jm(e,n,s,r);return}}jn.flags|=t,i.memoizedState=Jm(1|e,n,s,r)}function l3(t,e){return xv(8390656,8,t,e)}function LE(t,e){return Ww(2048,8,t,e)}function KM(t,e){return Ww(4,2,t,e)}function GM(t,e){return Ww(4,4,t,e)}function JM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YM(t,e,n){return n=n!=null?n.concat([t]):null,Ww(4,4,JM.bind(null,e,t),n)}function RE(){}function XM(t,e){var n=Hs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QM(t,e){var n=Hs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZM(t,e,n){return ju&21?(ko(n,e)||(n=iM(),jn.lanes|=n,Lu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Di=!0),t.memoizedState=n)}function FK(t,e){var n=nn;nn=n!==0&&4>n?n:4,t(!0);var r=u2.transition;u2.transition={};try{t(!1),e()}finally{nn=n,u2.transition=r}}function eD(){return Hs().memoizedState}function BK(t,e,n){var r=Ql(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tD(t))nD(e,n);else if(n=MM(t,e,n,r),n!==null){var i=wi();bo(n,t,r,i),rD(n,e,r)}}function zK(t,e,n){var r=Ql(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tD(t))nD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ko(a,o)){var l=e.interleaved;l===null?(i.next=i,_E(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MM(t,e,i,r),n!==null&&(i=wi(),bo(n,t,r,i),rD(n,e,r))}}function tD(t){var e=t.alternate;return t===jn||e!==null&&e===jn}function nD(t,e){sm=f1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uE(t,n)}}var h1={readContext:Vs,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},UK={readContext:Vs,useCallback:function(t,e){return zo().memoizedState=[t,e===void 0?null:e],t},useContext:Vs,useEffect:l3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xv(4194308,4,JM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xv(4194308,4,t,e)},useInsertionEffect:function(t,e){return xv(4,2,t,e)},useMemo:function(t,e){var n=zo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BK.bind(null,jn,t),[r.memoizedState,t]},useRef:function(t){var e=zo();return t={current:t},e.memoizedState=t},useState:a3,useDebugValue:RE,useDeferredValue:function(t){return zo().memoizedState=t},useTransition:function(){var t=a3(!1),e=t[0];return t=FK.bind(null,t[1]),zo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jn,i=zo();if(Nn){if(n===void 0)throw Error(Je(407));n=n()}else{if(n=e(),Er===null)throw Error(Je(349));ju&30||UM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,l3(VM.bind(null,r,s,t),[t]),r.flags|=2048,Jm(9,$M.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zo(),e=Er.identifierPrefix;if(Nn){var n=Oa,r=Ia;n=(r&~(1<<32-xo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Km++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$K={readContext:Vs,useCallback:XM,useContext:Vs,useEffect:LE,useImperativeHandle:YM,useInsertionEffect:KM,useLayoutEffect:GM,useMemo:QM,useReducer:d2,useRef:WM,useState:function(){return d2(Gm)},useDebugValue:RE,useDeferredValue:function(t){var e=Hs();return ZM(e,yr.memoizedState,t)},useTransition:function(){var t=d2(Gm)[0],e=Hs().memoizedState;return[t,e]},useMutableSource:BM,useSyncExternalStore:zM,useId:eD,unstable_isNewReconciler:!1},VK={readContext:Vs,useCallback:XM,useContext:Vs,useEffect:LE,useImperativeHandle:YM,useInsertionEffect:KM,useLayoutEffect:GM,useMemo:QM,useReducer:f2,useRef:WM,useState:function(){return f2(Gm)},useDebugValue:RE,useDeferredValue:function(t){var e=Hs();return yr===null?e.memoizedState=t:ZM(e,yr.memoizedState,t)},useTransition:function(){var t=f2(Gm)[0],e=Hs().memoizedState;return[t,e]},useMutableSource:BM,useSyncExternalStore:zM,useId:eD,unstable_isNewReconciler:!1};function co(t,e){if(t&&t.defaultProps){e=Ln({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ck(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ln({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kw={isMounted:function(t){return(t=t._reactInternals)?$u(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wi(),i=Ql(t),s=Fa(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yl(t,s,i),e!==null&&(bo(e,t,i,r),vv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wi(),i=Ql(t),s=Fa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yl(t,s,i),e!==null&&(bo(e,t,i,r),vv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wi(),r=Ql(t),i=Fa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yl(t,i,r),e!==null&&(bo(e,t,r,n),vv(e,t,r))}};function c3(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Um(n,r)||!Um(i,s):!0}function iD(t,e,n){var r=!1,i=ac,s=e.contextType;return typeof s=="object"&&s!==null?s=Vs(s):(i=Bi(e)?Tu:si.current,r=e.contextTypes,s=(r=r!=null)?Jf(t,i):ac),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function u3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kw.enqueueReplaceState(e,e.state,null)}function Tk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},NE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vs(s):(s=Bi(e)?Tu:si.current,i.context=Jf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ck(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kw.enqueueReplaceState(i,i.state,null),u1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zf(t,e){try{var n="",r=e;do n+=yW(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function h2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HK=typeof WeakMap=="function"?WeakMap:Map;function sD(t,e,n){n=Fa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){m1||(m1=!0,zk=r),Pk(t,e)},n}function oD(t,e,n){n=Fa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pk(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pk(t,e),typeof r!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function d3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iG.bind(null,t,e,n),e.then(t,t))}function f3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fa(-1,1),e.tag=2,Yl(n,e,1))),n.lanes|=1),t)}var qK=Xa.ReactCurrentOwner,Di=!1;function pi(t,e,n,r){e.child=t===null?OM(e,null,n,r):Xf(e,t.child,n,r)}function p3(t,e,n,r,i){n=n.render;var s=e.ref;return Tf(e,i),r=PE(t,e,n,r,s,i),n=jE(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wa(t,e,i)):(Nn&&n&&vE(e),e.flags|=1,pi(t,e,r,i),e.child)}function m3(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!UE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aD(t,e,s,r,i)):(t=_v(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Um,n(o,r)&&t.ref===e.ref)return Wa(t,e,i)}return e.flags|=1,t=Zl(s,r),t.ref=e.ref,t.return=e,e.child=t}function aD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Um(s,r)&&t.ref===e.ref)if(Di=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Di=!0);else return e.lanes=t.lanes,Wa(t,e,i)}return jk(t,e,n,r,i)}function lD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(yf,Qi),Qi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(yf,Qi),Qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(yf,Qi),Qi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(yf,Qi),Qi|=r;return pi(t,e,i,n),e.child}function cD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jk(t,e,n,r,i){var s=Bi(n)?Tu:si.current;return s=Jf(e,s),Tf(e,i),n=PE(t,e,n,r,s,i),r=jE(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wa(t,e,i)):(Nn&&r&&vE(e),e.flags|=1,pi(t,e,n,i),e.child)}function g3(t,e,n,r,i){if(Bi(n)){var s=!0;s1(e)}else s=!1;if(Tf(e,i),e.stateNode===null)bv(t,e),iD(e,n,r),Tk(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vs(c):(c=Bi(n)?Tu:si.current,c=Jf(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&u3(e,o,r,c),Cl=!1;var h=e.memoizedState;o.state=h,u1(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Fi.current||Cl?(typeof u=="function"&&(Ck(e,n,u,r),l=e.memoizedState),(a=Cl||c3(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:co(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vs(l):(l=Bi(n)?Tu:si.current,l=Jf(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&u3(e,o,r,l),Cl=!1,h=e.memoizedState,o.state=h,u1(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Fi.current||Cl?(typeof f=="function"&&(Ck(e,n,f,r),m=e.memoizedState),(c=Cl||c3(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Lk(t,e,n,r,s,i)}function Lk(t,e,n,r,i,s){cD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&t3(e,n,!1),Wa(t,e,s);r=e.stateNode,qK.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xf(e,t.child,null,s),e.child=Xf(e,null,a,s)):pi(t,e,a,s),e.memoizedState=r.state,i&&t3(e,n,!0),e.child}function uD(t){var e=t.stateNode;e.pendingContext?e3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e3(t,e.context,!1),EE(t,e.containerInfo)}function y3(t,e,n,r,i){return Yf(),xE(i),e.flags|=256,pi(t,e,n,r),e.child}var Rk={dehydrated:null,treeContext:null,retryLane:0};function Ik(t){return{baseLanes:t,cachePool:null,transitions:null}}function dD(t,e,n){var r=e.pendingProps,i=Cn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(Cn,i&1),t===null)return Ek(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yw(o,r,0,null),t=wu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ik(n),e.memoizedState=Rk,t):IE(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WK(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zl(a,s):(s=wu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ik(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rk,r}return s=t.child,t=s.sibling,r=Zl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function IE(t,e){return e=Yw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cy(t,e,n,r){return r!==null&&xE(r),Xf(e,t.child,null,n),t=IE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WK(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=h2(Error(Je(422))),cy(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yw({mode:"visible",children:r.children},i,0,null),s=wu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xf(e,t.child,null,o),e.child.memoizedState=Ik(o),e.memoizedState=Rk,s);if(!(e.mode&1))return cy(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Je(419)),r=h2(s,r,void 0),cy(t,e,o,r)}if(a=(o&t.childLanes)!==0,Di||a){if(r=Er,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qa(t,i),bo(r,t,i,-1))}return zE(),r=h2(Error(Je(421))),cy(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rs=Jl(i.nextSibling),ss=e,Nn=!0,mo=null,t!==null&&(js[Ls++]=Ia,js[Ls++]=Oa,js[Ls++]=Pu,Ia=t.id,Oa=t.overflow,Pu=e),e=IE(e,r.children),e.flags|=4096,e)}function v3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ak(t.return,e,n)}function p2(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pi(t,e,r.children,n),r=Cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v3(t,n,e);else if(t.tag===19)v3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(Cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&d1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),p2(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&d1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}p2(e,!0,n,null,s);break;case"together":p2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,n=Zl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KK(t,e,n){switch(e.tag){case 3:uD(e),Yf();break;case 5:FM(e);break;case 1:Bi(e.type)&&s1(e);break;case 4:EE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(l1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(Cn,Cn.current&1),e.flags|=128,null):n&e.child.childLanes?dD(t,e,n):(yn(Cn,Cn.current&1),t=Wa(t,e,n),t!==null?t.sibling:null);yn(Cn,Cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(Cn,Cn.current),r)break;return null;case 22:case 23:return e.lanes=0,lD(t,e,n)}return Wa(t,e,n)}var hD,Ok,pD,mD;hD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ok=function(){};pD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cu(Zo.current);var s=null;switch(n){case"input":i=rk(t,i),r=rk(t,r),s=[];break;case"select":i=Ln({},i,{value:void 0}),r=Ln({},r,{value:void 0}),s=[];break;case"textarea":i=ok(t,i),r=ok(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=r1)}lk(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Im.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Im.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};mD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Np(t,e){if(!Nn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GK(t,e,n){var r=e.pendingProps;switch(wE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return Bi(e.type)&&i1(),Hr(e),null;case 3:return r=e.stateNode,Qf(),Sn(Fi),Sn(si),CE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ay(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mo!==null&&(Vk(mo),mo=null))),Ok(t,e),Hr(e),null;case 5:AE(e);var i=cu(Wm.current);if(n=e.type,t!==null&&e.stateNode!=null)pD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Je(166));return Hr(e),null}if(t=cu(Zo.current),ay(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Go]=e,r[Hm]=s,t=(e.mode&1)!==0,n){case"dialog":wn("cancel",r),wn("close",r);break;case"iframe":case"object":case"embed":wn("load",r);break;case"video":case"audio":for(i=0;i<Hp.length;i++)wn(Hp[i],r);break;case"source":wn("error",r);break;case"img":case"image":case"link":wn("error",r),wn("load",r);break;case"details":wn("toggle",r);break;case"input":A4(r,s),wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wn("invalid",r);break;case"textarea":T4(r,s),wn("invalid",r)}lk(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oy(r.textContent,a,t),i=["children",""+a]):Im.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wn("scroll",r)}switch(n){case"input":Q0(r),C4(r,s,!0);break;case"textarea":Q0(r),P4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=r1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Go]=e,t[Hm]=r,hD(t,e,!1,!1),e.stateNode=t;e:{switch(o=ck(n,r),n){case"dialog":wn("cancel",t),wn("close",t),i=r;break;case"iframe":case"object":case"embed":wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hp.length;i++)wn(Hp[i],t);i=r;break;case"source":wn("error",t),i=r;break;case"img":case"image":case"link":wn("error",t),wn("load",t),i=r;break;case"details":wn("toggle",t),i=r;break;case"input":A4(t,r),i=rk(t,r),wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ln({},r,{value:void 0}),wn("invalid",t);break;case"textarea":T4(t,r),i=ok(t,r),wn("invalid",t);break;default:i=r}lk(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?WO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HO(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Om(t,l):typeof l=="number"&&Om(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Im.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wn("scroll",t):l!=null&&iE(t,s,l,o))}switch(n){case"input":Q0(t),C4(t,r,!1);break;case"textarea":Q0(t),P4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=r1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)mD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Je(166));if(n=cu(Wm.current),cu(Zo.current),ay(e)){if(r=e.stateNode,n=e.memoizedProps,r[Go]=e,(s=r.nodeValue!==n)&&(t=ss,t!==null))switch(t.tag){case 3:oy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Go]=e,e.stateNode=r}return Hr(e),null;case 13:if(Sn(Cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nn&&rs!==null&&e.mode&1&&!(e.flags&128))RM(),Yf(),e.flags|=98560,s=!1;else if(s=ay(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Je(317));s[Go]=e}else Yf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),s=!1}else mo!==null&&(Vk(mo),mo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Cn.current&1?vr===0&&(vr=3):zE())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return Qf(),Ok(t,e),t===null&&$m(e.stateNode.containerInfo),Hr(e),null;case 10:return kE(e.type._context),Hr(e),null;case 17:return Bi(e.type)&&i1(),Hr(e),null;case 19:if(Sn(Cn),s=e.memoizedState,s===null)return Hr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Np(s,!1);else{if(vr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=d1(t),o!==null){for(e.flags|=128,Np(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(Cn,Cn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jn()>eh&&(e.flags|=128,r=!0,Np(s,!1),e.lanes=4194304)}else{if(!r)if(t=d1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Np(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Nn)return Hr(e),null}else 2*Jn()-s.renderingStartTime>eh&&n!==1073741824&&(e.flags|=128,r=!0,Np(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jn(),e.sibling=null,n=Cn.current,yn(Cn,r?n&1|2:n&1),e):(Hr(e),null);case 22:case 23:return BE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qi&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function JK(t,e){switch(wE(e),e.tag){case 1:return Bi(e.type)&&i1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qf(),Sn(Fi),Sn(si),CE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AE(e),null;case 13:if(Sn(Cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));Yf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Cn),null;case 4:return Qf(),null;case 10:return kE(e.type._context),null;case 22:case 23:return BE(),null;case 24:return null;default:return null}}var uy=!1,Qr=!1,YK=typeof WeakSet=="function"?WeakSet:Set,it=null;function gf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zn(t,e,r)}else n.current=null}function Mk(t,e,n){try{n()}catch(r){zn(t,e,r)}}var w3=!1;function XK(t,e){if(wk=e1,t=xM(),yE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xk={focusedElem:t,selectionRange:n},e1=!1,it=e;it!==null;)if(e=it,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,it=t;else for(;it!==null;){e=it;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:co(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(N){zn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}return m=w3,w3=!1,m}function om(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mk(e,n,s)}i=i.next}while(i!==r)}}function Gw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gD(t){var e=t.alternate;e!==null&&(t.alternate=null,gD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Go],delete e[Hm],delete e[kk],delete e[RK],delete e[IK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yD(t){return t.tag===5||t.tag===3||t.tag===4}function x3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=r1));else if(r!==4&&(t=t.child,t!==null))for(Fk(t,e,n),t=t.sibling;t!==null;)Fk(t,e,n),t=t.sibling}function Bk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bk(t,e,n),t=t.sibling;t!==null;)Bk(t,e,n),t=t.sibling}var Rr=null,ho=!1;function ml(t,e,n){for(n=n.child;n!==null;)vD(t,e,n),n=n.sibling}function vD(t,e,n){if(Qo&&typeof Qo.onCommitFiberUnmount=="function")try{Qo.onCommitFiberUnmount(zw,n)}catch{}switch(n.tag){case 5:Qr||gf(n,e);case 6:var r=Rr,i=ho;Rr=null,ml(t,e,n),Rr=r,ho=i,Rr!==null&&(ho?(t=Rr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(ho?(t=Rr,n=n.stateNode,t.nodeType===8?a2(t.parentNode,n):t.nodeType===1&&a2(t,n),Bm(t)):a2(Rr,n.stateNode));break;case 4:r=Rr,i=ho,Rr=n.stateNode.containerInfo,ho=!0,ml(t,e,n),Rr=r,ho=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mk(n,e,o),i=i.next}while(i!==r)}ml(t,e,n);break;case 1:if(!Qr&&(gf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){zn(n,e,a)}ml(t,e,n);break;case 21:ml(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,ml(t,e,n),Qr=r):ml(t,e,n);break;default:ml(t,e,n)}}function b3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YK),e.forEach(function(r){var i=oG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function no(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,ho=!1;break e;case 3:Rr=a.stateNode.containerInfo,ho=!0;break e;case 4:Rr=a.stateNode.containerInfo,ho=!0;break e}a=a.return}if(Rr===null)throw Error(Je(160));vD(s,o,i),Rr=null,ho=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){zn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wD(e,t),e=e.sibling}function wD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(no(e,t),Do(t),r&4){try{om(3,t,t.return),Gw(3,t)}catch(g){zn(t,t.return,g)}try{om(5,t,t.return)}catch(g){zn(t,t.return,g)}}break;case 1:no(e,t),Do(t),r&512&&n!==null&&gf(n,n.return);break;case 5:if(no(e,t),Do(t),r&512&&n!==null&&gf(n,n.return),t.flags&32){var i=t.stateNode;try{Om(i,"")}catch(g){zn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&UO(i,s),ck(a,o);var c=ck(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?WO(i,d):u==="dangerouslySetInnerHTML"?HO(i,d):u==="children"?Om(i,d):iE(i,u,d,c)}switch(a){case"input":ik(i,s);break;case"textarea":$O(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Nf(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Nf(i,!!s.multiple,s.defaultValue,!0):Nf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hm]=s}catch(g){zn(t,t.return,g)}}break;case 6:if(no(e,t),Do(t),r&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){zn(t,t.return,g)}}break;case 3:if(no(e,t),Do(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bm(e.containerInfo)}catch(g){zn(t,t.return,g)}break;case 4:no(e,t),Do(t);break;case 13:no(e,t),Do(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DE=Jn())),r&4&&b3(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(c=Qr)||u,no(e,t),Qr=c):no(e,t),Do(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(it=t,u=t.child;u!==null;){for(d=it=u;it!==null;){switch(h=it,f=h.child,h.tag){case 0:case 11:case 14:case 15:om(4,h,h.return);break;case 1:gf(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){zn(r,n,g)}}break;case 5:gf(h,h.return);break;case 22:if(h.memoizedState!==null){k3(d);continue}}f!==null?(f.return=h,it=f):k3(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qO("display",o))}catch(g){zn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){zn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:no(e,t),Do(t),r&4&&b3(t);break;case 21:break;default:no(e,t),Do(t)}}function Do(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yD(n)){var r=n;break e}n=n.return}throw Error(Je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Om(i,""),r.flags&=-33);var s=x3(t);Bk(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x3(t);Fk(t,a,o);break;default:throw Error(Je(161))}}catch(l){zn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QK(t,e,n){it=t,xD(t)}function xD(t,e,n){for(var r=(t.mode&1)!==0;it!==null;){var i=it,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=uy;var c=Qr;if(uy=o,(Qr=l)&&!c)for(it=i;it!==null;)o=it,l=o.child,o.tag===22&&o.memoizedState!==null?_3(i):l!==null?(l.return=o,it=l):_3(i);for(;s!==null;)it=s,xD(s),s=s.sibling;it=i,uy=a,Qr=c}S3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,it=s):S3(t)}}function S3(t){for(;it!==null;){var e=it;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||Gw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:co(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&o3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o3(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Bm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}Qr||e.flags&512&&Dk(e)}catch(h){zn(e,e.return,h)}}if(e===t){it=null;break}if(n=e.sibling,n!==null){n.return=e.return,it=n;break}it=e.return}}function k3(t){for(;it!==null;){var e=it;if(e===t){it=null;break}var n=e.sibling;if(n!==null){n.return=e.return,it=n;break}it=e.return}}function _3(t){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gw(4,e)}catch(l){zn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){zn(e,i,l)}}var s=e.return;try{Dk(e)}catch(l){zn(e,s,l)}break;case 5:var o=e.return;try{Dk(e)}catch(l){zn(e,o,l)}}}catch(l){zn(e,e.return,l)}if(e===t){it=null;break}var a=e.sibling;if(a!==null){a.return=e.return,it=a;break}it=e.return}}var ZK=Math.ceil,p1=Xa.ReactCurrentDispatcher,OE=Xa.ReactCurrentOwner,Fs=Xa.ReactCurrentBatchConfig,Wt=0,Er=null,lr=null,Br=0,Qi=0,yf=vc(0),vr=0,Ym=null,Lu=0,Jw=0,ME=0,am=null,Oi=null,DE=0,eh=1/0,Ta=null,m1=!1,zk=null,Xl=null,dy=!1,zl=null,g1=0,lm=0,Uk=null,Sv=-1,kv=0;function wi(){return Wt&6?Jn():Sv!==-1?Sv:Sv=Jn()}function Ql(t){return t.mode&1?Wt&2&&Br!==0?Br&-Br:MK.transition!==null?(kv===0&&(kv=iM()),kv):(t=nn,t!==0||(t=window.event,t=t===void 0?16:dM(t.type)),t):1}function bo(t,e,n,r){if(50<lm)throw lm=0,Uk=null,Error(Je(185));jg(t,n,r),(!(Wt&2)||t!==Er)&&(t===Er&&(!(Wt&2)&&(Jw|=n),vr===4&&Ol(t,Br)),zi(t,r),n===1&&Wt===0&&!(e.mode&1)&&(eh=Jn()+500,qw&&wc()))}function zi(t,e){var n=t.callbackNode;MW(t,e);var r=Zv(t,t===Er?Br:0);if(r===0)n!==null&&R4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&R4(n),e===1)t.tag===0?OK(N3.bind(null,t)):PM(N3.bind(null,t)),jK(function(){!(Wt&6)&&wc()}),n=null;else{switch(sM(r)){case 1:n=cE;break;case 4:n=nM;break;case 16:n=Qv;break;case 536870912:n=rM;break;default:n=Qv}n=CD(n,bD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bD(t,e){if(Sv=-1,kv=0,Wt&6)throw Error(Je(327));var n=t.callbackNode;if(Pf()&&t.callbackNode!==n)return null;var r=Zv(t,t===Er?Br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=y1(t,r);else{e=r;var i=Wt;Wt|=2;var s=kD();(Er!==t||Br!==e)&&(Ta=null,eh=Jn()+500,vu(t,e));do try{nG();break}catch(a){SD(t,a)}while(!0);SE(),p1.current=s,Wt=i,lr!==null?e=0:(Er=null,Br=0,e=vr)}if(e!==0){if(e===2&&(i=pk(t),i!==0&&(r=i,e=$k(t,i))),e===1)throw n=Ym,vu(t,0),Ol(t,r),zi(t,Jn()),n;if(e===6)Ol(t,r);else{if(i=t.current.alternate,!(r&30)&&!eG(i)&&(e=y1(t,r),e===2&&(s=pk(t),s!==0&&(r=s,e=$k(t,s))),e===1))throw n=Ym,vu(t,0),Ol(t,r),zi(t,Jn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Je(345));case 2:Xc(t,Oi,Ta);break;case 3:if(Ol(t,r),(r&130023424)===r&&(e=DE+500-Jn(),10<e)){if(Zv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sk(Xc.bind(null,t,Oi,Ta),e);break}Xc(t,Oi,Ta);break;case 4:if(Ol(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZK(r/1960))-r,10<r){t.timeoutHandle=Sk(Xc.bind(null,t,Oi,Ta),r);break}Xc(t,Oi,Ta);break;case 5:Xc(t,Oi,Ta);break;default:throw Error(Je(329))}}}return zi(t,Jn()),t.callbackNode===n?bD.bind(null,t):null}function $k(t,e){var n=am;return t.current.memoizedState.isDehydrated&&(vu(t,e).flags|=256),t=y1(t,e),t!==2&&(e=Oi,Oi=n,e!==null&&Vk(e)),t}function Vk(t){Oi===null?Oi=t:Oi.push.apply(Oi,t)}function eG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ko(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ol(t,e){for(e&=~ME,e&=~Jw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xo(e),r=1<<n;t[n]=-1,e&=~r}}function N3(t){if(Wt&6)throw Error(Je(327));Pf();var e=Zv(t,0);if(!(e&1))return zi(t,Jn()),null;var n=y1(t,e);if(t.tag!==0&&n===2){var r=pk(t);r!==0&&(e=r,n=$k(t,r))}if(n===1)throw n=Ym,vu(t,0),Ol(t,e),zi(t,Jn()),n;if(n===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xc(t,Oi,Ta),zi(t,Jn()),null}function FE(t,e){var n=Wt;Wt|=1;try{return t(e)}finally{Wt=n,Wt===0&&(eh=Jn()+500,qw&&wc())}}function Ru(t){zl!==null&&zl.tag===0&&!(Wt&6)&&Pf();var e=Wt;Wt|=1;var n=Fs.transition,r=nn;try{if(Fs.transition=null,nn=1,t)return t()}finally{nn=r,Fs.transition=n,Wt=e,!(Wt&6)&&wc()}}function BE(){Qi=yf.current,Sn(yf)}function vu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PK(n)),lr!==null)for(n=lr.return;n!==null;){var r=n;switch(wE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&i1();break;case 3:Qf(),Sn(Fi),Sn(si),CE();break;case 5:AE(r);break;case 4:Qf();break;case 13:Sn(Cn);break;case 19:Sn(Cn);break;case 10:kE(r.type._context);break;case 22:case 23:BE()}n=n.return}if(Er=t,lr=t=Zl(t.current,null),Br=Qi=e,vr=0,Ym=null,ME=Jw=Lu=0,Oi=am=null,lu!==null){for(e=0;e<lu.length;e++)if(n=lu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}lu=null}return t}function SD(t,e){do{var n=lr;try{if(SE(),wv.current=h1,f1){for(var r=jn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}f1=!1}if(ju=0,kr=yr=jn=null,sm=!1,Km=0,OE.current=null,n===null||n.return===null){vr=1,Ym=e,lr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=f3(o);if(f!==null){f.flags&=-257,h3(f,o,a,s,e),f.mode&1&&d3(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){d3(s,c,e),zE();break e}l=Error(Je(426))}}else if(Nn&&a.mode&1){var v=f3(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),h3(v,o,a,s,e),xE(Zf(l,a));break e}}s=l=Zf(l,a),vr!==4&&(vr=2),am===null?am=[s]:am.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=sD(s,l,e);s3(s,y);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xl===null||!Xl.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=oD(s,a,e);s3(s,N);break e}}s=s.return}while(s!==null)}ND(n)}catch(C){e=C,lr===n&&n!==null&&(lr=n=n.return);continue}break}while(!0)}function kD(){var t=p1.current;return p1.current=h1,t===null?h1:t}function zE(){(vr===0||vr===3||vr===2)&&(vr=4),Er===null||!(Lu&268435455)&&!(Jw&268435455)||Ol(Er,Br)}function y1(t,e){var n=Wt;Wt|=2;var r=kD();(Er!==t||Br!==e)&&(Ta=null,vu(t,e));do try{tG();break}catch(i){SD(t,i)}while(!0);if(SE(),Wt=n,p1.current=r,lr!==null)throw Error(Je(261));return Er=null,Br=0,vr}function tG(){for(;lr!==null;)_D(lr)}function nG(){for(;lr!==null&&!AW();)_D(lr)}function _D(t){var e=AD(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?ND(t):lr=e,OE.current=null}function ND(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JK(n,e),n!==null){n.flags&=32767,lr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vr=6,lr=null;return}}else if(n=GK(n,e,Qi),n!==null){lr=n;return}if(e=e.sibling,e!==null){lr=e;return}lr=e=t}while(e!==null);vr===0&&(vr=5)}function Xc(t,e,n){var r=nn,i=Fs.transition;try{Fs.transition=null,nn=1,rG(t,e,n,r)}finally{Fs.transition=i,nn=r}return null}function rG(t,e,n,r){do Pf();while(zl!==null);if(Wt&6)throw Error(Je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DW(t,s),t===Er&&(lr=Er=null,Br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dy||(dy=!0,CD(Qv,function(){return Pf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fs.transition,Fs.transition=null;var o=nn;nn=1;var a=Wt;Wt|=4,OE.current=null,XK(t,n),wD(n,t),kK(xk),e1=!!wk,xk=wk=null,t.current=n,QK(n),CW(),Wt=a,nn=o,Fs.transition=s}else t.current=n;if(dy&&(dy=!1,zl=t,g1=i),s=t.pendingLanes,s===0&&(Xl=null),jW(n.stateNode),zi(t,Jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(m1)throw m1=!1,t=zk,zk=null,t;return g1&1&&t.tag!==0&&Pf(),s=t.pendingLanes,s&1?t===Uk?lm++:(lm=0,Uk=t):lm=0,wc(),null}function Pf(){if(zl!==null){var t=sM(g1),e=Fs.transition,n=nn;try{if(Fs.transition=null,nn=16>t?16:t,zl===null)var r=!1;else{if(t=zl,zl=null,g1=0,Wt&6)throw Error(Je(331));var i=Wt;for(Wt|=4,it=t.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(it=c;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:om(8,u,s)}var d=u.child;if(d!==null)d.return=u,it=d;else for(;it!==null;){u=it;var h=u.sibling,f=u.return;if(gD(u),u===c){it=null;break}if(h!==null){h.return=f,it=h;break}it=f}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:om(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,it=y;break e}it=s.return}}var w=t.current;for(it=w;it!==null;){o=it;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,it=b;else e:for(o=w;it!==null;){if(a=it,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gw(9,a)}}catch(C){zn(a,a.return,C)}if(a===o){it=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,it=N;break e}it=a.return}}if(Wt=i,wc(),Qo&&typeof Qo.onPostCommitFiberRoot=="function")try{Qo.onPostCommitFiberRoot(zw,t)}catch{}r=!0}return r}finally{nn=n,Fs.transition=e}}return!1}function E3(t,e,n){e=Zf(n,e),e=sD(t,e,1),t=Yl(t,e,1),e=wi(),t!==null&&(jg(t,1,e),zi(t,e))}function zn(t,e,n){if(t.tag===3)E3(t,t,n);else for(;e!==null;){if(e.tag===3){E3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xl===null||!Xl.has(r))){t=Zf(n,t),t=oD(e,t,1),e=Yl(e,t,1),t=wi(),e!==null&&(jg(e,1,t),zi(e,t));break}}e=e.return}}function iG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wi(),t.pingedLanes|=t.suspendedLanes&n,Er===t&&(Br&n)===n&&(vr===4||vr===3&&(Br&130023424)===Br&&500>Jn()-DE?vu(t,0):ME|=n),zi(t,e)}function ED(t,e){e===0&&(t.mode&1?(e=ty,ty<<=1,!(ty&130023424)&&(ty=4194304)):e=1);var n=wi();t=qa(t,e),t!==null&&(jg(t,e,n),zi(t,n))}function sG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ED(t,n)}function oG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Je(314))}r!==null&&r.delete(e),ED(t,n)}var AD;AD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fi.current)Di=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Di=!1,KK(t,e,n);Di=!!(t.flags&131072)}else Di=!1,Nn&&e.flags&1048576&&jM(e,a1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bv(t,e),t=e.pendingProps;var i=Jf(e,si.current);Tf(e,n),i=PE(null,e,r,t,i,n);var s=jE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bi(r)?(s=!0,s1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NE(e),i.updater=Kw,e.stateNode=i,i._reactInternals=e,Tk(e,r,t,n),e=Lk(null,e,r,!0,s,n)):(e.tag=0,Nn&&s&&vE(e),pi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lG(r),t=co(r,t),i){case 0:e=jk(null,e,r,t,n);break e;case 1:e=g3(null,e,r,t,n);break e;case 11:e=p3(null,e,r,t,n);break e;case 14:e=m3(null,e,r,co(r.type,t),n);break e}throw Error(Je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),jk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),g3(t,e,r,i,n);case 3:e:{if(uD(e),t===null)throw Error(Je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DM(t,e),u1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zf(Error(Je(423)),e),e=y3(t,e,r,n,i);break e}else if(r!==i){i=Zf(Error(Je(424)),e),e=y3(t,e,r,n,i);break e}else for(rs=Jl(e.stateNode.containerInfo.firstChild),ss=e,Nn=!0,mo=null,n=OM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yf(),r===i){e=Wa(t,e,n);break e}pi(t,e,r,n)}e=e.child}return e;case 5:return FM(e),t===null&&Ek(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bk(r,i)?o=null:s!==null&&bk(r,s)&&(e.flags|=32),cD(t,e),pi(t,e,o,n),e.child;case 6:return t===null&&Ek(e),null;case 13:return dD(t,e,n);case 4:return EE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xf(e,null,r,n):pi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),p3(t,e,r,i,n);case 7:return pi(t,e,e.pendingProps,n),e.child;case 8:return pi(t,e,e.pendingProps.children,n),e.child;case 12:return pi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yn(l1,r._currentValue),r._currentValue=o,s!==null)if(ko(s.value,o)){if(s.children===i.children&&!Fi.current){e=Wa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ak(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ak(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tf(e,n),i=Vs(i),r=r(i),e.flags|=1,pi(t,e,r,n),e.child;case 14:return r=e.type,i=co(r,e.pendingProps),i=co(r.type,i),m3(t,e,r,i,n);case 15:return aD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),bv(t,e),e.tag=1,Bi(r)?(t=!0,s1(e)):t=!1,Tf(e,n),iD(e,r,i),Tk(e,r,i,n),Lk(null,e,r,!0,t,n);case 19:return fD(t,e,n);case 22:return lD(t,e,n)}throw Error(Je(156,e.tag))};function CD(t,e){return tM(t,e)}function aG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(t,e,n,r){return new aG(t,e,n,r)}function UE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lG(t){if(typeof t=="function")return UE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oE)return 11;if(t===aE)return 14}return 2}function Zl(t,e){var n=t.alternate;return n===null?(n=Ds(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _v(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")UE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case af:return wu(n.children,i,s,e);case sE:o=8,i|=8;break;case ZS:return t=Ds(12,n,e,i|2),t.elementType=ZS,t.lanes=s,t;case ek:return t=Ds(13,n,e,i),t.elementType=ek,t.lanes=s,t;case tk:return t=Ds(19,n,e,i),t.elementType=tk,t.lanes=s,t;case FO:return Yw(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MO:o=10;break e;case DO:o=9;break e;case oE:o=11;break e;case aE:o=14;break e;case Al:o=16,r=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=Ds(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wu(t,e,n,r){return t=Ds(7,t,r,e),t.lanes=n,t}function Yw(t,e,n,r){return t=Ds(22,t,r,e),t.elementType=FO,t.lanes=n,t.stateNode={isHidden:!1},t}function m2(t,e,n){return t=Ds(6,t,null,e),t.lanes=n,t}function g2(t,e,n){return e=Ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yb(0),this.expirationTimes=Yb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $E(t,e,n,r,i,s,o,a,l){return t=new cG(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ds(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},NE(s),t}function uG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:of,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TD(t){if(!t)return ac;t=t._reactInternals;e:{if($u(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var n=t.type;if(Bi(n))return TM(t,n,e)}return e}function PD(t,e,n,r,i,s,o,a,l){return t=$E(n,r,!0,t,i,s,o,a,l),t.context=TD(null),n=t.current,r=wi(),i=Ql(n),s=Fa(r,i),s.callback=e??null,Yl(n,s,i),t.current.lanes=i,jg(t,i,r),zi(t,r),t}function Xw(t,e,n,r){var i=e.current,s=wi(),o=Ql(i);return n=TD(n),e.context===null?e.context=n:e.pendingContext=n,e=Fa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yl(i,e,o),t!==null&&(bo(t,i,o,s),vv(t,i,o)),o}function v1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VE(t,e){A3(t,e),(t=t.alternate)&&A3(t,e)}function dG(){return null}var jD=typeof reportError=="function"?reportError:function(t){console.error(t)};function HE(t){this._internalRoot=t}Qw.prototype.render=HE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));Xw(t,e,null,null)};Qw.prototype.unmount=HE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ru(function(){Xw(null,t,null,null)}),e[Ha]=null}};function Qw(t){this._internalRoot=t}Qw.prototype.unstable_scheduleHydration=function(t){if(t){var e=lM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Il.length&&e!==0&&e<Il[n].priority;n++);Il.splice(n,0,t),n===0&&uM(t)}};function qE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C3(){}function fG(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=v1(o);s.call(c)}}var o=PD(e,r,t,0,null,!1,!1,"",C3);return t._reactRootContainer=o,t[Ha]=o.current,$m(t.nodeType===8?t.parentNode:t),Ru(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=v1(l);a.call(c)}}var l=$E(t,0,!1,null,null,!1,!1,"",C3);return t._reactRootContainer=l,t[Ha]=l.current,$m(t.nodeType===8?t.parentNode:t),Ru(function(){Xw(e,l,n,r)}),l}function ex(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=v1(o);a.call(l)}}Xw(e,o,t,i)}else o=fG(n,e,t,i,r);return v1(o)}oM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vp(e.pendingLanes);n!==0&&(uE(e,n|1),zi(e,Jn()),!(Wt&6)&&(eh=Jn()+500,wc()))}break;case 13:Ru(function(){var r=qa(t,1);if(r!==null){var i=wi();bo(r,t,1,i)}}),VE(t,1)}};dE=function(t){if(t.tag===13){var e=qa(t,134217728);if(e!==null){var n=wi();bo(e,t,134217728,n)}VE(t,134217728)}};aM=function(t){if(t.tag===13){var e=Ql(t),n=qa(t,e);if(n!==null){var r=wi();bo(n,t,e,r)}VE(t,e)}};lM=function(){return nn};cM=function(t,e){var n=nn;try{return nn=t,e()}finally{nn=n}};dk=function(t,e,n){switch(e){case"input":if(ik(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hw(r);if(!i)throw Error(Je(90));zO(r),ik(r,i)}}}break;case"textarea":$O(t,n);break;case"select":e=n.value,e!=null&&Nf(t,!!n.multiple,e,!1)}};JO=FE;YO=Ru;var hG={usingClientEntryPoint:!1,Events:[Rg,df,Hw,KO,GO,FE]},Ep={findFiberByHostInstance:au,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pG={bundleType:Ep.bundleType,version:Ep.version,rendererPackageName:Ep.rendererPackageName,rendererConfig:Ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZO(t),t===null?null:t.stateNode},findFiberByHostInstance:Ep.findFiberByHostInstance||dG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fy.isDisabled&&fy.supportsFiber)try{zw=fy.inject(pG),Qo=fy}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hG;ps.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qE(e))throw Error(Je(200));return uG(t,e,null,n)};ps.createRoot=function(t,e){if(!qE(t))throw Error(Je(299));var n=!1,r="",i=jD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$E(t,1,!1,null,null,n,!1,r,i),t[Ha]=e.current,$m(t.nodeType===8?t.parentNode:t),new HE(e)};ps.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=ZO(e),t=t===null?null:t.stateNode,t};ps.flushSync=function(t){return Ru(t)};ps.hydrate=function(t,e,n){if(!Zw(e))throw Error(Je(200));return ex(null,t,e,!0,n)};ps.hydrateRoot=function(t,e,n){if(!qE(t))throw Error(Je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PD(e,null,t,1,n??null,i,!1,s,o),t[Ha]=e.current,$m(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qw(e)};ps.render=function(t,e,n){if(!Zw(e))throw Error(Je(200));return ex(null,t,e,!1,n)};ps.unmountComponentAtNode=function(t){if(!Zw(t))throw Error(Je(40));return t._reactRootContainer?(Ru(function(){ex(null,null,t,!1,function(){t._reactRootContainer=null,t[Ha]=null})}),!0):!1};ps.unstable_batchedUpdates=FE;ps.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zw(n))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return ex(t,e,n,!1,r)};ps.version="18.3.1-next-f1338f8080-20240426";function LD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LD)}catch(t){console.error(t)}}LD(),LO.exports=ps;var Og=LO.exports;const RD=Tg(Og);var ID,T3=Og;ID=T3.createRoot,T3.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}var Ul;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ul||(Ul={}));const P3="popstate";function mG(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Hk("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:w1(i)}return yG(e,n,null,t)}function ur(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gG(){return Math.random().toString(36).substr(2,8)}function j3(t,e){return{usr:t.state,key:t.key,idx:e}}function Hk(t,e,n,r){return n===void 0&&(n=null),Xm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nh(e):e,{state:n,key:e&&e.key||r||gG()})}function w1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yG(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ul.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xm({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ul.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:y})}function h(v,y){a=Ul.Push;let w=Hk(g.location,v,y);c=u()+1;let b=j3(w,c),N=g.createHref(w);try{o.pushState(b,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(N)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,y){a=Ul.Replace;let w=Hk(g.location,v,y);c=u();let b=j3(w,c),N=g.createHref(w);o.replaceState(b,"",N),s&&l&&l({action:a,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:w1(v);return w=w.replace(/ $/,"%20"),ur(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(P3,d),l=v,()=>{i.removeEventListener(P3,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(v){return o.go(v)}};return g}var L3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(L3||(L3={}));function vG(t,e,n){return n===void 0&&(n="/"),wG(t,e,n)}function wG(t,e,n,r){let i=typeof e=="string"?Nh(e):e,s=WE(i.pathname||"/",n);if(s==null)return null;let o=MD(t);xG(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=LG(s);a=TG(o[l],c)}return a}function MD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ur(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ec([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MD(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AG(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of DD(s.path))i(s,o,l)}),e}function DD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CG(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bG=/^:[\w-]+$/,SG=3,kG=2,_G=1,NG=10,EG=-2,R3=t=>t==="*";function AG(t,e){let n=t.split("/"),r=n.length;return n.some(R3)&&(r+=EG),e&&(r+=kG),n.filter(i=>!R3(i)).reduce((i,s)=>i+(bG.test(s)?SG:s===""?_G:NG),r)}function CG(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TG(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=PG({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ec([s,d.pathname]),pathnameBase:MG(ec([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ec([s,d.pathnameBase]))}return o}function PG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jG(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function jG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function WE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RG(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nh(t):t;return{pathname:n?n.startsWith("/")?n:IG(n,e):e,search:DG(r),hash:FG(i)}}function IG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function y2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OG(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FD(t,e){let n=OG(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nh(t):(i=Xm({},t),ur(!i.pathname||!i.pathname.includes("?"),y2("?","pathname","search",i)),ur(!i.pathname||!i.pathname.includes("#"),y2("#","pathname","hash",i)),ur(!i.search||!i.search.includes("#"),y2("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=RG(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ec=t=>t.join("/").replace(/\/\/+/g,"/"),MG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zD=["post","put","patch","delete"];new Set(zD);const zG=["get",...zD];new Set(zG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}const KE=$.createContext(null),UG=$.createContext(null),Vu=$.createContext(null),tx=$.createContext(null),xc=$.createContext({outlet:null,matches:[],isDataRoute:!1}),UD=$.createContext(null);function $G(t,e){let{relative:n}=e===void 0?{}:e;Mg()||ur(!1);let{basename:r,navigator:i}=$.useContext(Vu),{hash:s,pathname:o,search:a}=VD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ec([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mg(){return $.useContext(tx)!=null}function Eh(){return Mg()||ur(!1),$.useContext(tx).location}function $D(t){$.useContext(Vu).static||$.useLayoutEffect(t)}function Hu(){let{isDataRoute:t}=$.useContext(xc);return t?nJ():VG()}function VG(){Mg()||ur(!1);let t=$.useContext(KE),{basename:e,future:n,navigator:r}=$.useContext(Vu),{matches:i}=$.useContext(xc),{pathname:s}=Eh(),o=JSON.stringify(FD(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return $D(()=>{a.current=!0}),$.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=BD(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ec([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function HG(){let{matches:t}=$.useContext(xc),e=t[t.length-1];return e?e.params:{}}function VD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(Vu),{matches:i}=$.useContext(xc),{pathname:s}=Eh(),o=JSON.stringify(FD(i,r.v7_relativeSplatPath));return $.useMemo(()=>BD(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qG(t,e){return WG(t,e)}function WG(t,e,n,r){Mg()||ur(!1);let{navigator:i}=$.useContext(Vu),{matches:s}=$.useContext(xc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Eh(),u;if(e){var d;let v=typeof e=="string"?Nh(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||ur(!1),u=v}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=vG(t,{pathname:f}),g=XG(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:ec([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ec([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?$.createElement(tx.Provider,{value:{location:Qm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ul.Pop}},g):g}function KG(){let t=tJ(),e=BG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const GG=$.createElement(KG,null);class JG extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(xc.Provider,{value:this.props.routeContext},$.createElement(UD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YG(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(KE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(xc.Provider,{value:e},r)}function XG(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ur(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,g=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||GG,l&&(c<0&&h===0?(rJ("route-fallback"),m=!0,v=null):c===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),w=()=>{let b;return f?b=g:m?b=v:d.route.Component?b=$.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,$.createElement(YG,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?$.createElement(JG,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var HD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HD||{}),qD=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qD||{});function QG(t){let e=$.useContext(KE);return e||ur(!1),e}function ZG(t){let e=$.useContext(UG);return e||ur(!1),e}function eJ(t){let e=$.useContext(xc);return e||ur(!1),e}function WD(t){let e=eJ(),n=e.matches[e.matches.length-1];return n.route.id||ur(!1),n.route.id}function tJ(){var t;let e=$.useContext(UD),n=ZG(),r=WD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nJ(){let{router:t}=QG(HD.UseNavigateStable),e=WD(qD.UseNavigateStable),n=$.useRef(!1);return $D(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qm({fromRouteId:e},s)))},[t,e])}const I3={};function rJ(t,e,n){I3[t]||(I3[t]=!0)}function iJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Jr(t){ur(!1)}function sJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ul.Pop,navigator:s,static:o=!1,future:a}=t;Mg()&&ur(!1);let l=e.replace(/^\/*/,"/"),c=$.useMemo(()=>({basename:l,navigator:s,static:o,future:Qm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Nh(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,g=$.useMemo(()=>{let v=WE(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:i}},[l,u,d,h,f,m,i]);return g==null?null:$.createElement(Vu.Provider,{value:c},$.createElement(tx.Provider,{children:n,value:g}))}function oJ(t){let{children:e,location:n}=t;return qG(qk(e),n)}new Promise(()=>{});function qk(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,qk(r.props.children,s));return}r.type!==Jr&&ur(!1),!r.props.index||!r.props.children||ur(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qk(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wk(){return Wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wk.apply(this,arguments)}function aJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cJ(t,e){return t.button===0&&(!e||e==="_self")&&!lJ(t)}function Kk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function uJ(t,e){let n=Kk(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const dJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fJ="6";try{window.__reactRouterVersion=fJ}catch{}const hJ="startTransition",O3=tE[hJ];function pJ(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=mG({window:i,v5Compat:!0}));let o=s.current,[a,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=$.useCallback(d=>{c&&O3?O3(()=>l(d)):l(d)},[l,c]);return $.useLayoutEffect(()=>o.listen(u),[o,u]),$.useEffect(()=>iJ(r),[r]),$.createElement(sJ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=aJ(e,dJ),{basename:f}=$.useContext(Vu),m,g=!1;if(typeof c=="string"&&gJ.test(c)&&(m=c,mJ))try{let b=new URL(window.location.href),N=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=WE(N.pathname,f);N.origin===b.origin&&C!=null?c=C+N.search+N.hash:g=!0}catch{}let v=$G(c,{relative:i}),y=yJ(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(b){r&&r(b),b.defaultPrevented||y(b)}return $.createElement("a",Wk({},h,{href:m||v,onClick:g||s?r:w,ref:n,target:l}))});var M3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(M3||(M3={}));var D3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D3||(D3={}));function yJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Hu(),c=Eh(),u=VD(t,{relative:o});return $.useCallback(d=>{if(cJ(d,n)){d.preventDefault();let h=r!==void 0?r:w1(c)===w1(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function vJ(t){let e=$.useRef(Kk(t)),n=$.useRef(!1),r=Eh(),i=$.useMemo(()=>uJ(r.search,n.current?null:e.current),[r.search]),s=Hu(),o=$.useCallback((a,l)=>{const c=Kk(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var Gk=function(t,e){return Gk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Gk(t,e)};function KD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gk(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Is=function(){return Is=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Is.apply(this,arguments)};function bc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GD(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function JD(t,e){return function(n,r){e(n,r,t)}}function YD(t,e,n,r,i,s){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var m={};for(var g in r)m[g]=g==="access"?{}:r[g];for(var g in r.access)m.access[g]=r.access[g];m.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(y||null))};var v=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(u.get=d),(d=o(v.set))&&(u.set=d),(d=o(v.init))&&i.unshift(d)}else(d=o(v))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),h=!0}function XD(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function QD(t){return typeof t=="symbol"?t:"".concat(t)}function ZD(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function e8(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function t8(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var nx=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function n8(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&nx(e,t,n)}function x1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function GE(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function r8(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(GE(arguments[e]));return t}function i8(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function JE(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function th(t){return this instanceof th?(this.v=t,this):new th(t)}function s8(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(m){return Promise.resolve(m).then(f,d)}}function a(f,m){r[f]&&(i[f]=function(g){return new Promise(function(v,y){s.push([f,g,v,y])>1||l(f,g)})},m&&(i[f]=m(i[f])))}function l(f,m){try{c(r[f](m))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof th?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,m){f(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function o8(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:th(t[i](o)),done:!1}:s?s(o):o}:s}}function a8(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof x1=="function"?x1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function l8(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var wJ=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Jk=function(t){return Jk=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Jk(t)};function c8(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Jk(t),r=0;r<n.length;r++)n[r]!=="default"&&nx(e,t,n[r]);return wJ(e,t),e}function u8(t){return t&&t.__esModule?t:{default:t}}function d8(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function f8(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function h8(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function p8(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var xJ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function m8(t){function e(s){t.error=t.hasError?new xJ(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function g8(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const bJ={__extends:KD,__assign:Is,__rest:bc,__decorate:GD,__param:JD,__esDecorate:YD,__runInitializers:XD,__propKey:QD,__setFunctionName:ZD,__metadata:e8,__awaiter:lt,__generator:t8,__createBinding:nx,__exportStar:n8,__values:x1,__read:GE,__spread:r8,__spreadArrays:i8,__spreadArray:JE,__await:th,__asyncGenerator:s8,__asyncDelegator:o8,__asyncValues:a8,__makeTemplateObject:l8,__importStar:c8,__importDefault:u8,__classPrivateFieldGet:d8,__classPrivateFieldSet:f8,__classPrivateFieldIn:h8,__addDisposableResource:p8,__disposeResources:m8,__rewriteRelativeImportExtension:g8},SJ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:p8,get __assign(){return Is},__asyncDelegator:o8,__asyncGenerator:s8,__asyncValues:a8,__await:th,__awaiter:lt,__classPrivateFieldGet:d8,__classPrivateFieldIn:h8,__classPrivateFieldSet:f8,__createBinding:nx,__decorate:GD,__disposeResources:m8,__esDecorate:YD,__exportStar:n8,__extends:KD,__generator:t8,__importDefault:u8,__importStar:c8,__makeTemplateObject:l8,__metadata:e8,__param:JD,__propKey:QD,__read:GE,__rest:bc,__rewriteRelativeImportExtension:g8,__runInitializers:XD,__setFunctionName:ZD,__spread:r8,__spreadArray:JE,__spreadArrays:i8,__values:x1,default:bJ},Symbol.toStringTag,{value:"Module"})),kJ="modulepreload",_J=function(t){return"/"+t},F3={},Bs=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=_J(l),l in F3)return;F3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":kJ,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},NJ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bs(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class YE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class B3 extends YE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class z3 extends YE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class U3 extends YE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yk;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yk||(Yk={}));class EJ{constructor(e,{headers:n={},customFetch:r,region:i=Yk.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=NJ(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lt(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new B3(y)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new z3(f);if(!f.ok)throw new U3(f);let g=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield f.json():g==="application/octet-stream"||g==="application/pdf"?v=yield f.blob():g==="text/event-stream"?v=f:g==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new B3(s)}:{data:null,error:s,response:s instanceof U3||s instanceof z3?s.context:void 0}}})}}var gi={};const Ah=xO(SJ);var hy={},py={},my={},gy={},yy={},AJ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nh=AJ();const CJ=nh.fetch,y8=nh.fetch.bind(nh),v8=nh.Headers,TJ=nh.Request,PJ=nh.Response,qu=Object.freeze(Object.defineProperty({__proto__:null,Headers:v8,Request:TJ,Response:PJ,default:y8,fetch:CJ},Symbol.toStringTag,{value:"Module"})),jJ=xO(qu);var vy={},$3;function w8(){if($3)return vy;$3=1,Object.defineProperty(vy,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return vy.default=t,vy}var V3;function x8(){if(V3)return yy;V3=1,Object.defineProperty(yy,"__esModule",{value:!0});const t=Ah,e=t.__importDefault(jJ),n=t.__importDefault(w8());class r{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let m=null,g=null,v=null,y=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=M:g=JSON.parse(M))}const N=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");N&&C&&C.length>1&&(v=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const N=await c.text();try{m=JSON.parse(N),Array.isArray(m)&&c.status===404&&(g=[],m=null,y=200,w="OK")}catch{c.status===404&&N===""?(y=204,w="No Content"):m={message:N}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,y=200,w="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:g,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return yy.default=r,yy}var H3;function b8(){if(H3)return gy;H3=1,Object.defineProperty(gy,"__esModule",{value:!0});const e=Ah.__importDefault(x8());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return gy.default=n,gy}var q3;function XE(){if(q3)return my;q3=1,Object.defineProperty(my,"__esModule",{value:!0});const e=Ah.__importDefault(b8()),n=new RegExp("[,()]");class r extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return my.default=r,my}var W3;function S8(){if(W3)return py;W3=1,Object.defineProperty(py,"__esModule",{value:!0});const e=Ah.__importDefault(XE());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return py.default=n,py}var K3;function LJ(){if(K3)return hy;K3=1,Object.defineProperty(hy,"__esModule",{value:!0});const t=Ah,e=t.__importDefault(S8()),n=t.__importDefault(XE());class r{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${s}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{h.searchParams.append(g,v)})):(d="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new n.default({method:d,url:h,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return hy.default=r,hy}Object.defineProperty(gi,"__esModule",{value:!0});var k8=gi.PostgrestError=R8=gi.PostgrestBuilder=j8=gi.PostgrestTransformBuilder=T8=gi.PostgrestFilterBuilder=A8=gi.PostgrestQueryBuilder=N8=gi.PostgrestClient=void 0;const Ch=Ah,_8=Ch.__importDefault(LJ());var N8=gi.PostgrestClient=_8.default;const E8=Ch.__importDefault(S8());var A8=gi.PostgrestQueryBuilder=E8.default;const C8=Ch.__importDefault(XE());var T8=gi.PostgrestFilterBuilder=C8.default;const P8=Ch.__importDefault(b8());var j8=gi.PostgrestTransformBuilder=P8.default;const L8=Ch.__importDefault(x8());var R8=gi.PostgrestBuilder=L8.default;const I8=Ch.__importDefault(w8());k8=gi.PostgrestError=I8.default;var O8=gi.default={PostgrestClient:_8.default,PostgrestQueryBuilder:E8.default,PostgrestFilterBuilder:C8.default,PostgrestTransformBuilder:P8.default,PostgrestBuilder:L8.default,PostgrestError:I8.default};const RJ=wO({__proto__:null,get PostgrestBuilder(){return R8},get PostgrestClient(){return N8},get PostgrestError(){return k8},get PostgrestFilterBuilder(){return T8},get PostgrestQueryBuilder(){return A8},get PostgrestTransformBuilder(){return j8},default:O8},[gi]),{PostgrestClient:IJ,PostgrestQueryBuilder:fEe,PostgrestFilterBuilder:hEe,PostgrestTransformBuilder:pEe,PostgrestBuilder:mEe,PostgrestError:gEe}=O8||RJ;class OJ{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const MJ="2.78.0",DJ=`realtime-js/${MJ}`,FJ="1.0.0",Xk=1e4,BJ=1e3,zJ=100;var cm;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cm||(cm={}));var gr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gr||(gr={}));var po;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(po||(po={}));var Qk;(function(t){t.websocket="websocket"})(Qk||(Qk={}));var nu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nu||(nu={}));class UJ{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class M8{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pn||(pn={}));const G3=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=$J(o,t,e,i),s),{}):{}},$J=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?D8(s,o):Zk(o)},D8=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return WJ(e,n)}switch(t){case pn.bool:return VJ(e);case pn.float4:case pn.float8:case pn.int2:case pn.int4:case pn.int8:case pn.numeric:case pn.oid:return HJ(e);case pn.json:case pn.jsonb:return qJ(e);case pn.timestamp:return KJ(e);case pn.abstime:case pn.date:case pn.daterange:case pn.int4range:case pn.int8range:case pn.money:case pn.reltime:case pn.text:case pn.time:case pn.timestamptz:case pn.timetz:case pn.tsrange:case pn.tstzrange:return Zk(e);default:return Zk(e)}},Zk=t=>t,VJ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},HJ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qJ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},WJ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>D8(e,a))}return t},KJ=t=>typeof t=="string"?t.replace(" ","T"):t,F8=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class v2{constructor(e,n,r={},i=Xk){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var J3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(J3||(J3={}));class um{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=um.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=um.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=um.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Y3||(Y3={}));var dm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(dm||(dm={}));var Pa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pa||(Pa={}));class QE{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new v2(this,po.join,this.params,this.timeout),this.rejoinTimer=new M8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(po.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new um(this),this.broadcastEndpointURL=F8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==gr.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[dm.PRESENCE]&&this.bindings[dm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Pa.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Pa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(Pa.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,y=[];for(let w=0;w<v;w++){const b=g[w],{filter:{event:N,schema:C,table:M,filter:B}}=b,z=f&&f[w];if(z&&z.event===N&&z.schema===C&&z.table===M&&z.filter===B)y.push(Object.assign(Object.assign({},b),{id:z.id}));else{this.unsubscribe(),this.state=gr.errored,e==null||e(Pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Pa.SUBSCRIBED);return}}).receive("error",f=>{this.state=gr.errored,e==null||e(Pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===gr.joined&&e===dm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(po.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new v2(this,po.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new v2(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zJ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=po;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,g,v;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,g,v,y,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,C=(m=f.filter)===null||m===void 0?void 0:m.event;return N&&((g=n.ids)===null||g===void 0?void 0:g.includes(N))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(w=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return N==="*"||N===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:y,type:w,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===gr.closed}_isJoined(){return this.state===gr.joined}_isJoining(){return this.state===gr.joining}_isLeaving(){return this.state===gr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&QE.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(po.close,{},e)}_onError(e){this._on(po.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=G3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=G3(e.columns,e.old_record)),n}}const w2=()=>{},wy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GJ=[1e3,2e3,5e3,1e4],JJ=1e4,YJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XJ{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xk,this.transport=null,this.heartbeatIntervalMs=wy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w2,this.ref=0,this.reconnectTimer=null,this.logger=w2,this.conn=null,this.sendBuffer=[],this.serializer=new UJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Bs(async()=>{const{default:a}=await Promise.resolve().then(()=>qu);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Qk.websocket}`,this.httpEndpoint=F8(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OJ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FJ}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cm.connecting:return nu.Connecting;case cm.open:return nu.Open;case cm.closing:return nu.Closing;default:return nu.Closed}}isConnected(){return this.connectionState()===nu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new QE(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BJ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(po.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([YJ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:DJ};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(po.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new M8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Xk,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:wy.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:w2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>GJ[d-1]||JJ,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ZE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function An(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class QJ extends ZE{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class e_ extends ZE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const eA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bs(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ZJ=()=>lt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bs(()=>Promise.resolve().then(()=>qu),void 0)).Response:Response}),t_=t=>{if(Array.isArray(t))return t.map(n=>t_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=t_(r)}),e},eY=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},x2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tY=(t,e,n)=>lt(void 0,void 0,void 0,function*(){const r=yield ZJ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new QJ(x2(i),s,o))}).catch(i=>{e(new e_(x2(i),i))}):e(new e_(x2(t),t))}),nY=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(eY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Dg(t,e,n,r,i,s){return lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,nY(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>tY(l,a,r))})})}function Zm(t,e,n,r){return lt(this,void 0,void 0,function*(){return Dg(t,"GET",e,n,r)})}function uo(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return Dg(t,"POST",e,r,i,n)})}function n_(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return Dg(t,"PUT",e,r,i,n)})}function rY(t,e,n,r){return lt(this,void 0,void 0,function*(){return Dg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tA(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return Dg(t,"DELETE",e,r,i,n)})}class iY{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return lt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(An(e))return{data:null,error:e};throw e}})}}var B8;class sY{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[B8]="BlobDownloadBuilder",this.promise=null}asStream(){return new iY(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return lt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(An(e))return{data:null,error:e};throw e}})}}B8=Symbol.toStringTag;const oY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aY{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=eA(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return lt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},X3),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?n_:uo)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(An(s))return{data:null,error:s};throw s}})}upload(e,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return lt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:X3.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield n_(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(An(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return lt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield uo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new ZE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}update(e,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return lt(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}copy(e,n,r){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield uo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return lt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield uo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return lt(this,void 0,void 0,function*(){try{const i=yield uo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Zm(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new sY(l,this.shouldThrowOnError)}info(e){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:t_(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}exists(e){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield rY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r)&&r instanceof e_){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return lt(this,void 0,void 0,function*(){try{return{data:yield tA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}list(e,n,r){return lt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oY),n),{prefix:e||""});return{data:yield uo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}listV2(e,n){return lt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield uo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const z8="2.78.0",U8={"X-Client-Info":`storage-js/${z8}`};class lY{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U8),n),this.fetch=eA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return lt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Zm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}createBucket(e){return lt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return lt(this,void 0,void 0,function*(){try{return{data:yield n_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}emptyBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield tA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class cY{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U8),n),this.fetch=eA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listBuckets(e){return lt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Zm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield tA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}const nA={"X-Client-Info":`storage-js/${z8}`,"Content-Type":"application/json"};class $8 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function es(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class b2 extends $8{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uY extends $8{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Q3;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Q3||(Q3={}));const rA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bs(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dY=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Z3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fY=(t,e,n)=>lt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new b2(Z3(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new b2(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new b2(a,i,o))}}else e(new uY(Z3(t),t))}),hY=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(dY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function pY(t,e,n,r,i,s){return lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,hY(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>fY(l,a,r))})})}function ts(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return pY(t,"POST",e,r,i,n)})}class mY{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nA),n),this.fetch=rA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield ts(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}getIndex(e,n){return lt(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(es(r))return{data:null,error:r};throw r}})}listIndexes(e){return lt(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return lt(this,void 0,void 0,function*(){try{return{data:(yield ts(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(es(r))return{data:null,error:r};throw r}})}}class gY{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nA),n),this.fetch=rA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ts(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}getVectors(e){return lt(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}listVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ts(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}queryVectors(e){return lt(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}deleteVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ts(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}}class yY{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nA),n),this.fetch=rA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield ts(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}listBuckets(){return lt(this,arguments,void 0,function*(e={}){try{return{data:yield ts(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield ts(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(es(n))return{data:null,error:n};throw n}})}}class vY extends yY{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new wY(this.url,this.headers,e,this.fetch)}}class wY extends mY{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return lt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return lt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return lt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return lt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new xY(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class xY extends gY{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return lt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return lt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return lt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return lt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return lt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bY extends lY{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new aY(this.url,this.headers,e,this.fetch)}get vectors(){return new vY(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cY(this.url+"/iceberg",this.headers,this.fetch)}}const SY="2.78.0";let qp="";typeof Deno<"u"?qp="deno":typeof document<"u"?qp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qp="react-native":qp="node";const kY={"X-Client-Info":`supabase-js-${qp}/${SY}`},_Y={headers:kY},NY={schema:"public"},EY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AY={},CY=t=>{let e;return t?e=t:typeof fetch>"u"?e=y8:e=fetch,(...n)=>e(...n)},TY=()=>typeof Headers>"u"?v8:Headers,PY=(t,e,n)=>{const r=CY(n),i=TY();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))}};function jY(t){return t.endsWith("/")?t:t+"/"}function LY(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function RY(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jY(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const V8="2.78.0",Yd=30*1e3,r_=3,S2=r_*Yd,IY="http://localhost:9999",OY="supabase.auth.token",MY={"X-Client-Info":`gotrue-js/${V8}`},i_="X-Supabase-Api-Version",H8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FY=10*60*1e3;class eg extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ut(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class BY extends eg{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function zY(t){return ut(t)&&t.name==="AuthApiError"}class ru extends eg{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Sc extends eg{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class oo extends Sc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UY(t){return ut(t)&&t.name==="AuthSessionMissingError"}class Ld extends Sc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xy extends Sc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class by extends Sc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $Y(t){return ut(t)&&t.name==="AuthImplicitGrantRedirectError"}class eP extends Sc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s_ extends Sc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function k2(t){return ut(t)&&t.name==="AuthRetryableFetchError"}class tP extends Sc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class o_ extends Sc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const b1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nP=` 	
\r=`.split(""),VY=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<nP.length;e+=1)t[nP[e].charCodeAt(0)]=-2;for(let e=0;e<b1.length;e+=1)t[b1[e].charCodeAt(0)]=e;return t})();function rP(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(b1[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(b1[r]),e.queuedBits-=6}}function q8(t,e,n){const r=VY[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iP(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{WY(o,r,n)};for(let o=0;o<t.length;o+=1)q8(t.charCodeAt(o),i,s);return e.join("")}function HY(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function qY(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}HY(r,e)}}function WY(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function jf(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)q8(t.charCodeAt(i),n,r);return new Uint8Array(e)}function KY(t){const e=[];return qY(t,n=>e.push(n)),new Uint8Array(e)}function uu(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>rP(i,n,r)),rP(null,n,r),e.join("")}function GY(t){return Math.round(Date.now()/1e3)+t}function JY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const hi=()=>typeof window<"u"&&typeof document<"u",$c={tested:!1,writable:!1},W8=()=>{if(!hi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($c.tested)return $c.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$c.tested=!0,$c.writable=!0}catch{$c.tested=!0,$c.writable=!1}return $c.writable};function YY(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const K8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bs(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},XY=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gl=async(t,e)=>{await t.removeItem(e)};class rx{constructor(){this.promise=new rx.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rx.promiseConstructor=Promise;function _2(t){const e=t.split(".");if(e.length!==3)throw new o_("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!DY.test(e[r]))throw new o_("JWT not in base64url format");return{header:JSON.parse(iP(e[0])),payload:JSON.parse(iP(e[1])),signature:jf(e[2]),raw:{header:e[0],payload:e[1]}}}async function QY(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZY(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function eX(t){return("0"+t.toString(16)).substr(-2)}function tX(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,eX).join("")}async function nX(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function rX(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nX(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rd(t,e,n=!1){const r=tX();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xd(t,`${e}-code-verifier`,i);const s=await rX(r);return[s,r===s?"plain":"s256"]}const iX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sX(t){const e=t.headers.get(i_);if(!e||!e.match(iX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oX(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aX(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Id(t){if(!lX.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function N2(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cX(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function sP(t){return JSON.parse(JSON.stringify(t))}const Qc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uX=[502,503,504];async function oP(t){var e;if(!XY(t))throw new s_(Qc(t),0);if(uX.includes(t.status))throw new s_(Qc(t),t.status);let n;try{n=await t.json()}catch(s){throw new ru(Qc(s),s)}let r;const i=sX(t);if(i&&i.getTime()>=H8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new tP(Qc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new oo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new tP(Qc(n),t.status,n.weak_password.reasons);throw new BY(Qc(n),t.status||500,r)}const dX=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function bt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[i_]||(s[i_]=H8["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fX(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function fX(t,e,n,r,i,s){const o=dX(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new s_(Qc(l),0)}if(a.ok||await oP(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await oP(l)}}function ao(t){var e;let n=null;mX(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=GY(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function aP(t){const e=ao(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ml(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hX(t){return{data:t,error:null}}function pX(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=bc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lP(t){return t}function mX(t){return t.access_token&&t.refresh_token&&t.expires_in}const E2=["global","local","others"];class gX{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=K8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=E2[0]){if(E2.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${E2.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ml})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bc(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pX,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ml})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:lP});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ut(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Id(e);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ml})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Id(e);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ml})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Id(e);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ml})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Id(e.userId);try{const{data:n,error:r}=await bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Id(e.userId),Id(e.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:lP});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ut(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function cP(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Od={debug:!!(globalThis&&W8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G8 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yX extends G8{}async function vX(t,e,n){Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Od.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yX(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Od.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J8(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function xX(t){return parseInt(t,16)}function bX(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function SX(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=J8(t.address),m=u?`${u}://${r}`:r,g=t.statement?`${t.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${f}

${g}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${v}
${y}`}class ar extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class S1 extends ar{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function kX({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ar({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Y8(o)){if(s.rp.id!==o)return new ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function _X({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ar({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Y8(r)){if(n.rpId!==r)return new ar({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class NX{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const EX=new NX;function AX(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=bc(t,["challenge","user","excludeCredentials"]),s=jf(e).buffer,o=Object.assign(Object.assign({},n),{id:jf(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:jf(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function CX(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=bc(t,["challenge","allowCredentials"]),i=jf(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:jf(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function TX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:uu(new Uint8Array(t.response.attestationObject)),clientDataJSON:uu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function PX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:uu(new Uint8Array(i.authenticatorData)),clientDataJSON:uu(new Uint8Array(i.clientDataJSON)),signature:uu(new Uint8Array(i.signature)),userHandle:i.userHandle?uu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Y8(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uP(){var t,e;return!!(hi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jX(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new S1("Browser returned unexpected credential type",e)}:{data:null,error:new S1("Empty credential response",e)}}catch(e){return{data:null,error:kX({error:e,options:t})}}}async function LX(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new S1("Browser returned unexpected credential type",e)}:{data:null,error:new S1("Empty credential response",e)}}catch(e){return{data:null,error:_X({error:e,options:t})}}}const RX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},IX={userVerification:"preferred",hints:["security-key"]};function k1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=k1(a,o):r[s]=k1(o)}else r[s]=o}return r}function OX(t,e){return k1(RX,t,e||{})}function MX(t,e){return k1(IX,t,e||{})}class DX{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??EX.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=OX(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await jX({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=MX(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await LX(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new ru("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new eg("rpId is required for WebAuthn authentication")};try{if(!uP())return{data:null,error:new ru("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new ru("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new eg("rpId is required for WebAuthn registration")};try{if(!uP())return{data:null,error:new ru("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new ru("Unexpected error in register",o)}}}}wX();const FX={url:IY,storageKey:OY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dP(t,e,n){return await n()}const Md={};class tg{get jwks(){var e,n;return(n=(e=Md[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Md[this.storageKey]=Object.assign(Object.assign({},Md[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Md[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Md[this.storageKey]=Object.assign(Object.assign({},Md[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tg.nextInstanceID,tg.nextInstanceID+=1,this.instanceID>0&&hi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},FX),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gX({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=K8(i.fetch),this.lock=i.lock||dP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vX:this.lock=dP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:W8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cP(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${V8}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=YY(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),hi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$Y(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?{error:n}:{error:new ru("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ao}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ut(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Rd(this.storage,this.storageKey)),s=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:ao})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ao})}else throw new xy("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ut(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:aP})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:aP})}else throw new xy("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ld}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,c,u,d,h;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:g,wallet:v,statement:y,options:w}=e;let b;if(hi())if(typeof v=="object")b=v;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")b=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),C=await b.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=J8(C[0]);let B=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const F=await b.request({method:"eth_chainId"});B=xX(F)}const z={domain:N.host,address:M,statement:y,uri:N.href,version:"1",chainId:B,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=SX(z),m=await b.request({method:"personal_sign",params:[bX(f),M]})}try{const{data:g,error:v}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ao});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ld}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(ut(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var n,r,i,s,o,a,l,c,u,d,h,f;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:y,statement:w,options:b}=e;let N;if(hi())if(typeof y=="object")N=y;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))N=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const C=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const M=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let B;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")B=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)B=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)m=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),g=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${C.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const M=await N.signMessage(new TextEncoder().encode(m),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=M}}try{const{data:v,error:y}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:uu(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ao});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ld}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(ut(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const n=await Vc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ao});if(await gl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ld}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ut(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ao}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ld}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rd(this.storage,this.storageKey));const{error:d}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new xy("You must provide either an email or phone number.")}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ao});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Rd(this.storage,this.storageKey)),await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:hX})}catch(s){if(ut(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new oo;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ut(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xy("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<S2:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Vc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=N2()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=cX(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ml}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oo}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ml})})}catch(n){if(ut(n))return UY(n)&&(await this._removeSession(),await gl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new oo;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Rd(this.storage,this.storageKey));const{data:c,error:u}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ml});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=_2(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ut(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new oo;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!hi())throw new by("No browser detected.");if(e.error||e.error_description||e.error_code)throw new by(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new eP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new by("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eP("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new by("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Yd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(ut(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(zY(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await gl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=JY(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Rd(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ut(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return hi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ut(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ao}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ld}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ZY(async i=>(i>0&&await QY(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ao})),(i,s)=>{const o=200*Math.pow(2,i);return s&&k2(s)&&Date.now()+o-r<Yd})}catch(r){if(this._debug(n,"error",r),ut(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),hi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Vc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Xd(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:N2()}else if(i&&!i.user&&!i.user){const o=await Vc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await gl(this.storage,this.storageKey+"-user"),await Xd(this.storage,this.storageKey,i)):i.user=N2()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<S2;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${S2}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),k2(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new oo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rx;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new oo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ut(s)){const o={data:null,error:s};return k2(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=sP(i);await Xd(this.storage,this.storageKey,s)}else{const i=sP(n);await Xd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await gl(this.storage,this.storageKey),await gl(this.storage,this.storageKey+"-code-verifier"),await gl(this.storage,this.storageKey+"-user"),this.userStorage&&await gl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Yd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yd}ms, refresh threshold is ${r_} ticks`),i<=r_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof G8)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Rd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?TX(e.webauthn.credential_response):PX(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ut(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:AX(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:CX(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=_2(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?{data:null,error:i}:r?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new oo}})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new oo};const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&hi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new oo};const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&hi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+FY>i)return r;const{data:s,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=_2(r);n!=null&&n.allowExpired||oX(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=aX(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,KY(`${a}.${l}`)))throw new o_("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}}tg.nextInstanceID=0;const BX=tg;class zX extends BX{constructor(e){super(e)}}class UX{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const a=RY(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:NY,realtime:AY,auth:Object.assign(Object.assign({},EY),{storageKey:l}),global:_Y},u=LY(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=PY(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new IJ(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new bY(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new EJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zX({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new XJ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $X=(t,e,n)=>new UX(t,e,n);function VX(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HX="https://ieepvzdzsszballnorfm.supabase.co",qX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImllZXB2emR6c3N6YmFsbG5vcmZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNTEzNTksImV4cCI6MjA3NzgyNzM1OX0.B025g-hyjeDIC1RUsSiBVg_MNIOOTYAutDrjY7bvyss",gn=$X(HX,qX),X8=$.createContext(void 0);function WX({children:t}){const[e,n]=$.useState(null),[r,i]=$.useState(null),[s,o]=$.useState(!0),[a,l]=$.useState(!1);$.useEffect(()=>{gn.auth.getSession().then(({data:{session:m}})=>{n((m==null?void 0:m.user)??null),m!=null&&m.user?c(m.user.id):o(!1)});const{data:{subscription:f}}=gn.auth.onAuthStateChange((m,g)=>{n((g==null?void 0:g.user)??null),g!=null&&g.user?c(g.user.id):(i(null),l(!1),o(!1))});return()=>f.unsubscribe()},[]);async function c(f){var m;try{const{data:g,error:v}=await gn.from("profiles").select("*").eq("id",f).maybeSingle();if(v)throw v;i(g),l((g==null?void 0:g.user_type)==="admin"||((m=g==null?void 0:g.email)==null?void 0:m.includes("admin")))}catch(g){console.error("Error loading profile:",g)}finally{o(!1)}}async function u(f,m,g){const{data:v,error:y}=await gn.auth.signUp({email:f,password:m});if(y)throw y;if(v.user){const{error:w}=await gn.from("profiles").insert({id:v.user.id,email:f,full_name:g.full_name,user_type:g.user_type,organization_name:g.organization_name,practicing_certificate:g.practicing_certificate});if(w)throw w}}async function d(f,m){const{error:g}=await gn.auth.signInWithPassword({email:f,password:m});if(g)throw g}async function h(){const{error:f}=await gn.auth.signOut();if(f)throw f;i(null),l(!1)}return p.jsx(X8.Provider,{value:{user:e,profile:r,loading:s,isAdmin:a,signUp:u,signIn:d,signOut:h},children:t})}function $i(){const t=$.useContext(X8);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}console.log("[ProcessContext] module evaluated");const A2=()=>({hakiBot:{contextChips:[{id:"default",label:"Matter: General"}],pinnedMessageIds:[],transcripts:[]},hakiDraft:{showTour:!1,category:"",documentType:"",clientName:"",caseType:"",description:"",jurisdiction:["Kenya"],generating:!1,generatedDoc:"",editorContent:"",templateId:void 0,versions:[],lastSavedVersionId:null,approvedVersionId:null,error:null},hakiLens:{showTour:!1,activeTab:"deep-research",deepResearchMode:"auto-detect",searchUrl:"",caseSearchTerm:"",sortBy:"date_created",aiQuestion:"",searching:!1,searchResult:"",searchError:null,aiAnswer:"",aiLoading:!1,aiError:null},hakiReview:{showTour:!1,message:"",activeTab:"chat",uploadedFile:null,uploadedFileContent:"",uploadedFileBuffer:void 0,uploadedFileType:void 0,uploadedFileUrl:void 0,chatMessages:[{id:"1",text:"Hi! I'm your AI document assistant. I can help you review, analyze, edit, and sign your legal documents. Upload a document to get started!",sender:"bot",timestamp:new Date}],annotations:{},isLoading:!1}}),Q8=$.createContext(void 0);function KX({children:t}){console.log("[ProcessContext] provider render");const[e,n]=$.useState(()=>A2());$.useEffect(()=>(console.log("[ProcessContext] mounted"),()=>{console.log("[ProcessContext] unmounted")}),[]),$.useEffect(()=>{console.log("[ProcessContext] state change",e)},[e]);const r=$.useCallback(a=>(console.log("[ProcessContext] getProcessState",a),e[a]),[e]),i=$.useCallback((a,l)=>{n(c=>{const u=c[a],d=typeof l=="function"?l(u):{...u,...l};return console.log("[ProcessContext] updateProcessState",a,d),{...c,[a]:d}})},[]),s=$.useCallback(a=>{n(l=>a?(console.log("[ProcessContext] resetProcessState",a),{...l,[a]:A2()[a]}):(console.log("[ProcessContext] resetProcessState ALL"),A2()))},[]),o=$.useMemo(()=>({state:e,getProcessState:r,updateProcessState:i,resetProcessState:s}),[e,r,i,s]);return p.jsx(Q8.Provider,{value:o,children:t})}function iA(){const t=$.useContext(Q8);if(!t)throw new Error("useProcess must be used within a ProcessProvider");return t}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>$.createElement("svg",{ref:l,...JX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Z8("lucide",i),...a},[...o.map(([c,u])=>$.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=$.forwardRef(({className:r,...i},s)=>$.createElement(YX,{ref:s,iconNode:e,className:Z8(`lucide-${GX(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=rt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=rt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=rt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=rt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=rt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=rt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=rt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=rt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=rt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=rt("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=rt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=rt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=rt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=rt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=rt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=rt("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=rt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=rt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=rt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=rt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=rt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=rt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=rt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=rt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=rt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=rt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=rt("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=rt("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=rt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=rt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=rt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=rt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=rt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=rt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=rt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=rt("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=rt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=rt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=rt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=rt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=rt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dF=$.createContext(void 0),NQ=[{id:"default",name:"General",client:"Portfolio"}];function EQ({children:t}){const[e,n]=$.useState(NQ),[r,i]=$.useState("default");$.useEffect(()=>{if(typeof window>"u")return;const a=window.localStorage.getItem("hakichain-active-matter");a&&i(a)},[]),$.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("hakichain-active-matter",r)},[r]);const s=a=>{i(a)},o=$.useMemo(()=>{const a=e.find(l=>l.id===r);return{matters:e,activeMatter:a,setActiveMatter:s}},[e,r]);return p.jsx(dF.Provider,{value:o,children:t})}function fF(){const t=$.useContext(dF);if(!t)throw new Error("useMatter must be used within a MatterProvider");return t}function vP(){const[t,e]=$.useState(!1);$.useEffect(()=>{const r=window.localStorage.getItem("hakichain-theme");r&&(e(r==="dark"),document.documentElement.classList.toggle("dark",r==="dark"))},[]);const n=()=>{e(r=>{const i=!r;return document.documentElement.classList.toggle("dark",i),window.localStorage.setItem("hakichain-theme",i?"dark":"light"),i})};return p.jsx("button",{type:"button","aria-label":"Toggle dark mode",onClick:n,className:"p-2 rounded-lg border border-legal-border text-legal-muted hover:text-legal-accent hover:border-legal-accent focus:outline-none focus:ring-2 focus:ring-legal-accent",children:t?p.jsx(xQ,{className:"h-4 w-4"}):p.jsx(mQ,{className:"h-4 w-4"})})}const AQ={default:"border-legal-border text-legal-accent",accent:"border-legal-accent text-legal-accent bg-legal-accent/10",danger:"border-legal-danger text-legal-danger bg-legal-danger/10"};function dA({children:t,icon:e,tone:n="default",className:r}){return p.jsxs("span",{className:`legal-badge ${AQ[n]} ${r||""}`.trim(),role:"status",children:[e?p.jsx("span",{className:"inline-flex items-center",children:e}):null,t]})}function CQ(){const{user:t,profile:e,signOut:n}=$i(),{matters:r,activeMatter:i,setActiveMatter:s}=fF(),o=Hu(),[a,l]=$.useState(!1);async function c(){await n(),o("/")}return p.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[p.jsxs("div",{className:"flex justify-between items-center h-16 gap-4",children:[p.jsxs(Ot,{to:"/",className:"flex items-center gap-2 text-teal-700 hover:text-teal-800 transition",children:[p.jsx("div",{className:"w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center",children:p.jsx(xu,{className:"w-5 h-5 text-white"})}),p.jsx("span",{className:"font-bold text-xl",children:"HakiChain"})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[i&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(dA,{icon:p.jsx(Lf,{className:"h-3 w-3"}),children:i.name}),p.jsx("select",{"aria-label":"Active matter",value:i.id,onChange:u=>s(u.target.value),className:"border border-legal-border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-legal-accent",children:r.map(u=>p.jsxs("option",{value:u.id,children:[u.name,"  ",u.client]},u.id))})]}),p.jsx(vP,{})]}),p.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[p.jsx(Ot,{to:"/",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Home"}),p.jsx(Ot,{to:"/bounties",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Explore Bounties"}),p.jsx(Ot,{to:"/documentation",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Documentation"}),t&&e?p.jsxs("div",{className:"flex items-center gap-4 ml-4 pl-4 border-l border-gray-200",children:[p.jsx(Ot,{to:"/dashboard",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Dashboard"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"text-sm",children:[p.jsx("div",{className:"font-medium text-gray-900",children:e.full_name}),p.jsx("div",{className:"text-gray-500 capitalize",children:e.user_type})]}),p.jsx("button",{onClick:c,className:"p-2 text-gray-600 hover:text-red-600 transition",title:"Sign out",children:p.jsx(l_,{className:"w-5 h-5"})})]})]}):p.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[p.jsx(Ot,{to:"/login",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Sign In"}),p.jsx(Ot,{to:"/signup",className:"bg-teal-600 hover:bg-teal-700 text-white px-5 py-2 rounded-full font-medium transition",children:"Sign Up"})]})]}),p.jsx("button",{onClick:()=>l(!a),className:"md:hidden p-2 text-gray-600 hover:text-teal-600",children:a?p.jsx(Fg,{className:"w-6 h-6"}):p.jsx(pQ,{className:"w-6 h-6"})})]}),a&&p.jsxs("div",{className:"md:hidden py-4 border-t border-gray-200 space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[i&&p.jsx("select",{"aria-label":"Active matter",value:i.id,onChange:u=>s(u.target.value),className:"border border-legal-border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-legal-accent w-full",children:r.map(u=>p.jsxs("option",{value:u.id,children:[u.name,"  ",u.client]},u.id))}),p.jsx(vP,{})]}),p.jsxs("nav",{className:"flex flex-col gap-4",children:[p.jsx(Ot,{to:"/",onClick:()=>l(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Home"}),p.jsx(Ot,{to:"/bounties",onClick:()=>l(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Explore Bounties"}),p.jsx(Ot,{to:"/documentation",onClick:()=>l(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Documentation"}),t&&e?p.jsxs(p.Fragment,{children:[p.jsx(Ot,{to:"/dashboard",onClick:()=>l(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Dashboard"}),p.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[p.jsxs("div",{className:"text-sm mb-3",children:[p.jsx("div",{className:"font-medium text-gray-900",children:e.full_name}),p.jsx("div",{className:"text-gray-500 capitalize",children:e.user_type})]}),p.jsxs("button",{onClick:()=>{c(),l(!1)},className:"text-red-600 hover:text-red-700 transition font-medium flex items-center gap-2",children:[p.jsx(l_,{className:"w-4 h-4"}),"Sign Out"]})]})]}):p.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-200",children:[p.jsx(Ot,{to:"/login",onClick:()=>l(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Sign In"}),p.jsx(Ot,{to:"/signup",onClick:()=>l(!1),className:"bg-teal-600 hover:bg-teal-700 text-white px-5 py-2 rounded-full font-medium transition text-center",children:"Sign Up"})]})]})]})]})})}function TQ(){return p.jsx("footer",{className:"bg-gray-900 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[p.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs(Ot,{to:"/",className:"flex items-center gap-2 mb-4",children:[p.jsx("div",{className:"w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center",children:p.jsx(xu,{className:"w-5 h-5 text-white"})}),p.jsx("span",{className:"font-bold text-xl",children:"HakiChain"})]}),p.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Blockchain-powered legal justice platform connecting NGOs, donors, and lawyers for positive social impact."}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-teal-600 transition",children:p.jsx(kQ,{className:"w-4 h-4"})}),p.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-teal-600 transition",children:p.jsx(aQ,{className:"w-4 h-4"})}),p.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-teal-600 transition",children:p.jsx(dQ,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[p.jsx("li",{children:p.jsx(Ot,{to:"/",className:"hover:text-teal-400 transition",children:"Home"})}),p.jsx("li",{children:p.jsx(Ot,{to:"/bounties",className:"hover:text-teal-400 transition",children:"Explore Bounties"})}),p.jsx("li",{children:p.jsx(Ot,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Case Studies"})}),p.jsx("li",{children:p.jsx(Ot,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Blog"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4",children:"Resources"}),p.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[p.jsx("li",{children:p.jsx(Ot,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Documentation"})}),p.jsx("li",{children:p.jsx(Ot,{to:"/documentation",className:"hover:text-teal-400 transition",children:"FAQs"})}),p.jsx("li",{children:p.jsx(Ot,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Case Studies"})}),p.jsx("li",{children:p.jsx(Ot,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Blog"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),p.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[p.jsxs("li",{children:["Email: ",p.jsx("a",{href:"mailto:info@hakichain.com",className:"hover:text-teal-400 transition",children:"info@hakichain.com"})]}),p.jsxs("li",{children:["Support: ",p.jsx("a",{href:"mailto:support@hakichain.co.ke",className:"hover:text-teal-400 transition",children:"support@hakichain.com"})]}),p.jsxs("li",{children:["Phone: ",p.jsx("a",{href:"tel:+254011015464",className:"hover:text-teal-400 transition",children:"+254(0)11015464"})]})]})]})]}),p.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," HakiChain. All rights reserved. Blockchain-powered legal justice platform."]})})]})})}const fA=$.createContext({});function hA(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}const lx=$.createContext(null),pA=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class PQ extends $.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jQ({children:t,isPresent:e}){const n=$.useId(),r=$.useRef(null),i=$.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=$.useContext(pA);return $.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),p.jsx(PQ,{isPresent:e,childRef:r,sizeRef:i,children:$.cloneElement(t,{ref:r})})}const LQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=hA(RQ),l=$.useId(),c=$.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=$.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return $.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),$.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(jQ,{isPresent:n,children:t})),p.jsx(lx.Provider,{value:u,children:t})};function RQ(){return new Map}function hF(t=!0){const e=$.useContext(lx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=$.useId();$.useEffect(()=>{t&&i(s)},[t]);const o=$.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Sy=t=>t.key||"";function wP(t){const e=[];return $.Children.forEach(t,n=>{$.isValidElement(n)&&e.push(n)}),e}const mA=typeof window<"u",pF=mA?$.useLayoutEffect:$.useEffect,ih=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=hF(o),c=$.useMemo(()=>wP(t),[t]),u=o&&!a?[]:c.map(Sy),d=$.useRef(!0),h=$.useRef(c),f=hA(()=>new Map),[m,g]=$.useState(c),[v,y]=$.useState(c);pF(()=>{d.current=!1,h.current=c;for(let N=0;N<v.length;N++){const C=Sy(v[N]);u.includes(C)?f.delete(C):f.get(C)!==!0&&f.set(C,!1)}},[v,u.length,u.join("-")]);const w=[];if(c!==m){let N=[...c];for(let C=0;C<v.length;C++){const M=v[C],B=Sy(M);u.includes(B)||(N.splice(C,0,M),w.push(M))}s==="wait"&&w.length&&(N=w),y(wP(N)),g(c);return}const{forceRender:b}=$.useContext(fA);return p.jsx(p.Fragment,{children:v.map(N=>{const C=Sy(N),M=o&&!a?!1:c===v||u.includes(C),B=()=>{if(f.has(C))f.set(C,!0);else return;let z=!0;f.forEach(F=>{F||(z=!1)}),z&&(b==null||b(),y(h.current),o&&(l==null||l()),r&&r())};return p.jsx(LQ,{isPresent:M,initial:!d.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:M?void 0:B,children:N},C)})})},as=t=>t;let mF=as;function gA(t){let e;return()=>(e===void 0&&(e=t()),e)}const sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ba=t=>t*1e3,za=t=>t/1e3,IQ={useManualTiming:!1};function OQ(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const f=d&&r?e:n;return u&&s.add(c),f.has(c)||f.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const ky=["read","resolveKeyframes","update","preRender","render","postRender"],MQ=40;function gF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ky.reduce((y,w)=>(y[w]=OQ(s),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,f=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,MQ),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(f))},m=()=>{n=!0,r=!0,i.isProcessing||t(f)};return{schedule:ky.reduce((y,w)=>{const b=o[w];return y[w]=(N,C=!1,M=!1)=>(n||m(),b.schedule(N,C,M)),y},{}),cancel:y=>{for(let w=0;w<ky.length;w++)o[ky[w]].cancel(y)},state:i,steps:o}}const{schedule:kn,cancel:lc,state:Or,steps:C2}=gF(typeof requestAnimationFrame<"u"?requestAnimationFrame:as,!0),yF=$.createContext({strict:!1}),xP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oh={};for(const t in xP)oh[t]={isEnabled:e=>xP[t].some(n=>!!e[n])};function DQ(t){for(const e in t)oh[e]={...oh[e],...t[e]}}const FQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function E1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FQ.has(t)}let vF=t=>!E1(t);function BQ(t){t&&(vF=e=>e.startsWith("on")?!E1(e):t(e))}try{BQ(require("@emotion/is-prop-valid").default)}catch{}function zQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(vF(i)||n===!0&&E1(i)||!e&&!E1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function UQ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const cx=$.createContext({});function rg(t){return typeof t=="string"||Array.isArray(t)}function ux(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const yA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vA=["initial",...yA];function dx(t){return ux(t.animate)||vA.some(e=>rg(t[e]))}function wF(t){return!!(dx(t)||t.variants)}function $Q(t,e){if(dx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rg(n)?n:void 0,animate:rg(r)?r:void 0}}return t.inherit!==!1?e:{}}function VQ(t){const{initial:e,animate:n}=$Q(t,$.useContext(cx));return $.useMemo(()=>({initial:e,animate:n}),[bP(e),bP(n)])}function bP(t){return Array.isArray(t)?t.join(" "):t}const HQ=Symbol.for("motionComponentSymbol");function vf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qQ(t,e,n){return $.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):vf(n)&&(n.current=r))},[e])}const wA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WQ="framerAppearId",xF="data-"+wA(WQ),{schedule:xA}=gF(queueMicrotask,!1),bF=$.createContext({});function KQ(t,e,n,r,i){var s,o;const{visualElement:a}=$.useContext(cx),l=$.useContext(yF),c=$.useContext(lx),u=$.useContext(pA).reducedMotion,d=$.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=$.useContext(bF);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&GQ(d.current,n,i,f);const m=$.useRef(!1);$.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const g=n[xF],v=$.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return pF(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xA.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),$.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),v.current=!1))}),h}function GQ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SF(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&vf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function SF(t){if(t)return t.options.allowProjection!==!1?t.projection:SF(t.parent)}function JQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&DQ(t);function a(c,u){let d;const h={...$.useContext(pA),...c,layoutId:YQ(c)},{isStatic:f}=h,m=VQ(c),g=r(c,f);if(!f&&mA){XQ();const v=QQ(h);d=v.MeasureLayout,m.visualElement=KQ(i,g,h,e,v.ProjectionNode)}return p.jsxs(cx.Provider,{value:m,children:[d&&m.visualElement?p.jsx(d,{visualElement:m.visualElement,...h}):null,n(i,c,qQ(g,m.visualElement,u),g,f,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=$.forwardRef(a);return l[HQ]=i,l}function YQ({layoutId:t}){const e=$.useContext(fA).id;return e&&t!==void 0?e+"-"+t:t}function XQ(t,e){$.useContext(yF).strict}function QQ(t){const{drag:e,layout:n}=oh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ZQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bA(t){return typeof t!="string"||t.includes("-")?!1:!!(ZQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function SP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function SA(t,e,n,r){if(typeof e=="function"){const[i,s]=SP(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=SP(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const u_=t=>Array.isArray(t),eZ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),tZ=t=>u_(t)?t[t.length-1]||0:t,ei=t=>!!(t&&t.getVelocity);function Nv(t){const e=ei(t)?t.get():t;return eZ(e)?e.toValue():e}function nZ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:rZ(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const kF=t=>(e,n)=>{const r=$.useContext(cx),i=$.useContext(lx),s=()=>nZ(t,e,r,i);return n?s():hA(s)};function rZ(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Nv(s[h]);let{initial:o,animate:a}=t;const l=dx(t),c=wF(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!ux(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const m=SA(t,h[f]);if(m){const{transitionEnd:g,transition:v,...y}=m;for(const w in y){let b=y[w];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(i[w]=b)}for(const w in g)i[w]=g[w]}}}return i}const Ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wu=new Set(Ph),_F=t=>e=>typeof e=="string"&&e.startsWith(t),NF=_F("--"),iZ=_F("var(--"),kA=t=>iZ(t)?sZ.test(t.split("/*")[0].trim()):!1,sZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,EF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ka=(t,e,n)=>n>e?e:n<t?t:n,jh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ig={...jh,transform:t=>Ka(0,1,t)},_y={...jh,default:1},Bg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_l=Bg("deg"),ea=Bg("%"),yt=Bg("px"),oZ=Bg("vh"),aZ=Bg("vw"),kP={...ea,parse:t=>ea.parse(t)/100,transform:t=>ea.transform(t*100)},lZ={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt},cZ={rotate:_l,rotateX:_l,rotateY:_l,rotateZ:_l,scale:_y,scaleX:_y,scaleY:_y,scaleZ:_y,skew:_l,skewX:_l,skewY:_l,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:ig,originX:kP,originY:kP,originZ:yt},_P={...jh,transform:Math.round},_A={...lZ,...cZ,zIndex:_P,size:yt,fillOpacity:ig,strokeOpacity:ig,numOctaves:_P},uZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dZ=Ph.length;function fZ(t,e,n){let r="",i=!0;for(let s=0;s<dZ;s++){const o=Ph[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=EF(a,_A[o]);if(!l){i=!1;const u=uZ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function NA(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Wu.has(l)){o=!0;continue}else if(NF(l)){i[l]=c;continue}else{const u=EF(c,_A[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=fZ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const hZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},pZ={offset:"strokeDashoffset",array:"strokeDasharray"};function mZ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?hZ:pZ;t[s.offset]=yt.transform(-r);const o=yt.transform(e),a=yt.transform(n);t[s.array]=`${o} ${a}`}function NP(t,e,n){return typeof t=="string"?t:yt.transform(e+n*t)}function gZ(t,e,n){const r=NP(e,t.x,t.width),i=NP(n,t.y,t.height);return`${r} ${i}`}function EA(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(NA(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:m}=t;h.transform&&(m&&(f.transform=h.transform),delete h.transform),m&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=gZ(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&mZ(h,o,a,l,!1)}const AA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),AF=()=>({...AA(),attrs:{}}),CA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CF(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const TF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PF(t,e,n,r){CF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(TF.has(i)?i:wA(i),e.attrs[i])}const A1={};function yZ(t){Object.assign(A1,t)}function jF(t,{layout:e,layoutId:n}){return Wu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!A1[t]||t==="opacity")}function TA(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ei(i[o])||e.style&&ei(e.style[o])||jF(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function LF(t,e,n){const r=TA(t,e,n);for(const i in t)if(ei(t[i])||ei(e[i])){const s=Ph.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function vZ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const EP=["x","y","width","height","cx","cy","r"],wZ={useVisualState:kF({scrapeMotionValuesFromProps:LF,createRenderState:AF,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Wu.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<EP.length;a++){const l=EP[a];t[l]!==e[l]&&(o=!0)}o&&kn.read(()=>{vZ(n,r),kn.render(()=>{EA(r,i,CA(n.tagName),t.transformTemplate),PF(n,r)})})}})},xZ={useVisualState:kF({scrapeMotionValuesFromProps:TA,createRenderState:AA})};function RF(t,e,n){for(const r in e)!ei(e[r])&&!jF(r,n)&&(t[r]=e[r])}function bZ({transformTemplate:t},e){return $.useMemo(()=>{const n=AA();return NA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SZ(t,e){const n=t.style||{},r={};return RF(r,n,t),Object.assign(r,bZ(t,e)),r}function kZ(t,e){const n={},r=SZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function _Z(t,e,n,r){const i=$.useMemo(()=>{const s=AF();return EA(s,e,CA(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};RF(s,t.style,t),i.style={...s,...i.style}}return i}function NZ(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(bA(n)?_Z:kZ)(r,s,o,n),c=zQ(r,typeof n=="string",t),u=n!==$.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=$.useMemo(()=>ei(d)?d.get():d,[d]);return $.createElement(n,{...u,children:h})}}function EZ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...bA(r)?wZ:xZ,preloadedFeatures:t,useRender:NZ(i),createVisualElement:e,Component:r};return JQ(o)}}function IF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fx(t,e,n){const r=t.getProps();return SA(r,e,n!==void 0?n:r.custom,t)}const AZ=gA(()=>window.ScrollTimeline!==void 0);class CZ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(AZ()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class TZ extends CZ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function PA(t,e){return t?t[e]||t.default||t:void 0}const d_=2e4;function OF(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<d_;)e+=n,r=t.next(e);return e>=d_?1/0:e}function jA(t){return typeof t=="function"}function AP(t,e){t.timeline=e,t.onfinish=null}const LA=t=>Array.isArray(t)&&typeof t[0]=="number",PZ={linearEasing:void 0};function jZ(t,e){const n=gA(t);return()=>{var r;return(r=PZ[e])!==null&&r!==void 0?r:n()}}const C1=jZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MF=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(sh(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function DF(t){return!!(typeof t=="function"&&C1()||!t||typeof t=="string"&&(t in f_||C1())||LA(t)||Array.isArray(t)&&t.every(DF))}const Wp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,f_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wp([0,.65,.55,1]),circOut:Wp([.55,0,1,.45]),backIn:Wp([.31,.01,.66,-.59]),backOut:Wp([.33,1.53,.69,.99])};function FF(t,e){if(t)return typeof t=="function"&&C1()?MF(t,e):LA(t)?Wp(t):Array.isArray(t)?t.map(n=>FF(n,e)||f_.easeOut):f_[t]}const lo={x:!1,y:!1};function BF(){return lo.x||lo.y}function LZ(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function zF(t,e){const n=LZ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function CP(t){return e=>{e.pointerType==="touch"||BF()||t(e)}}function RZ(t,e,n={}){const[r,i,s]=zF(t,n),o=CP(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=CP(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const UF=(t,e)=>e?t===e?!0:UF(t,e.parentElement):!1,RA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OZ(t){return IZ.has(t.tagName)||t.tabIndex!==-1}const Kp=new WeakSet;function TP(t){return e=>{e.key==="Enter"&&t(e)}}function T2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const MZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=TP(()=>{if(Kp.has(n))return;T2(n,"down");const i=TP(()=>{T2(n,"up")}),s=()=>T2(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function PP(t){return RA(t)&&!BF()}function DZ(t,e,n={}){const[r,i,s]=zF(t,n),o=a=>{const l=a.currentTarget;if(!PP(a)||Kp.has(l))return;Kp.add(l);const c=e(a),u=(f,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!PP(f)||!Kp.has(l))&&(Kp.delete(l),typeof c=="function"&&c(f,{success:m}))},d=f=>{u(f,n.useGlobalTarget||UF(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{!OZ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>MZ(c,i),i)}),s}function FZ(t){return t==="x"||t==="y"?lo[t]?null:(lo[t]=!0,()=>{lo[t]=!1}):lo.x||lo.y?null:(lo.x=lo.y=!0,()=>{lo.x=lo.y=!1})}const $F=new Set(["width","height","top","left","right","bottom",...Ph]);let Ev;function BZ(){Ev=void 0}const ta={now:()=>(Ev===void 0&&ta.set(Or.isProcessing||IQ.useManualTiming?Or.timestamp:performance.now()),Ev),set:t=>{Ev=t,queueMicrotask(BZ)}};function IA(t,e){t.indexOf(e)===-1&&t.push(e)}function OA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class MA{constructor(){this.subscriptions=[]}add(e){return IA(this.subscriptions,e),()=>OA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function VF(t,e){return e?t*(1e3/e):0}const jP=30,zZ=t=>!isNaN(parseFloat(t));class UZ{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ta.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ta.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new MA);const r=this.events[e].add(n);return e==="change"?()=>{r(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ta.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jP);return VF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sg(t,e){return new UZ(t,e)}function $Z(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sg(n))}function VZ(t,e){const n=fx(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=tZ(s[o]);$Z(t,o,a)}}function HZ(t){return!!(ei(t)&&t.add)}function h_(t,e){const n=t.getValue("willChange");if(HZ(n))return n.add(e)}function HF(t){return t.props[xF]}const qF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qZ=1e-7,WZ=12;function KZ(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=qF(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>qZ&&++a<WZ);return o}function zg(t,e,n,r){if(t===e&&n===r)return as;const i=s=>KZ(s,0,1,t,n);return s=>s===0||s===1?s:qF(i(s),e,r)}const WF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KF=t=>e=>1-t(1-e),GF=zg(.33,1.53,.69,.99),DA=KF(GF),JF=WF(DA),YF=t=>(t*=2)<1?.5*DA(t):.5*(2-Math.pow(2,-10*(t-1))),FA=t=>1-Math.sin(Math.acos(t)),XF=KF(FA),QF=WF(FA),ZF=t=>/^0[^.\s]+$/u.test(t);function GZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZF(t):!0}const hm=t=>Math.round(t*1e5)/1e5,BA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JZ(t){return t==null}const YZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zA=(t,e)=>n=>!!(typeof n=="string"&&YZ.test(n)&&n.startsWith(t)||e&&!JZ(n)&&Object.prototype.hasOwnProperty.call(n,e)),e7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(BA);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},XZ=t=>Ka(0,255,t),P2={...jh,transform:t=>Math.round(XZ(t))},du={test:zA("rgb","red"),parse:e7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+P2.transform(t)+", "+P2.transform(e)+", "+P2.transform(n)+", "+hm(ig.transform(r))+")"};function QZ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const p_={test:zA("#"),parse:QZ,transform:du.transform},wf={test:zA("hsl","hue"),parse:e7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ea.transform(hm(e))+", "+ea.transform(hm(n))+", "+hm(ig.transform(r))+")"},Yr={test:t=>du.test(t)||p_.test(t)||wf.test(t),parse:t=>du.test(t)?du.parse(t):wf.test(t)?wf.parse(t):p_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?du.transform(t):wf.transform(t)},ZZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eee(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(BA))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ZZ))===null||n===void 0?void 0:n.length)||0)>0}const t7="number",n7="color",tee="var",nee="var(",LP="${}",ree=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function og(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(ree,l=>(Yr.test(l)?(r.color.push(s),i.push(n7),n.push(Yr.parse(l))):l.startsWith(nee)?(r.var.push(s),i.push(tee),n.push(l)):(r.number.push(s),i.push(t7),n.push(parseFloat(l))),++s,LP)).split(LP);return{values:n,split:a,indexes:r,types:i}}function r7(t){return og(t).values}function i7(t){const{split:e,types:n}=og(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===t7?s+=hm(i[o]):a===n7?s+=Yr.transform(i[o]):s+=i[o]}return s}}const iee=t=>typeof t=="number"?0:t;function see(t){const e=r7(t);return i7(t)(e.map(iee))}const cc={test:eee,parse:r7,createTransformer:i7,getAnimatableNone:see},oee=new Set(["brightness","contrast","saturate","opacity"]);function aee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(BA)||[];if(!r)return t;const i=n.replace(r,"");let s=oee.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const lee=/\b([a-z-]*)\(.*?\)/gu,m_={...cc,getAnimatableNone:t=>{const e=t.match(lee);return e?e.map(aee).join(" "):t}},cee={..._A,color:Yr,backgroundColor:Yr,outlineColor:Yr,fill:Yr,stroke:Yr,borderColor:Yr,borderTopColor:Yr,borderRightColor:Yr,borderBottomColor:Yr,borderLeftColor:Yr,filter:m_,WebkitFilter:m_},UA=t=>cee[t];function s7(t,e){let n=UA(t);return n!==m_&&(n=cc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uee=new Set(["auto","none","0"]);function dee(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!uee.has(s)&&og(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=s7(n,i)}const RP=t=>t===jh||t===yt,IP=(t,e)=>parseFloat(t.split(", ")[e]),OP=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return IP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?IP(s[1],t):0}},fee=new Set(["x","y","z"]),hee=Ph.filter(t=>!fee.has(t));function pee(t){const e=[];return hee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ah={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:OP(4,13),y:OP(5,14)};ah.translateX=ah.x;ah.translateY=ah.y;const bu=new Set;let g_=!1,y_=!1;function o7(){if(y_){const t=Array.from(bu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=pee(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}y_=!1,g_=!1,bu.forEach(t=>t.complete()),bu.clear()}function a7(){bu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(y_=!0)})}function mee(){a7(),o7()}class $A{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bu.add(this),g_||(g_=!0,kn.read(a7),kn.resolveKeyframes(o7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yee(t){const e=gee.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function c7(t,e,n=1){const[r,i]=yee(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return l7(o)?parseFloat(o):o}return kA(i)?c7(i,e,n+1):i}const u7=t=>e=>e.test(t),vee={test:t=>t==="auto",parse:t=>t},d7=[jh,yt,ea,_l,aZ,oZ,vee],MP=t=>d7.find(u7(t));class f7 extends $A{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),kA(c))){const u=c7(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$F.has(r)||e.length!==2)return;const[i,s]=e,o=MP(i),a=MP(s);if(o!==a)if(RP(o)&&RP(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)GZ(e[i])&&r.push(i);r.length&&dee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ah[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ah[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const DP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cc.test(t)||t==="0")&&!t.startsWith("url("));function wee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xee(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=DP(i,e),a=DP(s,e);return!o||!a?!1:wee(t)||(n==="spring"||jA(n))&&r}const bee=t=>t!==null;function hx(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(bee),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const See=40;class h7{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ta.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>See?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mee(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ta.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!xee(e,r,i,s))if(o)this.options.duration=0;else{l&&l(hx(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pn=(t,e,n)=>t+(e-t)*n;function j2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=j2(l,a,t+1/3),s=j2(l,a,t),o=j2(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function T1(t,e){return n=>n>0?e:t}const L2=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},_ee=[p_,du,wf],Nee=t=>_ee.find(e=>e.test(t));function FP(t){const e=Nee(t);if(!e)return!1;let n=e.parse(t);return e===wf&&(n=kee(n)),n}const BP=(t,e)=>{const n=FP(t),r=FP(e);if(!n||!r)return T1(t,e);const i={...n};return s=>(i.red=L2(n.red,r.red,s),i.green=L2(n.green,r.green,s),i.blue=L2(n.blue,r.blue,s),i.alpha=Pn(n.alpha,r.alpha,s),du.transform(i))},Eee=(t,e)=>n=>e(t(n)),Ug=(...t)=>t.reduce(Eee),v_=new Set(["none","hidden"]);function Aee(t,e){return v_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Cee(t,e){return n=>Pn(t,e,n)}function VA(t){return typeof t=="number"?Cee:typeof t=="string"?kA(t)?T1:Yr.test(t)?BP:jee:Array.isArray(t)?p7:typeof t=="object"?Yr.test(t)?BP:Tee:T1}function p7(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>VA(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Tee(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=VA(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Pee(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const jee=(t,e)=>{const n=cc.createTransformer(e),r=og(t),i=og(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?v_.has(t)&&!i.values.length||v_.has(e)&&!r.values.length?Aee(t,e):Ug(p7(Pee(r,i),i.values),n):T1(t,e)};function m7(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pn(t,e,n):VA(t)(t,e)}const Lee=5;function g7(t,e,n){const r=Math.max(e-Lee,0);return VF(n-t(r),e-r)}const Bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},R2=.001;function Ree({duration:t=Bn.duration,bounce:e=Bn.bounce,velocity:n=Bn.velocity,mass:r=Bn.mass}){let i,s,o=1-e;o=Ka(Bn.minDamping,Bn.maxDamping,o),t=Ka(Bn.minDuration,Bn.maxDuration,za(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,f=w_(c,o),m=Math.exp(-d);return R2-h/f*m},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=w_(Math.pow(c,2),o);return(-i(c)+R2>0?-1:1)*((h-f)*m)/g}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-R2+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Oee(i,s,a);if(t=Ba(t),isNaN(l))return{stiffness:Bn.stiffness,damping:Bn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Iee=12;function Oee(t,e,n){let r=n;for(let i=1;i<Iee;i++)r=r-t(r)/e(r);return r}function w_(t,e){return t*Math.sqrt(1-e*e)}const Mee=["duration","bounce"],Dee=["stiffness","damping","mass"];function zP(t,e){return e.some(n=>t[n]!==void 0)}function Fee(t){let e={velocity:Bn.velocity,stiffness:Bn.stiffness,damping:Bn.damping,mass:Bn.mass,isResolvedFromDuration:!1,...t};if(!zP(t,Dee)&&zP(t,Mee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ka(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Bn.mass,stiffness:i,damping:s}}else{const n=Ree(t);e={...e,...n,mass:Bn.mass},e.isResolvedFromDuration=!0}return e}function y7(t=Bn.visualDuration,e=Bn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=Fee({...n,velocity:-za(n.velocity||0)}),m=h||0,g=c/(2*Math.sqrt(l*u)),v=o-s,y=za(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?Bn.restSpeed.granular:Bn.restSpeed.default),i||(i=w?Bn.restDelta.granular:Bn.restDelta.default);let b;if(g<1){const C=w_(y,g);b=M=>{const B=Math.exp(-g*y*M);return o-B*((m+g*y*v)/C*Math.sin(C*M)+v*Math.cos(C*M))}}else if(g===1)b=C=>o-Math.exp(-y*C)*(v+(m+y*v)*C);else{const C=y*Math.sqrt(g*g-1);b=M=>{const B=Math.exp(-g*y*M),z=Math.min(C*M,300);return o-B*((m+g*y*v)*Math.sinh(z)+C*v*Math.cosh(z))/C}}const N={calculatedDuration:f&&d||null,next:C=>{const M=b(C);if(f)a.done=C>=d;else{let B=0;g<1&&(B=C===0?Ba(m):g7(b,C,M));const z=Math.abs(B)<=r,F=Math.abs(o-M)<=i;a.done=z&&F}return a.value=a.done?o:M,a},toString:()=>{const C=Math.min(OF(N),d_),M=MF(B=>N.next(C*B).value,C,30);return C+"ms "+M}};return N}function UP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=z=>a!==void 0&&z<a||l!==void 0&&z>l,m=z=>a===void 0?l:l===void 0||Math.abs(a-z)<Math.abs(l-z)?a:l;let g=n*e;const v=d+g,y=o===void 0?v:o(v);y!==v&&(g=y-d);const w=z=>-g*Math.exp(-z/r),b=z=>y+w(z),N=z=>{const F=w(z),G=b(z);h.done=Math.abs(F)<=c,h.value=h.done?y:G};let C,M;const B=z=>{f(h.value)&&(C=z,M=y7({keyframes:[h.value,m(h.value)],velocity:g7(b,z,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return B(0),{calculatedDuration:null,next:z=>{let F=!1;return!M&&C===void 0&&(F=!0,N(z),B(z)),C!==void 0&&z>=C?M.next(z-C):(!F&&N(z),h)}}}const Bee=zg(.42,0,1,1),zee=zg(0,0,.58,1),v7=zg(.42,0,.58,1),Uee=t=>Array.isArray(t)&&typeof t[0]!="number",$ee={linear:as,easeIn:Bee,easeInOut:v7,easeOut:zee,circIn:FA,circInOut:QF,circOut:XF,backIn:DA,backInOut:JF,backOut:GF,anticipate:YF},$P=t=>{if(LA(t)){mF(t.length===4);const[e,n,r,i]=t;return zg(e,n,r,i)}else if(typeof t=="string")return $ee[t];return t};function Vee(t,e,n){const r=[],i=n||m7,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||as:e;a=Ug(l,a)}r.push(a)}return r}function Hee(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(mF(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Vee(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=sh(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Ka(t[0],t[s-1],u)):c}function qee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=sh(0,e,r);t.push(Pn(n,1,i))}}function Wee(t){const e=[0];return qee(e,t.length-1),e}function Kee(t,e){return t.map(n=>n*e)}function Gee(t,e){return t.map(()=>e||v7).splice(0,t.length-1)}function P1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Uee(r)?r.map($P):$P(r),s={done:!1,value:e[0]},o=Kee(n&&n.length===e.length?n:Wee(e),t),a=Hee(o,e,{ease:Array.isArray(i)?i:Gee(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Jee=t=>{const e=({timestamp:n})=>t(n);return{start:()=>kn.update(e,!0),stop:()=>lc(e),now:()=>Or.isProcessing?Or.timestamp:ta.now()}},Yee={decay:UP,inertia:UP,tween:P1,keyframes:P1,spring:y7},Xee=t=>t/100;class HA extends h7{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||$A,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=jA(n)?n:Yee[n]||P1;let l,c;a!==P1&&typeof e[0]!="number"&&(l=Ug(Xee,m7(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=OF(u));const{calculatedDuration:d}=u,h=d+i,f=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:f,repeatType:m,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,N=s;if(f){const z=Math.min(this.currentTime,u)/d;let F=Math.floor(z),G=z%1;!G&&z>=1&&(G=1),G===1&&F--,F=Math.min(F,f+1),!!(F%2)&&(m==="reverse"?(G=1-G,g&&(G-=g/d)):m==="mirror"&&(N=o)),b=Ka(0,1,G)*d}const C=w?{done:!1,value:l[0]}:N.next(b);a&&(C.value=a(C.value));let{done:M}=C;!w&&c!==null&&(M=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return B&&i!==void 0&&(C.value=hx(l,this.options,i)),v&&v(C.value),B&&this.finish(),C}get duration(){const{resolved:e}=this;return e?za(e.calculatedDuration):0}get time(){return za(this.currentTime)}set time(e){e=Ba(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=za(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Jee,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Qee=new Set(["opacity","clipPath","filter","transform"]);function Zee(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=FF(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const ete=gA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),j1=10,tte=2e4;function nte(t){return jA(t.type)||t.type==="spring"||!DF(t.ease)}function rte(t,e){const n=new HA({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<tte;)r=n.sample(s),i.push(r.value),s+=j1;return{times:void 0,keyframes:i,duration:s-j1,ease:"linear"}}const w7={anticipate:YF,backInOut:JF,circInOut:QF};function ite(t){return t in w7}class VP extends h7{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new f7(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&C1()&&ite(s)&&(s=w7[s]),nte(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,element:m,...g}=this.options,v=rte(e,g);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const u=Zee(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(AP(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(hx(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return za(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return za(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ba(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return as;const{animation:r}=n;AP(r,e)}return as}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...f}=this.options,m=new HA({...f,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=Ba(this.time);c.setWithVelocity(m.sample(g-j1).value,m.sample(g).value,j1)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return ete()&&r&&Qee.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const ste={type:"spring",stiffness:500,damping:25,restSpeed:10},ote=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ate={type:"keyframes",duration:.8},lte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cte=(t,{keyframes:e})=>e.length>2?ate:Wu.has(t)?t.startsWith("scale")?ote(e[1]):ste:lte;function ute({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const qA=(t,e,n,r={},i,s)=>o=>{const a=PA(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ba(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};ute(a)||(u={...u,...cte(t,u)}),u.duration&&(u.duration=Ba(u.duration)),u.repeatDelay&&(u.repeatDelay=Ba(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=hx(u.keyframes,a);if(h!==void 0)return kn.update(()=>{u.onUpdate(h),u.onComplete()}),new TZ([])}return!s&&VP.supports(u)?new VP(u):new HA(u)};function dte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function x7(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),f=l[d];if(f===void 0||u&&dte(u,d))continue;const m={delay:n,...PA(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const y=HF(t);if(y){const w=window.MotionHandoffAnimation(y,d,kn);w!==null&&(m.startTime=w,g=!0)}}h_(t,d),h.start(qA(d,h,f,t.shouldReduceMotion&&$F.has(d)?{type:!1}:m,t,g));const v=h.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{kn.update(()=>{a&&VZ(t,a)})}),c}function x_(t,e,n={}){var r;const i=fx(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(x7(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return fte(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function fte(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(hte).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(x_(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function hte(t,e){return t.sortNodePosition(e)}function pte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>x_(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=x_(t,e,n);else{const i=typeof e=="function"?fx(t,e,n.custom):e;r=Promise.all(x7(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const mte=vA.length;function b7(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?b7(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mte;n++){const r=vA[n],i=t.props[r];(rg(i)||i===!1)&&(e[r]=i)}return e}const gte=[...yA].reverse(),yte=yA.length;function vte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pte(t,n,r)))}function wte(t){let e=vte(t),n=HP(),r=!0;const i=l=>(c,u)=>{var d;const h=fx(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:m,...g}=h;c={...c,...g,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=b7(t.parent)||{},d=[],h=new Set;let f={},m=1/0;for(let v=0;v<yte;v++){const y=gte[v],w=n[y],b=c[y]!==void 0?c[y]:u[y],N=rg(b),C=y===l?w.isActive:null;C===!1&&(m=v);let M=b===u[y]&&b!==c[y]&&N;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...f},!w.isActive&&C===null||!b&&!w.prevProp||ux(b)||typeof b=="boolean")continue;const B=xte(w.prevProp,b);let z=B||y===l&&w.isActive&&!M&&N||v>m&&N,F=!1;const G=Array.isArray(b)?b:[b];let W=G.reduce(i(y),{});C===!1&&(W={});const{prevResolvedValues:L={}}=w,V={...L,...W},E=re=>{z=!0,h.has(re)&&(F=!0,h.delete(re)),w.needsAnimating[re]=!0;const K=t.getValue(re);K&&(K.liveStyle=!1)};for(const re in V){const K=W[re],Y=L[re];if(f.hasOwnProperty(re))continue;let q=!1;u_(K)&&u_(Y)?q=!IF(K,Y):q=K!==Y,q?K!=null?E(re):h.add(re):K!==void 0&&h.has(re)?E(re):w.protectedKeys[re]=!0}w.prevProp=b,w.prevResolvedValues=W,w.isActive&&(f={...f,...W}),r&&t.blockInitialAnimation&&(z=!1),z&&(!(M&&B)||F)&&d.push(...G.map(re=>({animation:re,options:{type:y}})))}if(h.size){const v={};h.forEach(y=>{const w=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let g=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=HP(),r=!0}}}function xte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IF(e,t):!1}function Hc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HP(){return{animate:Hc(!0),whileInView:Hc(),whileHover:Hc(),whileTap:Hc(),whileDrag:Hc(),whileFocus:Hc(),exit:Hc()}}class kc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bte extends kc{constructor(e){super(e),e.animationState||(e.animationState=wte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ux(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Ste=0;class kte extends kc{constructor(){super(...arguments),this.id=Ste++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _te={animation:{Feature:bte},exit:{Feature:kte}};function ag(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $g(t){return{point:{x:t.pageX,y:t.pageY}}}const Nte=t=>e=>RA(e)&&t(e,$g(e));function pm(t,e,n,r){return ag(t,e,Nte(n),r)}const qP=(t,e)=>Math.abs(t-e);function Ete(t,e){const n=qP(t.x,e.x),r=qP(t.y,e.y);return Math.sqrt(n**2+r**2)}class S7{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=O2(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=Ete(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:m}=d,{timestamp:g}=Or;this.history.push({...m,timestamp:g});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=I2(h,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=O2(d.type==="pointercancel"?this.lastMoveEventInfo:I2(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,v),m&&m(d,v)},!RA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=$g(e),a=I2(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Or;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,O2(a,this.history)),this.removeListeners=Ug(pm(this.contextWindow,"pointermove",this.handlePointerMove),pm(this.contextWindow,"pointerup",this.handlePointerUp),pm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lc(this.updatePoint)}}function I2(t,e){return e?{point:e(t.point)}:t}function WP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function O2({point:t},e){return{point:t,delta:WP(t,k7(e)),offset:WP(t,Ate(e)),velocity:Cte(e,.1)}}function Ate(t){return t[0]}function k7(t){return t[t.length-1]}function Cte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=k7(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ba(e)));)n--;if(!r)return{x:0,y:0};const s=za(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const _7=1e-4,Tte=1-_7,Pte=1+_7,N7=.01,jte=0-N7,Lte=0+N7;function fs(t){return t.max-t.min}function Rte(t,e,n){return Math.abs(t-e)<=n}function KP(t,e,n,r=.5){t.origin=r,t.originPoint=Pn(e.min,e.max,t.origin),t.scale=fs(n)/fs(e),t.translate=Pn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Tte&&t.scale<=Pte||isNaN(t.scale))&&(t.scale=1),(t.translate>=jte&&t.translate<=Lte||isNaN(t.translate))&&(t.translate=0)}function mm(t,e,n,r){KP(t.x,e.x,n.x,r?r.originX:void 0),KP(t.y,e.y,n.y,r?r.originY:void 0)}function GP(t,e,n){t.min=n.min+e.min,t.max=t.min+fs(e)}function Ite(t,e,n){GP(t.x,e.x,n.x),GP(t.y,e.y,n.y)}function JP(t,e,n){t.min=e.min-n.min,t.max=t.min+fs(e)}function gm(t,e,n){JP(t.x,e.x,n.x),JP(t.y,e.y,n.y)}function Ote(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pn(n,t,r.max):Math.min(t,n)),t}function YP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Mte(t,{top:e,left:n,bottom:r,right:i}){return{x:YP(t.x,n,i),y:YP(t.y,e,r)}}function XP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Dte(t,e){return{x:XP(t.x,e.x),y:XP(t.y,e.y)}}function Fte(t,e){let n=.5;const r=fs(t),i=fs(e);return i>r?n=sh(e.min,e.max-r,t.min):r>i&&(n=sh(t.min,t.max-i,e.min)),Ka(0,1,n)}function Bte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const b_=.35;function zte(t=b_){return t===!1?t=0:t===!0&&(t=b_),{x:QP(t,"left","right"),y:QP(t,"top","bottom")}}function QP(t,e,n){return{min:ZP(t,e),max:ZP(t,n)}}function ZP(t,e){return typeof t=="number"?t:t[e]||0}const ej=()=>({translate:0,scale:1,origin:0,originPoint:0}),xf=()=>({x:ej(),y:ej()}),tj=()=>({min:0,max:0}),Gn=()=>({x:tj(),y:tj()});function Cs(t){return[t("x"),t("y")]}function E7({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Ute({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $te(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function M2(t){return t===void 0||t===1}function S_({scale:t,scaleX:e,scaleY:n}){return!M2(t)||!M2(e)||!M2(n)}function Zc(t){return S_(t)||A7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function A7(t){return nj(t.x)||nj(t.y)}function nj(t){return t&&t!=="0%"}function L1(t,e,n){const r=t-n,i=e*r;return n+i}function rj(t,e,n,r,i){return i!==void 0&&(t=L1(t,i,r)),L1(t,n,r)+e}function k_(t,e=0,n=1,r,i){t.min=rj(t.min,e,n,r,i),t.max=rj(t.max,e,n,r,i)}function C7(t,{x:e,y:n}){k_(t.x,e.translate,e.scale,e.originPoint),k_(t.y,n.translate,n.scale,n.originPoint)}const ij=.999999999999,sj=1.0000000000001;function Vte(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Sf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,C7(t,o)),r&&Zc(s.latestValues)&&Sf(t,s.latestValues))}e.x<sj&&e.x>ij&&(e.x=1),e.y<sj&&e.y>ij&&(e.y=1)}function bf(t,e){t.min=t.min+e,t.max=t.max+e}function oj(t,e,n,r,i=.5){const s=Pn(t.min,t.max,i);k_(t,e,n,s,r)}function Sf(t,e){oj(t.x,e.x,e.scaleX,e.scale,e.originX),oj(t.y,e.y,e.scaleY,e.scale,e.originY)}function T7(t,e){return E7($te(t.getBoundingClientRect(),e))}function Hte(t,e,n){const r=T7(t,n),{scroll:i}=e;return i&&(bf(r.x,i.offset.x),bf(r.y,i.offset.y)),r}const P7=({current:t})=>t?t.ownerDocument.defaultView:null,qte=new WeakMap;class Wte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($g(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:m}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FZ(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cs(v=>{let y=this.getAxisMotionValue(v).get()||0;if(ea.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(y=fs(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&kn.postRender(()=>m(u,d)),h_(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(f&&this.currentDirection===null){this.currentDirection=Kte(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Cs(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new S7(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:P7(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&kn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ny(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Ote(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&vf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Mte(i.layoutBox,n):this.constraints=!1,this.elastic=zte(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Bte(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Hte(r,i.root,this.visualElement.getTransformPagePoint());let o=Dte(i.layout.layoutBox,s);if(n){const a=n(Ute(o));this.hasMutatedConstraints=!!a,a&&(o=E7(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cs(u=>{if(!Ny(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return h_(this.visualElement,e),r.start(qA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cs(n=>{const{drag:r}=this.getProps();if(!Ny(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Pn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Fte({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cs(o=>{if(!Ny(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;qte.set(this.visualElement,this);const e=this.visualElement.current,n=pm(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();vf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kn.read(r);const o=ag(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cs(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=b_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ny(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Kte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Gte extends kc{constructor(e){super(e),this.removeGroupControls=as,this.removeListeners=as,this.controls=new Wte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||as}unmount(){this.removeGroupControls(),this.removeListeners()}}const aj=t=>(e,n)=>{t&&kn.postRender(()=>t(e,n))};class Jte extends kc{constructor(){super(...arguments),this.removePointerDownListener=as}onPointerDown(e){this.session=new S7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aj(e),onStart:aj(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&kn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=pm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Av={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ap={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(yt.test(t))t=parseFloat(t);else return t;const n=lj(t,e.target.x),r=lj(t,e.target.y);return`${n}% ${r}%`}},Yte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=cc.parse(t);if(i.length>5)return r;const s=cc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Pn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Xte extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;yZ(Qte),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Av.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function j7(t){const[e,n]=hF(),r=$.useContext(fA);return p.jsx(Xte,{...t,layoutGroup:r,switchLayoutGroup:$.useContext(bF),isPresent:e,safeToRemove:n})}const Qte={borderRadius:{...Ap,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ap,borderTopRightRadius:Ap,borderBottomLeftRadius:Ap,borderBottomRightRadius:Ap,boxShadow:Yte};function Zte(t,e,n){const r=ei(t)?t:sg(t);return r.start(qA("",r,e,n)),r.animation}function ene(t){return t instanceof SVGElement&&t.tagName!=="svg"}const tne=(t,e)=>t.depth-e.depth;class nne{constructor(){this.children=[],this.isDirty=!1}add(e){IA(this.children,e),this.isDirty=!0}remove(e){OA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tne),this.isDirty=!1,this.children.forEach(e)}}function rne(t,e){const n=ta.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(lc(r),t(s-e))};return kn.read(r,!0),()=>lc(r)}const L7=["TopLeft","TopRight","BottomLeft","BottomRight"],ine=L7.length,cj=t=>typeof t=="string"?parseFloat(t):t,uj=t=>typeof t=="number"||yt.test(t);function sne(t,e,n,r,i,s){i?(t.opacity=Pn(0,n.opacity!==void 0?n.opacity:1,one(r)),t.opacityExit=Pn(e.opacity!==void 0?e.opacity:1,0,ane(r))):s&&(t.opacity=Pn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ine;o++){const a=`border${L7[o]}Radius`;let l=dj(e,a),c=dj(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uj(l)===uj(c)?(t[a]=Math.max(Pn(cj(l),cj(c),r),0),(ea.test(c)||ea.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pn(e.rotate||0,n.rotate||0,r))}function dj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const one=R7(0,.5,XF),ane=R7(.5,.95,as);function R7(t,e,n){return r=>r<t?0:r>e?1:n(sh(t,e,r))}function fj(t,e){t.min=e.min,t.max=e.max}function Ns(t,e){fj(t.x,e.x),fj(t.y,e.y)}function hj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pj(t,e,n,r,i){return t-=e,t=L1(t,1/n,r),i!==void 0&&(t=L1(t,1/i,r)),t}function lne(t,e=0,n=1,r=.5,i,s=t,o=t){if(ea.test(e)&&(e=parseFloat(e),e=Pn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pn(s.min,s.max,r);t===s&&(a-=e),t.min=pj(t.min,e,n,a,i),t.max=pj(t.max,e,n,a,i)}function mj(t,e,[n,r,i],s,o){lne(t,e[n],e[r],e[i],e.scale,s,o)}const cne=["x","scaleX","originX"],une=["y","scaleY","originY"];function gj(t,e,n,r){mj(t.x,e,cne,n?n.x:void 0,r?r.x:void 0),mj(t.y,e,une,n?n.y:void 0,r?r.y:void 0)}function yj(t){return t.translate===0&&t.scale===1}function I7(t){return yj(t.x)&&yj(t.y)}function vj(t,e){return t.min===e.min&&t.max===e.max}function dne(t,e){return vj(t.x,e.x)&&vj(t.y,e.y)}function wj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function O7(t,e){return wj(t.x,e.x)&&wj(t.y,e.y)}function xj(t){return fs(t.x)/fs(t.y)}function bj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fne{constructor(){this.members=[]}add(e){IA(this.members,e),e.scheduleRender()}remove(e){if(OA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hne(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const eu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Gp=typeof window<"u"&&window.MotionDebug!==void 0,D2=["","X","Y","Z"],pne={visibility:"hidden"},Sj=1e3;let mne=0;function F2(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function M7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=HF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&M7(r)}function D7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=mne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gp&&(eu.totalNodes=eu.resolvedTargetDeltas=eu.recalculatedProjection=0),this.nodes.forEach(vne),this.nodes.forEach(kne),this.nodes.forEach(_ne),this.nodes.forEach(wne),Gp&&window.MotionDebug.record(eu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nne)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new MA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ene(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=rne(h,250),Av.hasAnimatedSinceResize&&(Av.hasAnimatedSinceResize=!1,this.nodes.forEach(_j))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Tne,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!O7(this.targetLayout,m)||f,b=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const N={...PA(g,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||_j(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kj);return}this.isUpdating||this.nodes.forEach(bne),this.isUpdating=!1,this.nodes.forEach(Sne),this.nodes.forEach(gne),this.nodes.forEach(yne),this.clearAllSnapshots();const a=ta.now();Or.delta=Ka(0,1e3/60,a-Or.timestamp),Or.timestamp=a,Or.isProcessing=!0,C2.update.process(Or),C2.preRender.process(Or),C2.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xne),this.sharedNodes.forEach(Ene)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!I7(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Zc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Pne(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Gn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jne))){const{scroll:u}=this.root;u&&(bf(l.x,u.offset.x),bf(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Gn();if(Ns(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Ns(l,o),bf(l.x,d.offset.x),bf(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Gn();Ns(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Sf(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zc(u.latestValues)&&Sf(l,u.latestValues)}return Zc(this.latestValues)&&Sf(l,this.latestValues),l}removeTransform(o){const a=Gn();Ns(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zc(c.latestValues))continue;S_(c.latestValues)&&c.updateSnapshot();const u=Gn(),d=c.measurePageBox();Ns(u,d),gj(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Zc(this.latestValues)&&gj(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Or.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),gm(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gn(),this.targetWithTransforms=Gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ite(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),C7(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),gm(this.relativeTargetOrigin,this.target,f.target),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gp&&eu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||S_(this.parent.latestValues)||A7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ns(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Vte(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Gn());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hj(this.prevProjectionDelta.x,this.projectionDelta.x),hj(this.prevProjectionDelta.y,this.projectionDelta.y)),mm(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!bj(this.projectionDelta.x,this.prevProjectionDelta.x)||!bj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Gp&&eu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xf(),this.projectionDelta=xf(),this.projectionDeltaWithTransform=xf()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=xf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Gn(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=f!==m,v=this.getStack(),y=!v||v.members.length<=1,w=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Cne));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const C=N/1e3;Nj(d.x,o.x,C),Nj(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ane(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&dne(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Gn()),Ns(b,this.relativeTarget)),g&&(this.animationValues=u,sne(u,c,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{Av.hasAnimatedSinceResize=!0,this.currentAnimation=Zte(0,Sj,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&F7(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Gn();const d=fs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=fs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Ns(a,l),Sf(a,u),mm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fne),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&F2("z",o,c,this.animationValues);for(let u=0;u<D2.length;u++)F2(`rotate${D2[u]}`,o,c,this.animationValues),F2(`skew${D2[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pne;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Nv(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Nv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=hne(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:m}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in A1){if(h[g]===void 0)continue;const{correct:v,applyTo:y}=A1[g],w=c.transform==="none"?h[g]:v(h[g],d);if(y){const b=y.length;for(let N=0;N<b;N++)c[y[N]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=d===this?Nv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kj),this.root.sharedNodes.clear()}}}function gne(t){t.updateLayout()}function yne(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Cs(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=fs(h);h.min=r[d].min,h.max=h.min+f}):F7(s,n.layoutBox,r)&&Cs(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=fs(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=xf();mm(a,r,n.layoutBox);const l=xf();o?mm(l,t.applyTransform(i,!0),n.measuredBox):mm(l,r,n.layoutBox);const c=!I7(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=Gn();gm(m,n.layoutBox,h.layoutBox);const g=Gn();gm(g,r,f.layoutBox),O7(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function vne(t){Gp&&eu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xne(t){t.clearSnapshot()}function kj(t){t.clearMeasurements()}function bne(t){t.isLayoutDirty=!1}function Sne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _j(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kne(t){t.resolveTargetDelta()}function _ne(t){t.calcProjection()}function Nne(t){t.resetSkewAndRotation()}function Ene(t){t.removeLeadSnapshot()}function Nj(t,e,n){t.translate=Pn(e.translate,0,n),t.scale=Pn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ej(t,e,n,r){t.min=Pn(e.min,n.min,r),t.max=Pn(e.max,n.max,r)}function Ane(t,e,n,r){Ej(t.x,e.x,n.x,r),Ej(t.y,e.y,n.y,r)}function Cne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Tne={duration:.45,ease:[.4,0,.1,1]},Aj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Cj=Aj("applewebkit/")&&!Aj("chrome/")?Math.round:as;function Tj(t){t.min=Cj(t.min),t.max=Cj(t.max)}function Pne(t){Tj(t.x),Tj(t.y)}function F7(t,e,n){return t==="position"||t==="preserve-aspect"&&!Rte(xj(e),xj(n),.2)}function jne(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Lne=D7({attachResizeListener:(t,e)=>ag(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),B2={current:void 0},B7=D7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!B2.current){const t=new Lne({});t.mount(window),t.setOptions({layoutScroll:!0}),B2.current=t}return B2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rne={pan:{Feature:Jte},drag:{Feature:Gte,ProjectionNode:B7,MeasureLayout:j7}};function Pj(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&kn.postRender(()=>s(e,$g(e)))}class Ine extends kc{mount(){const{current:e}=this.node;e&&(this.unmount=RZ(e,n=>(Pj(this.node,n,"Start"),r=>Pj(this.node,r,"End"))))}unmount(){}}class One extends kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ug(ag(this.node.current,"focus",()=>this.onFocus()),ag(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jj(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&kn.postRender(()=>s(e,$g(e)))}class Mne extends kc{mount(){const{current:e}=this.node;e&&(this.unmount=DZ(e,n=>(jj(this.node,n,"Start"),(r,{success:i})=>jj(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const __=new WeakMap,z2=new WeakMap,Dne=t=>{const e=__.get(t.target);e&&e(t)},Fne=t=>{t.forEach(Dne)};function Bne({root:t,...e}){const n=t||document;z2.has(n)||z2.set(n,{});const r=z2.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Fne,{root:t,...e})),r[i]}function zne(t,e,n){const r=Bne(e);return __.set(t,n),r.observe(t),()=>{__.delete(t),r.unobserve(t)}}const Une={some:0,all:1};class $ne extends kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Une[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return zne(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Vne(e,n))&&this.startObserver()}unmount(){}}function Vne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hne={inView:{Feature:$ne},tap:{Feature:Mne},focus:{Feature:One},hover:{Feature:Ine}},qne={layout:{ProjectionNode:B7,MeasureLayout:j7}},N_={current:null},z7={current:!1};function Wne(){if(z7.current=!0,!!mA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>N_.current=t.matches;t.addListener(e),e()}else N_.current=!1}const Kne=[...d7,Yr,cc],Gne=t=>Kne.find(u7(t)),Lj=new WeakMap;function Jne(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ei(i))t.addValue(r,i);else if(ei(s))t.addValue(r,sg(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,sg(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Rj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yne{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$A,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ta.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,kn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=dx(n),this.isVariantNode=wF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&ei(m)&&m.set(l[f],!1)}}mount(e){this.current=e,Lj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z7.current||Wne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:N_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Lj.delete(this.current),this.projection&&this.projection.unmount(),lc(this.notifyUpdate),lc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wu.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&kn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oh){const n=oh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rj.length;r++){const i=Rj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Jne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(l7(i)||ZF(i))?i=parseFloat(i):!Gne(i)&&cc.test(n)&&(i=s7(e,n)),this.setBaseTarget(e,ei(i)?i.get():i)),ei(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=SA(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ei(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new MA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U7 extends Yne{constructor(){super(...arguments),this.KeyframeResolver=f7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ei(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Xne(t){return window.getComputedStyle(t)}class Qne extends U7{constructor(){super(...arguments),this.type="html",this.renderInstance=CF}readValueFromInstance(e,n){if(Wu.has(n)){const r=UA(n);return r&&r.default||0}else{const r=Xne(e),i=(NF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return T7(e,n)}build(e,n,r){NA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return TA(e,n,r)}}class Zne extends U7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wu.has(n)){const r=UA(n);return r&&r.default||0}return n=TF.has(n)?n:wA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LF(e,n,r)}build(e,n,r){EA(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){PF(e,n,r,i)}mount(e){this.isSVGTag=CA(e.tagName),super.mount(e)}}const ere=(t,e)=>bA(t)?new Zne(e):new Qne(e,{allowProjection:t!==$.Fragment}),tre=EZ({..._te,...Hne,...Rne,...qne},ere),Mr=UQ(tre),nre=()=>{const t="openai";return{provider:t,apiKey:"",baseURL:void 0,model:rre(t),temperature:parseFloat("0.7"),maxTokens:parseInt("2000")}},rre=t=>{switch(t){case"openai":return"gpt-4o-mini";case"anthropic":return"claude-3-5-sonnet-20241022";case"openrouter":return"openai/gpt-4o-mini";case"gemini":return"gemini-pro";case"local":return"llama2";default:return"gpt-4o-mini"}};async function ire(t,e,n){var i,s,o;if(!e.apiKey)return{content:"",error:"OpenAI API key is required. Please set VITE_LLM_API_KEY in your .env file."};const r=e.baseURL||"https://api.openai.com/v1";try{const a=await fetch(`${r}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},signal:n,body:JSON.stringify({model:e.model||"gpt-4o-mini",messages:t.map(c=>({role:c.role,content:c.content})),temperature:e.temperature||.7,max_tokens:e.maxTokens||2e3})});if(!a.ok){const u=((i=(await a.json().catch(()=>({}))).error)==null?void 0:i.message)||`OpenAI API error: ${a.status} ${a.statusText}`,d=Vg(u,a.status);return{content:"",error:u,retryable:d}}return{content:((o=(s=(await a.json()).choices[0])==null?void 0:s.message)==null?void 0:o.content)||""}}catch(a){return{content:"",error:a instanceof Error?a.message:"Failed to call OpenAI API",retryable:!1}}}async function sre(t,e,n){var o,a;if(!e.apiKey)return{content:"",error:"Anthropic API key is required. Please set VITE_LLM_API_KEY in your .env file."};const r=e.baseURL||"https://api.anthropic.com/v1",i=t.find(l=>l.role==="system"),s=t.filter(l=>l.role!=="system");try{const l=await fetch(`${r}/messages`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e.apiKey,"anthropic-version":"2023-06-01"},signal:n,body:JSON.stringify({model:e.model||"claude-3-5-sonnet-20241022",max_tokens:e.maxTokens||2e3,temperature:e.temperature||.7,system:(i==null?void 0:i.content)||void 0,messages:s.map(u=>({role:u.role==="assistant"?"assistant":"user",content:u.content}))})});if(!l.ok){const d=((o=(await l.json().catch(()=>({}))).error)==null?void 0:o.message)||`Anthropic API error: ${l.status} ${l.statusText}`,h=Vg(d,l.status);return{content:"",error:d,retryable:h}}return{content:((a=(await l.json()).content[0])==null?void 0:a.text)||""}}catch(l){return{content:"",error:l instanceof Error?l.message:"Failed to call Anthropic API",retryable:!1}}}function Vg(t,e){const n=["overloaded","rate limit","too many requests","service unavailable","temporarily unavailable","503","429","quota","throttle"],r=t.toLowerCase();return n.some(i=>r.includes(i))||e===429||e===503}async function ore(t,e,n){var i,s,o;if(!e.apiKey)return{content:"",error:"OpenRouter API key is required. Please set VITE_LLM_API_KEY in your .env file.",retryable:!1};const r=e.baseURL||"https://openrouter.ai/api/v1";try{const a=await fetch(`${r}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`,"HTTP-Referer":window.location.origin,"X-Title":"HakiChain BLI Web App"},signal:n,body:JSON.stringify({model:e.model||"openai/gpt-4o-mini",messages:t.map(c=>({role:c.role,content:c.content})),temperature:e.temperature||.7,max_tokens:e.maxTokens||2e3})});if(!a.ok){const u=((i=(await a.json().catch(()=>({}))).error)==null?void 0:i.message)||`OpenRouter API error: ${a.status} ${a.statusText}`,d=Vg(u,a.status);let h=u;return u.toLowerCase().includes("overloaded")?h="The model is currently overloaded. Please wait a moment and try again. If the issue persists, try switching to a different model in your .env file.":u.toLowerCase().includes("rate limit")||a.status===429?h="Rate limit exceeded. Please wait a few moments before trying again, or check your OpenRouter account for usage limits.":(u.toLowerCase().includes("quota")||u.toLowerCase().includes("credits"))&&(h="Insufficient credits/quota. Please add credits to your OpenRouter account at https://openrouter.ai/credits"),{content:"",error:h,retryable:d}}return{content:((o=(s=(await a.json()).choices[0])==null?void 0:s.message)==null?void 0:o.content)||""}}catch(a){return{content:"",error:a instanceof Error?a.message:"Failed to call OpenRouter API",retryable:!1}}}async function are(t,e,n){var c,u,d,h,f,m;if(!e.apiKey)return{content:"",error:"Gemini API key is required. Please set VITE_LLM_API_KEY in your .env file."};const r=e.model||"gemini-pro",i=e.baseURL||"https://generativelanguage.googleapis.com/v1beta",s=t.find(g=>g.role==="system"),l={contents:t.filter(g=>g.role!=="system").map(g=>({role:g.role==="assistant"?"model":"user",parts:[{text:g.content}]})),generationConfig:{temperature:e.temperature||.7,maxOutputTokens:e.maxTokens||2e3}};s&&(l.systemInstruction={parts:[{text:s.content}]});try{const g=`${i}/models/${r}:generateContent?key=${e.apiKey}`,v=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},signal:n,body:JSON.stringify(l)});if(!v.ok){const b=((c=(await v.json().catch(()=>({}))).error)==null?void 0:c.message)||`Gemini API error: ${v.status} ${v.statusText}`,N=Vg(b,v.status);let C=b;return(b.toLowerCase().includes("quota")||v.status===429)&&(C="Gemini API quota exceeded. Please check your quota in Google Cloud Console or wait before retrying."),{content:"",error:C,retryable:N}}return{content:((m=(f=(h=(d=(u=(await v.json()).candidates)==null?void 0:u[0])==null?void 0:d.content)==null?void 0:h.parts)==null?void 0:f[0])==null?void 0:m.text)||""}}catch(g){return{content:"",error:g instanceof Error?g.message:"Failed to call Gemini API",retryable:!1}}}async function lre(t,e,n){var i,s;const r=e.baseURL||"http://localhost:11434/v1";try{const o=await fetch(`${r}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",...e.apiKey&&{Authorization:`Bearer ${e.apiKey}`}},signal:n,body:JSON.stringify({model:e.model||"llama2",messages:t.map(l=>({role:l.role,content:l.content})),temperature:e.temperature||.7,max_tokens:e.maxTokens||2e3})});if(!o.ok){const l=await o.text(),c=`Local API error: ${o.status} ${o.statusText}. ${l}`,u=Vg(c,o.status);return{content:"",error:c,retryable:u}}return{content:((s=(i=(await o.json()).choices[0])==null?void 0:i.message)==null?void 0:s.content)||""}}catch(o){return{content:"",error:o instanceof Error?`Failed to connect to local model: ${o.message}. Make sure your local LLM server is running.`:"Failed to call local model API",retryable:!1}}}async function $7(t,e,n=0,r){const i={...nre(),...e};if(!t||t.length===0)return{content:"",error:"No messages provided",retryable:!1};const s=2,o=2e3;let a;switch(i.provider){case"openai":a=await ire(t,i,r);break;case"anthropic":a=await sre(t,i,r);break;case"openrouter":a=await ore(t,i,r);break;case"gemini":a=await are(t,i,r);break;case"local":a=await lre(t,i,r);break;default:return{content:"",error:`Unsupported provider: ${i.provider}. Supported providers: openai, anthropic, openrouter, gemini, local`,retryable:!1}}if(a.error&&a.retryable&&n<s&&!(r!=null&&r.aborted)){const l=o*Math.pow(2,n);return await new Promise(c=>setTimeout(c,l)),$7(t,e,n+1,r)}return a}async function WA(t,e,n,r){const i=[];return e&&i.push({role:"system",content:e}),i.push({role:"user",content:t}),$7(i,n,0,r)}async function cre(t,e){return WA(t,`You are a professional legal document generator specializing in Kenyan law and legal practices. 
Generate comprehensive, accurate, and professionally formatted legal documents based on user requirements.
Ensure all documents follow proper legal formatting, include necessary clauses, and comply with relevant jurisdiction requirements.`,{...e,temperature:.5,maxTokens:4e3})}function ure(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const dre=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fre=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hre={};function Ij(t,e){return(hre.jsx?fre:dre).test(t)}const pre=/[ \t\n\f\r]/g;function mre(t){return typeof t=="object"?t.type==="text"?Oj(t.value):!1:Oj(t)}function Oj(t){return t.replace(pre,"")===""}let Hg=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Hg.prototype.normal={};Hg.prototype.property={};Hg.prototype.space=void 0;function V7(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Hg(n,r,e)}function E_(t){return t.toLowerCase()}class Hi{constructor(e,n){this.attribute=n,this.property=e}}Hi.prototype.attribute="";Hi.prototype.booleanish=!1;Hi.prototype.boolean=!1;Hi.prototype.commaOrSpaceSeparated=!1;Hi.prototype.commaSeparated=!1;Hi.prototype.defined=!1;Hi.prototype.mustUseProperty=!1;Hi.prototype.number=!1;Hi.prototype.overloadedBoolean=!1;Hi.prototype.property="";Hi.prototype.spaceSeparated=!1;Hi.prototype.space=void 0;let gre=0;const It=Ku(),or=Ku(),A_=Ku(),Ye=Ku(),mn=Ku(),Rf=Ku(),Xi=Ku();function Ku(){return 2**++gre}const C_=Object.freeze(Object.defineProperty({__proto__:null,boolean:It,booleanish:or,commaOrSpaceSeparated:Xi,commaSeparated:Rf,number:Ye,overloadedBoolean:A_,spaceSeparated:mn},Symbol.toStringTag,{value:"Module"})),U2=Object.keys(C_);class KA extends Hi{constructor(e,n,r,i){let s=-1;if(super(e,n),Mj(this,"space",i),typeof r=="number")for(;++s<U2.length;){const o=U2[s];Mj(this,U2[s],(r&C_[o])===C_[o])}}}KA.prototype.defined=!0;function Mj(t,e,n){n&&(t[e]=n)}function Lh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new KA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[E_(r)]=r,n[E_(s.attribute)]=r}return new Hg(e,n,t.space)}const H7=Lh({properties:{ariaActiveDescendant:null,ariaAtomic:or,ariaAutoComplete:null,ariaBusy:or,ariaChecked:or,ariaColCount:Ye,ariaColIndex:Ye,ariaColSpan:Ye,ariaControls:mn,ariaCurrent:null,ariaDescribedBy:mn,ariaDetails:null,ariaDisabled:or,ariaDropEffect:mn,ariaErrorMessage:null,ariaExpanded:or,ariaFlowTo:mn,ariaGrabbed:or,ariaHasPopup:null,ariaHidden:or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mn,ariaLevel:Ye,ariaLive:null,ariaModal:or,ariaMultiLine:or,ariaMultiSelectable:or,ariaOrientation:null,ariaOwns:mn,ariaPlaceholder:null,ariaPosInSet:Ye,ariaPressed:or,ariaReadOnly:or,ariaRelevant:null,ariaRequired:or,ariaRoleDescription:mn,ariaRowCount:Ye,ariaRowIndex:Ye,ariaRowSpan:Ye,ariaSelected:or,ariaSetSize:Ye,ariaSort:null,ariaValueMax:Ye,ariaValueMin:Ye,ariaValueNow:Ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function q7(t,e){return e in t?t[e]:e}function W7(t,e){return q7(t,e.toLowerCase())}const yre=Lh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Rf,acceptCharset:mn,accessKey:mn,action:null,allow:null,allowFullScreen:It,allowPaymentRequest:It,allowUserMedia:It,alt:null,as:null,async:It,autoCapitalize:null,autoComplete:mn,autoFocus:It,autoPlay:It,blocking:mn,capture:null,charSet:null,checked:It,cite:null,className:mn,cols:Ye,colSpan:null,content:null,contentEditable:or,controls:It,controlsList:mn,coords:Ye|Rf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:It,defer:It,dir:null,dirName:null,disabled:It,download:A_,draggable:or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:It,formTarget:null,headers:mn,height:Ye,hidden:A_,high:Ye,href:null,hrefLang:null,htmlFor:mn,httpEquiv:mn,id:null,imageSizes:null,imageSrcSet:null,inert:It,inputMode:null,integrity:null,is:null,isMap:It,itemId:null,itemProp:mn,itemRef:mn,itemScope:It,itemType:mn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:It,low:Ye,manifest:null,max:null,maxLength:Ye,media:null,method:null,min:null,minLength:Ye,multiple:It,muted:It,name:null,nonce:null,noModule:It,noValidate:It,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:It,optimum:Ye,pattern:null,ping:mn,placeholder:null,playsInline:It,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:It,referrerPolicy:null,rel:mn,required:It,reversed:It,rows:Ye,rowSpan:Ye,sandbox:mn,scope:null,scoped:It,seamless:It,selected:It,shadowRootClonable:It,shadowRootDelegatesFocus:It,shadowRootMode:null,shape:null,size:Ye,sizes:null,slot:null,span:Ye,spellCheck:or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ye,step:null,style:null,tabIndex:Ye,target:null,title:null,translate:null,type:null,typeMustMatch:It,useMap:null,value:or,width:Ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mn,axis:null,background:null,bgColor:null,border:Ye,borderColor:null,bottomMargin:Ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:It,declare:It,event:null,face:null,frame:null,frameBorder:null,hSpace:Ye,leftMargin:Ye,link:null,longDesc:null,lowSrc:null,marginHeight:Ye,marginWidth:Ye,noResize:It,noHref:It,noShade:It,noWrap:It,object:null,profile:null,prompt:null,rev:null,rightMargin:Ye,rules:null,scheme:null,scrolling:or,standby:null,summary:null,text:null,topMargin:Ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:It,disableRemotePlayback:It,prefix:null,property:null,results:Ye,security:null,unselectable:null},space:"html",transform:W7}),vre=Lh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xi,accentHeight:Ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ye,amplitude:Ye,arabicForm:null,ascent:Ye,attributeName:null,attributeType:null,azimuth:Ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ye,by:null,calcMode:null,capHeight:Ye,className:mn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ye,diffuseConstant:Ye,direction:null,display:null,dur:null,divisor:Ye,dominantBaseline:null,download:It,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ye,enableBackground:null,end:null,event:null,exponent:Ye,externalResourcesRequired:null,fill:null,fillOpacity:Ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Rf,g2:Rf,glyphName:Rf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ye,horizOriginX:Ye,horizOriginY:Ye,id:null,ideographic:Ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ye,k:Ye,k1:Ye,k2:Ye,k3:Ye,k4:Ye,kernelMatrix:Xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ye,overlineThickness:Ye,paintOrder:null,panose1:null,path:null,pathLength:Ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ye,pointsAtY:Ye,pointsAtZ:Ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xi,rev:Xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xi,requiredFeatures:Xi,requiredFonts:Xi,requiredFormats:Xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ye,specularExponent:Ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ye,strikethroughThickness:Ye,string:null,stroke:null,strokeDashArray:Xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ye,strokeOpacity:Ye,strokeWidth:null,style:null,surfaceScale:Ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xi,tabIndex:Ye,tableValues:null,target:null,targetX:Ye,targetY:Ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ye,underlineThickness:Ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ye,values:null,vAlphabetic:Ye,vMathematical:Ye,vectorEffect:null,vHanging:Ye,vIdeographic:Ye,version:null,vertAdvY:Ye,vertOriginX:Ye,vertOriginY:Ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:q7}),K7=Lh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),G7=Lh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:W7}),J7=Lh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),wre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xre=/[A-Z]/g,Dj=/-[a-z]/g,bre=/^data[-\w.:]+$/i;function Sre(t,e){const n=E_(e);let r=e,i=Hi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&bre.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Dj,_re);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Dj.test(s)){let o=s.replace(xre,kre);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=KA}return new i(r,e)}function kre(t){return"-"+t.toLowerCase()}function _re(t){return t.charAt(1).toUpperCase()}const Nre=V7([H7,yre,K7,G7,J7],"html"),GA=V7([H7,vre,K7,G7,J7],"svg");function Ere(t){return t.join(" ").trim()}var JA={},Fj=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Are=/\n/g,Cre=/^\s*/,Tre=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pre=/^:\s*/,jre=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Lre=/^[;\s]*/,Rre=/^\s+|\s+$/g,Ire=`
`,Bj="/",zj="*",iu="",Ore="comment",Mre="declaration";function Dre(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(Are);g&&(n+=g.length);var v=m.lastIndexOf(Ire);r=~v?m.length-v:r+m.length}function s(){var m={line:n,column:r};return function(g){return g.position=new o(m),c(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var v=g[0];return i(v),t=t.slice(v.length),g}}function c(){l(Cre)}function u(m){var g;for(m=m||[];g=d();)g!==!1&&m.push(g);return m}function d(){var m=s();if(!(Bj!=t.charAt(0)||zj!=t.charAt(1))){for(var g=2;iu!=t.charAt(g)&&(zj!=t.charAt(g)||Bj!=t.charAt(g+1));)++g;if(g+=2,iu===t.charAt(g-1))return a("End of comment missing");var v=t.slice(2,g-2);return r+=2,i(v),t=t.slice(g),r+=2,m({type:Ore,comment:v})}}function h(){var m=s(),g=l(Tre);if(g){if(d(),!l(Pre))return a("property missing ':'");var v=l(jre),y=m({type:Mre,property:Uj(g[0].replace(Fj,iu)),value:v?Uj(v[0].replace(Fj,iu)):iu});return l(Lre),y}}function f(){var m=[];u(m);for(var g;g=h();)g!==!1&&(m.push(g),u(m));return m}return c(),f()}function Uj(t){return t?t.replace(Rre,iu):iu}var Fre=Dre,Bre=Gv&&Gv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(JA,"__esModule",{value:!0});JA.default=Ure;const zre=Bre(Fre);function Ure(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,zre.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?e(o,a,s):a&&(n=n||{},n[o]=a)}),n}var px={};Object.defineProperty(px,"__esModule",{value:!0});px.camelCase=void 0;var $re=/^--[a-zA-Z0-9_-]+$/,Vre=/-([a-z])/g,Hre=/^[^-]+$/,qre=/^-(webkit|moz|ms|o|khtml)-/,Wre=/^-(ms)-/,Kre=function(t){return!t||Hre.test(t)||$re.test(t)},Gre=function(t,e){return e.toUpperCase()},$j=function(t,e){return"".concat(e,"-")},Jre=function(t,e){return e===void 0&&(e={}),Kre(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Wre,$j):t=t.replace(qre,$j),t.replace(Vre,Gre))};px.camelCase=Jre;var Yre=Gv&&Gv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Xre=Yre(JA),Qre=px;function T_(t,e){var n={};return!t||typeof t!="string"||(0,Xre.default)(t,function(r,i){r&&i&&(n[(0,Qre.camelCase)(r,e)]=i)}),n}T_.default=T_;var Zre=T_;const eie=Tg(Zre),Y7=X7("end"),YA=X7("start");function X7(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Q7(t){const e=YA(t),n=Y7(t);if(e&&n)return{start:e,end:n}}function ym(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Vj(t.position):"start"in t||"end"in t?Vj(t):"line"in t||"column"in t?P_(t):""}function P_(t){return Hj(t&&t.line)+":"+Hj(t&&t.column)}function Vj(t){return P_(t&&t.start)+"-"+P_(t&&t.end)}function Hj(t){return t&&typeof t=="number"?t:1}class ai extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=ym(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ai.prototype.file="";ai.prototype.name="";ai.prototype.reason="";ai.prototype.message="";ai.prototype.stack="";ai.prototype.column=void 0;ai.prototype.line=void 0;ai.prototype.ancestors=void 0;ai.prototype.cause=void 0;ai.prototype.fatal=void 0;ai.prototype.place=void 0;ai.prototype.ruleId=void 0;ai.prototype.source=void 0;const XA={}.hasOwnProperty,tie=new Map,nie=/[A-Z]/g,rie=new Set(["table","tbody","thead","tfoot","tr"]),iie=new Set(["td","th"]),Z7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sie(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hie(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=fie(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?GA:Nre,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=eB(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function eB(t,e,n){if(e.type==="element")return oie(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return aie(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return cie(t,e,n);if(e.type==="mdxjsEsm")return lie(t,e);if(e.type==="root")return uie(t,e,n);if(e.type==="text")return die(t,e)}function oie(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=GA,t.schema=i),t.ancestors.push(e);const s=nB(t,e.tagName,!1),o=pie(t,e);let a=ZA(t,e);return rie.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!mre(l):!0})),tB(t,o,s,e),QA(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function aie(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}lg(t,e.position)}function lie(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);lg(t,e.position)}function cie(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=GA,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:nB(t,e.name,!0),o=mie(t,e),a=ZA(t,e);return tB(t,o,s,e),QA(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function uie(t,e,n){const r={};return QA(r,ZA(t,e)),t.create(e,t.Fragment,r,n)}function die(t,e){return e.value}function tB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function QA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function fie(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function hie(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=YA(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function pie(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&XA.call(e.properties,i)){const s=gie(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&iie.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mie(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else lg(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else lg(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function ZA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:tie;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=eB(t,s,o);a!==void 0&&n.push(a)}return n}function gie(t,e,n){const r=Sre(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ure(n):Ere(n)),r.property==="style"){let i=typeof n=="object"?n:yie(t,String(n));return t.stylePropertyNameCase==="css"&&(i=vie(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?wre[r.property]||r.property:r.attribute,n]}}function yie(t,e){try{return eie(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new ai("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Z7+"#cannot-parse-style-attribute",i}}function nB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=Ij(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Ij(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return XA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);lg(t)}function lg(t,e){const n=new ai("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Z7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vie(t){const e={};let n;for(n in t)XA.call(t,n)&&(e[wie(n)]=t[n]);return e}function wie(t){let e=t.replace(nie,xie);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function xie(t){return"-"+t.toLowerCase()}const $2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bie={};function eC(t,e){const n=bie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rB(t,r,i)}function rB(t,e,n){if(Sie(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return qj(t.children,e,n)}return Array.isArray(t)?qj(t,e,n):""}function qj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=rB(t[i],e,n);return r.join("")}function Sie(t){return!!(t&&typeof t=="object")}const Wj=document.createElement("i");function tC(t){const e="&"+t+";";Wj.innerHTML=e;const n=Wj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ls(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Rs(t,e){return t.length>0?(ls(t,t.length,0,e),t):e}const Kj={}.hasOwnProperty;function iB(t){const e={};let n=-1;for(;++n<t.length;)kie(e,t[n]);return e}function kie(t,e){let n;for(n in e){const i=(Kj.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Kj.call(i,o)||(i[o]=[]);const a=s[o];_ie(i[o],Array.isArray(a)?a:a?[a]:[])}}}function _ie(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ls(t,0,0,r)}function sB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function So(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yi=_c(/[A-Za-z]/),ti=_c(/[\dA-Za-z]/),Nie=_c(/[#-'*+\--9=?A-Z^-~]/);function R1(t){return t!==null&&(t<32||t===127)}const j_=_c(/\d/),Eie=_c(/[\dA-Fa-f]/),Aie=_c(/[!-/:-@[-`{-~]/);function mt(t){return t!==null&&t<-2}function un(t){return t!==null&&(t<0||t===32)}function zt(t){return t===-2||t===-1||t===32}const mx=_c(new RegExp("\\p{P}|\\p{S}","u")),Iu=_c(/\s/);function _c(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Rh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&ti(t.charCodeAt(n+1))&&ti(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ht(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return zt(l)?(t.enter(n),a(l)):e(l)}function a(l){return zt(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const Cie={tokenize:Tie};function Tie(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ht(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return mt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const Pie={tokenize:jie},Gj={tokenize:Lie};function jie(t){const e=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const N=e.events.length;let C=N,M;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){M=e.events[C][1].end;break}y(r);let B=N;for(;B<e.events.length;)e.events[B][1].end={...M},B++;return ls(e.events,C+1,0,e.events.slice(N)),e.events.length=B,c(b)}return a(b)}function c(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return m(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Gj,u,d)(b)}function u(b){return i&&w(),y(r),h(b)}function d(b){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,m(b)}function h(b){return e.containerState={},t.attempt(Gj,f,m)(b)}function f(b){return r++,n.push([e.currentConstruct,e.containerState]),h(b)}function m(b){if(b===null){i&&w(),y(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(b)}function g(b){if(b===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(b);return}return mt(b)?(t.consume(b),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(b),g)}function v(b,N){const C=e.sliceStream(b);if(N&&C.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(C),e.parser.lazy[b.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const B=e.events.length;let z=B,F,G;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(F){G=e.events[z][1].end;break}F=!0}for(y(r),M=B;M<e.events.length;)e.events[M][1].end={...G},M++;ls(e.events,z+1,0,e.events.slice(B)),e.events.length=M}}function y(b){let N=n.length;for(;N-- >b;){const C=n[N];e.containerState=C[1],C[0].exit.call(e,t)}n.length=b}function w(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Lie(t,e,n){return Ht(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lh(t){if(t===null||un(t)||Iu(t))return 1;if(mx(t))return 2}function gx(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const L_={name:"attention",resolveAll:Rie,tokenize:Iie};function Rie(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};Jj(d,-l),Jj(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Rs(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Rs(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Rs(c,gx(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Rs(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Rs(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,ls(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Iie(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=lh(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=lh(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(u||!d)),e(l)}}function Jj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Oie={name:"autolink",tokenize:Mie};function Mie(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(f){return yi(f)?(t.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||ti(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||ti(f))&&r++<32?(t.consume(f),a):(r=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||R1(f)?n(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):Nie(f)?(t.consume(f),c):n(f)}function u(f){return ti(f)?d(f):n(f)}function d(f){return f===46?(t.consume(f),r=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):h(f)}function h(f){if((f===45||ti(f))&&r++<63){const m=f===45?h:d;return t.consume(f),m}return n(f)}}const qg={partial:!0,tokenize:Die};function Die(t,e,n){return r;function r(s){return zt(s)?Ht(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||mt(s)?e(s):n(s)}}const oB={continuation:{tokenize:Bie},exit:zie,name:"blockQuote",tokenize:Fie};function Fie(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return zt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Bie(t,e,n){const r=this;return i;function i(o){return zt(o)?Ht(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(oB,e,n)(o)}}function zie(t){t.exit("blockQuote")}const aB={name:"characterEscape",tokenize:Uie};function Uie(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Aie(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const lB={name:"characterReference",tokenize:$ie};function $ie(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=ti,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=Eie,u):(t.enter("characterReferenceValue"),s=7,o=j_,u(d))}function u(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return o===ti&&!tC(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const Yj={partial:!0,tokenize:Hie},Xj={concrete:!0,name:"codeFenced",tokenize:Vie};function Vie(t,e,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(M){return c(M)}function c(M){const B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,a=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(M)}function u(M){return M===a?(o++,t.consume(M),u):o<3?n(M):(t.exit("codeFencedFenceSequence"),zt(M)?Ht(t,d,"whitespace")(M):d(M))}function d(M){return M===null||mt(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(Yj,g,N)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(M))}function h(M){return M===null||mt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(M)):zt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ht(t,f,"whitespace")(M)):M===96&&M===a?n(M):(t.consume(M),h)}function f(M){return M===null||mt(M)?d(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(M))}function m(M){return M===null||mt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(M)):M===96&&M===a?n(M):(t.consume(M),m)}function g(M){return t.attempt(i,N,v)(M)}function v(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),y}function y(M){return s>0&&zt(M)?Ht(t,w,"linePrefix",s+1)(M):w(M)}function w(M){return M===null||mt(M)?t.check(Yj,g,N)(M):(t.enter("codeFlowValue"),b(M))}function b(M){return M===null||mt(M)?(t.exit("codeFlowValue"),w(M)):(t.consume(M),b)}function N(M){return t.exit("codeFenced"),e(M)}function C(M,B,z){let F=0;return G;function G(te){return M.enter("lineEnding"),M.consume(te),M.exit("lineEnding"),W}function W(te){return M.enter("codeFencedFence"),zt(te)?Ht(M,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):L(te)}function L(te){return te===a?(M.enter("codeFencedFenceSequence"),V(te)):z(te)}function V(te){return te===a?(F++,M.consume(te),V):F>=o?(M.exit("codeFencedFenceSequence"),zt(te)?Ht(M,E,"whitespace")(te):E(te)):z(te)}function E(te){return te===null||mt(te)?(M.exit("codeFencedFence"),B(te)):z(te)}}}function Hie(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const V2={name:"codeIndented",tokenize:Wie},qie={partial:!0,tokenize:Kie};function Wie(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ht(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):mt(c)?t.attempt(qie,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||mt(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function Kie(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ht(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):mt(o)?i(o):n(o)}}const Gie={name:"codeText",previous:Yie,resolve:Jie,tokenize:Xie};function Jie(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Yie(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Xie(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):mt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||mt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class Qie{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Cp(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Cp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Cp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Cp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Cp(this.left,n.reverse())}}}function Cp(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function cB(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new Qie(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Zie(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return ls(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Zie(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,d,h=-1,f=n,m=0,g=0;const v=[g];for(;f;){for(;t.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(g=h+1,v.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),h=v.length;h--;){const y=a.slice(v[h],v[h+1]),w=s.pop();l.push([w,w+y.length-1]),t.splice(w,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const ese={resolve:nse,tokenize:rse},tse={partial:!0,tokenize:ise};function nse(t){return cB(t),t}function rse(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):mt(a)?t.check(tse,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ise(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ht(t,s,"linePrefix")}function s(o){if(o===null||mt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function uB(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),h):y===null||y===32||y===41||R1(y)?n(y):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(t.exit("chunkString"),t.exit(a),h(y)):y===null||y===60||mt(y)?n(y):(t.consume(y),y===92?m:f)}function m(y){return y===60||y===62||y===92?(t.consume(y),f):f(y)}function g(y){return!u&&(y===null||y===41||un(y))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(y)):u<c&&y===40?(t.consume(y),u++,g):y===41?(t.consume(y),u--,g):y===null||y===32||y===40||R1(y)?n(y):(t.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function dB(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(s),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(t.exit(s),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):mt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||mt(f)||a++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!zt(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(t.consume(f),a++,d):d(f)}}function fB(t,e,n,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),c(h))}function c(h){return h===o?(t.exit(s),l(o)):h===null?n(h):mt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ht(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||mt(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(t.consume(h),u):u(h)}}function vm(t,e){let n;return r;function r(i){return mt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):zt(i)?Ht(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const sse={name:"definition",tokenize:ase},ose={partial:!0,tokenize:lse};function ase(t,e,n){const r=this;let i;return s;function s(f){return t.enter("definition"),o(f)}function o(f){return dB.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=So(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return un(f)?vm(t,c)(f):c(f)}function c(f){return uB(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(ose,d,d)(f)}function d(f){return zt(f)?Ht(t,h,"whitespace")(f):h(f)}function h(f){return f===null||mt(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function lse(t,e,n){return r;function r(a){return un(a)?vm(t,i)(a):n(a)}function i(a){return fB(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return zt(a)?Ht(t,o,"whitespace")(a):o(a)}function o(a){return a===null||mt(a)?e(a):n(a)}}const cse={name:"hardBreakEscape",tokenize:use};function use(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return mt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const dse={name:"headingAtx",resolve:fse,tokenize:hse};function fse(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ls(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function hse(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||un(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||mt(u)?(t.exit("atxHeading"),e(u)):zt(u)?Ht(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||un(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const pse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Qj=["pre","script","style","textarea"],mse={concrete:!0,name:"htmlFlow",resolveTo:vse,tokenize:wse},gse={partial:!0,tokenize:bse},yse={partial:!0,tokenize:xse};function vse(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function wse(t,e,n){const r=this;let i,s,o,a,l;return c;function c(R){return u(R)}function u(R){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(R),d}function d(R){return R===33?(t.consume(R),h):R===47?(t.consume(R),s=!0,g):R===63?(t.consume(R),i=3,r.interrupt?e:q):yi(R)?(t.consume(R),o=String.fromCharCode(R),v):n(R)}function h(R){return R===45?(t.consume(R),i=2,f):R===91?(t.consume(R),i=5,a=0,m):yi(R)?(t.consume(R),i=4,r.interrupt?e:q):n(R)}function f(R){return R===45?(t.consume(R),r.interrupt?e:q):n(R)}function m(R){const J="CDATA[";return R===J.charCodeAt(a++)?(t.consume(R),a===J.length?r.interrupt?e:L:m):n(R)}function g(R){return yi(R)?(t.consume(R),o=String.fromCharCode(R),v):n(R)}function v(R){if(R===null||R===47||R===62||un(R)){const J=R===47,ae=o.toLowerCase();return!J&&!s&&Qj.includes(ae)?(i=1,r.interrupt?e(R):L(R)):pse.includes(o.toLowerCase())?(i=6,J?(t.consume(R),y):r.interrupt?e(R):L(R)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):s?w(R):b(R))}return R===45||ti(R)?(t.consume(R),o+=String.fromCharCode(R),v):n(R)}function y(R){return R===62?(t.consume(R),r.interrupt?e:L):n(R)}function w(R){return zt(R)?(t.consume(R),w):G(R)}function b(R){return R===47?(t.consume(R),G):R===58||R===95||yi(R)?(t.consume(R),N):zt(R)?(t.consume(R),b):G(R)}function N(R){return R===45||R===46||R===58||R===95||ti(R)?(t.consume(R),N):C(R)}function C(R){return R===61?(t.consume(R),M):zt(R)?(t.consume(R),C):b(R)}function M(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),l=R,B):zt(R)?(t.consume(R),M):z(R)}function B(R){return R===l?(t.consume(R),l=null,F):R===null||mt(R)?n(R):(t.consume(R),B)}function z(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||un(R)?C(R):(t.consume(R),z)}function F(R){return R===47||R===62||zt(R)?b(R):n(R)}function G(R){return R===62?(t.consume(R),W):n(R)}function W(R){return R===null||mt(R)?L(R):zt(R)?(t.consume(R),W):n(R)}function L(R){return R===45&&i===2?(t.consume(R),pe):R===60&&i===1?(t.consume(R),re):R===62&&i===4?(t.consume(R),de):R===63&&i===3?(t.consume(R),q):R===93&&i===5?(t.consume(R),Y):mt(R)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(gse,T,V)(R)):R===null||mt(R)?(t.exit("htmlFlowData"),V(R)):(t.consume(R),L)}function V(R){return t.check(yse,E,T)(R)}function E(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),te}function te(R){return R===null||mt(R)?V(R):(t.enter("htmlFlowData"),L(R))}function pe(R){return R===45?(t.consume(R),q):L(R)}function re(R){return R===47?(t.consume(R),o="",K):L(R)}function K(R){if(R===62){const J=o.toLowerCase();return Qj.includes(J)?(t.consume(R),de):L(R)}return yi(R)&&o.length<8?(t.consume(R),o+=String.fromCharCode(R),K):L(R)}function Y(R){return R===93?(t.consume(R),q):L(R)}function q(R){return R===62?(t.consume(R),de):R===45&&i===2?(t.consume(R),q):L(R)}function de(R){return R===null||mt(R)?(t.exit("htmlFlowData"),T(R)):(t.consume(R),de)}function T(R){return t.exit("htmlFlow"),e(R)}}function xse(t,e,n){const r=this;return i;function i(o){return mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function bse(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(qg,e,n)}}const Sse={name:"htmlText",tokenize:kse};function kse(t,e,n){const r=this;let i,s,o;return a;function a(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),l}function l(q){return q===33?(t.consume(q),c):q===47?(t.consume(q),C):q===63?(t.consume(q),b):yi(q)?(t.consume(q),z):n(q)}function c(q){return q===45?(t.consume(q),u):q===91?(t.consume(q),s=0,m):yi(q)?(t.consume(q),w):n(q)}function u(q){return q===45?(t.consume(q),f):n(q)}function d(q){return q===null?n(q):q===45?(t.consume(q),h):mt(q)?(o=d,re(q)):(t.consume(q),d)}function h(q){return q===45?(t.consume(q),f):d(q)}function f(q){return q===62?pe(q):q===45?h(q):d(q)}function m(q){const de="CDATA[";return q===de.charCodeAt(s++)?(t.consume(q),s===de.length?g:m):n(q)}function g(q){return q===null?n(q):q===93?(t.consume(q),v):mt(q)?(o=g,re(q)):(t.consume(q),g)}function v(q){return q===93?(t.consume(q),y):g(q)}function y(q){return q===62?pe(q):q===93?(t.consume(q),y):g(q)}function w(q){return q===null||q===62?pe(q):mt(q)?(o=w,re(q)):(t.consume(q),w)}function b(q){return q===null?n(q):q===63?(t.consume(q),N):mt(q)?(o=b,re(q)):(t.consume(q),b)}function N(q){return q===62?pe(q):b(q)}function C(q){return yi(q)?(t.consume(q),M):n(q)}function M(q){return q===45||ti(q)?(t.consume(q),M):B(q)}function B(q){return mt(q)?(o=B,re(q)):zt(q)?(t.consume(q),B):pe(q)}function z(q){return q===45||ti(q)?(t.consume(q),z):q===47||q===62||un(q)?F(q):n(q)}function F(q){return q===47?(t.consume(q),pe):q===58||q===95||yi(q)?(t.consume(q),G):mt(q)?(o=F,re(q)):zt(q)?(t.consume(q),F):pe(q)}function G(q){return q===45||q===46||q===58||q===95||ti(q)?(t.consume(q),G):W(q)}function W(q){return q===61?(t.consume(q),L):mt(q)?(o=W,re(q)):zt(q)?(t.consume(q),W):F(q)}function L(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),i=q,V):mt(q)?(o=L,re(q)):zt(q)?(t.consume(q),L):(t.consume(q),E)}function V(q){return q===i?(t.consume(q),i=void 0,te):q===null?n(q):mt(q)?(o=V,re(q)):(t.consume(q),V)}function E(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||un(q)?F(q):(t.consume(q),E)}function te(q){return q===47||q===62||un(q)?F(q):n(q)}function pe(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function re(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),K}function K(q){return zt(q)?Ht(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Y(q)}function Y(q){return t.enter("htmlTextData"),o(q)}}const nC={name:"labelEnd",resolveAll:Ase,resolveTo:Cse,tokenize:Tse},_se={tokenize:Pse},Nse={tokenize:jse},Ese={tokenize:Lse};function Ase(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ls(t,0,t.length,n),t}function Cse(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=Rs(a,t.slice(s+1,s+r+3)),a=Rs(a,[["enter",u,e]]),a=Rs(a,gx(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Rs(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=Rs(a,t.slice(o+1)),a=Rs(a,[["exit",l,e]]),ls(t,s,t.length,a),t}function Tse(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?d(h):(o=r.parser.defined.includes(So(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(_se,u,o?u:d)(h):h===91?t.attempt(Nse,u,o?c:d)(h):o?u(h):d(h)}function c(h){return t.attempt(Ese,u,d)(h)}function u(h){return e(h)}function d(h){return s._balanced=!0,n(h)}}function Pse(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return un(d)?vm(t,s)(d):s(d)}function s(d){return d===41?u(d):uB(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return un(d)?vm(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?fB(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return un(d)?vm(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function jse(t,e,n){const r=this;return i;function i(a){return dB.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(So(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function Lse(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Rse={name:"labelStartImage",resolveAll:nC.resolveAll,tokenize:Ise};function Ise(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Ose={name:"labelStartLink",resolveAll:nC.resolveAll,tokenize:Mse};function Mse(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const H2={name:"lineEnding",tokenize:Dse};function Dse(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ht(t,e,"linePrefix")}}const Cv={name:"thematicBreak",tokenize:Fse};function Fse(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||mt(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),zt(c)?Ht(t,a,"whitespace")(c):a(c))}}const Ri={continuation:{tokenize:$se},exit:Hse,name:"list",tokenize:Use},Bse={partial:!0,tokenize:qse},zse={partial:!0,tokenize:Vse};function Use(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:j_(f)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(Cv,n,c)(f):c(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return j_(f)&&++o<10?(t.consume(f),l):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):n(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(qg,r.interrupt?n:u,t.attempt(Bse,h,d))}function u(f){return r.containerState.initialBlankLine=!0,s++,h(f)}function d(f){return zt(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function $se(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(qg,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ht(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!zt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(zse,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ht(t,t.attempt(Ri,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Vse(t,e,n){const r=this;return Ht(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Hse(t){t.exit(this.containerState.type)}function qse(t,e,n){const r=this;return Ht(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!zt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Zj={name:"setextUnderline",resolveTo:Wse,tokenize:Kse};function Wse(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Kse(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),zt(c)?Ht(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||mt(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const Gse={tokenize:Jse};function Jse(t){const e=this,n=t.attempt(qg,r,t.attempt(this.parser.constructs.flowInitial,i,Ht(t,t.attempt(this.parser.constructs.flow,i,t.attempt(ese,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Yse={resolveAll:pB()},Xse=hB("string"),Qse=hB("text");function hB(t){return{resolveAll:pB(t==="text"?Zse:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function pB(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Zse(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const eoe={42:Ri,43:Ri,45:Ri,48:Ri,49:Ri,50:Ri,51:Ri,52:Ri,53:Ri,54:Ri,55:Ri,56:Ri,57:Ri,62:oB},toe={91:sse},noe={[-2]:V2,[-1]:V2,32:V2},roe={35:dse,42:Cv,45:[Zj,Cv],60:mse,61:Zj,95:Cv,96:Xj,126:Xj},ioe={38:lB,92:aB},soe={[-5]:H2,[-4]:H2,[-3]:H2,33:Rse,38:lB,42:L_,60:[Oie,Sse],91:Ose,92:[cse,aB],93:nC,95:L_,96:Gie},ooe={null:[L_,Yse]},aoe={null:[42,95]},loe={null:[]},coe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aoe,contentInitial:toe,disable:loe,document:eoe,flow:roe,flowInitial:noe,insideSpan:ooe,string:ioe,text:soe},Symbol.toStringTag,{value:"Module"}));function uoe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:B(C),check:B(M),consume:w,enter:b,exit:N,interrupt:B(M,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:f,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(W){return o=Rs(o,W),v(),o[o.length-1]!==null?[]:(z(e,0),c.events=gx(s,c.events,c),c.events)}function h(W,L){return foe(f(W),L)}function f(W){return doe(o,W)}function m(){const{_bufferIndex:W,_index:L,line:V,column:E,offset:te}=r;return{_bufferIndex:W,_index:L,line:V,column:E,offset:te}}function g(W){i[W.line]=W.column,G()}function v(){let W;for(;r._index<o.length;){const L=o[r._index];if(typeof L=="string")for(W=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===W&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(W){u=u(W)}function w(W){mt(W)?(r.line++,r.column=1,r.offset+=W===-3?2:1,G()):W!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=W}function b(W,L){const V=L||{};return V.type=W,V.start=m(),c.events.push(["enter",V,c]),a.push(V),V}function N(W){const L=a.pop();return L.end=m(),c.events.push(["exit",L,c]),L}function C(W,L){z(W,L.from)}function M(W,L){L.restore()}function B(W,L){return V;function V(E,te,pe){let re,K,Y,q;return Array.isArray(E)?T(E):"tokenize"in E?T([E]):de(E);function de(Q){return O;function O(I){const ne=I!==null&&Q[I],ce=I!==null&&Q.null,X=[...Array.isArray(ne)?ne:ne?[ne]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return T(X)(I)}}function T(Q){return re=Q,K=0,Q.length===0?pe:R(Q[K])}function R(Q){return O;function O(I){return q=F(),Y=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?ae():Q.tokenize.call(L?Object.assign(Object.create(c),L):c,l,J,ae)(I)}}function J(Q){return W(Y,q),te}function ae(Q){return q.restore(),++K<re.length?R(re[K]):pe}}}function z(W,L){W.resolveAll&&!s.includes(W)&&s.push(W),W.resolve&&ls(c.events,L,c.events.length-L,W.resolve(c.events.slice(L),c)),W.resolveTo&&(c.events=W.resolveTo(c.events,c))}function F(){const W=m(),L=c.previous,V=c.currentConstruct,E=c.events.length,te=Array.from(a);return{from:E,restore:pe};function pe(){r=W,c.previous=L,c.currentConstruct=V,c.events.length=E,a=te,G()}}function G(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function doe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function foe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function hoe(t){const r={constructs:iB([coe,...(t||{}).extensions||[]]),content:i(Cie),defined:[],document:i(Pie),flow:i(Gse),lazy:{},string:i(Xse),text:i(Qse)};return r;function i(s){return o;function o(a){return uoe(r,s,a)}}}function poe(t){for(;!cB(t););return t}const e6=/[\0\t\n\r]/g;function moe(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,h,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(e6.lastIndex=d,c=e6.exec(s),h=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(h),!c){e=s.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),t+=h-d),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const goe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yoe(t){return t.replace(goe,voe)}function voe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return sB(n.slice(s?2:1),s?16:10)}return tC(n)||t}const mB={}.hasOwnProperty;function woe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),xoe(n)(poe(hoe(n).document().write(moe()(t,e,!0))))}function xoe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(D),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(me),blockQuote:s(ce),characterEscape:F,characterReference:F,codeFenced:s(X),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(X,o),codeText:s(se,o),codeTextData:F,data:F,codeFlowValue:F,definition:s(xe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(U),hardBreakEscape:s(j),hardBreakTrailing:s(j),htmlFlow:s(k,o),htmlFlowData:F,htmlText:s(k,o),htmlTextData:F,image:s(_),label:o,link:s(D),listItem:s(ye),listItemValue:h,listOrdered:s(le,d),listUnordered:s(le),paragraph:s(he),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(me),strong:s(Ne),thematicBreak:s(je)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ne,autolinkProtocol:I,blockQuote:l(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:Q,characterReference:O,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:G,codeIndented:l(y),codeText:l(te),codeTextData:G,data:G,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(V),htmlFlowData:G,htmlText:l(E),htmlTextData:G,image:l(re),label:Y,labelText:K,lineEnding:W,link:l(pe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:q,resourceTitleString:de,resource:T,setextHeading:l(z),setextHeadingLineSequence:B,setextHeadingText:M,strong:l(),thematicBreak:l()}};gB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(we){let Ae={type:"root",children:[]};const Me={stack:[Ae],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},qe=[];let Ze=-1;for(;++Ze<we.length;)if(we[Ze][1].type==="listOrdered"||we[Ze][1].type==="listUnordered")if(we[Ze][0]==="enter")qe.push(Ze);else{const Ke=qe.pop();Ze=i(we,Ke,Ze)}for(Ze=-1;++Ze<we.length;){const Ke=e[we[Ze][0]];mB.call(Ke,we[Ze][1].type)&&Ke[we[Ze][1].type].call(Object.assign({sliceSerialize:we[Ze][2].sliceSerialize},Me),we[Ze][1])}if(Me.tokenStack.length>0){const Ke=Me.tokenStack[Me.tokenStack.length-1];(Ke[1]||t6).call(Me,void 0,Ke[0])}for(Ae.position={start:yl(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:yl(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)Ae=e.transforms[Ze](Ae)||Ae;return Ae}function i(we,Ae,Me){let qe=Ae-1,Ze=-1,Ke=!1,Jt,st,Rn,Bt;for(;++qe<=Me;){const xt=we[qe];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?Ze++:Ze--,Bt=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(Jt&&!Bt&&!Ze&&!Rn&&(Rn=qe),Bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bt=void 0}if(!Ze&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||Ze===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Jt){let tr=qe;for(st=void 0;tr--;){const jt=we[tr];if(jt[1].type==="lineEnding"||jt[1].type==="lineEndingBlank"){if(jt[0]==="exit")continue;st&&(we[st][1].type="lineEndingBlank",Ke=!0),jt[1].type="lineEnding",st=tr}else if(!(jt[1].type==="linePrefix"||jt[1].type==="blockQuotePrefix"||jt[1].type==="blockQuotePrefixWhitespace"||jt[1].type==="blockQuoteMarker"||jt[1].type==="listItemIndent"))break}Rn&&(!st||Rn<st)&&(Jt._spread=!0),Jt.end=Object.assign({},st?we[st][1].start:xt[1].end),we.splice(st||qe,0,["exit",Jt,xt[2]]),qe++,Me++}if(xt[1].type==="listItemPrefix"){const tr={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};Jt=tr,we.splice(qe,0,["enter",tr,xt[2]]),qe++,Me++,Rn=void 0,Bt=!0}}}return we[Ae][1]._spread=Ke,Me}function s(we,Ae){return Me;function Me(qe){a.call(this,we(qe),qe),Ae&&Ae.call(this,qe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(we,Ae,Me){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Ae,Me||void 0]),we.position={start:yl(Ae.start),end:void 0}}function l(we){return Ae;function Ae(Me){we&&we.call(this,Me),c.call(this,Me)}}function c(we,Ae){const Me=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==we.type&&(Ae?Ae.call(this,we,qe[0]):(qe[1]||t6).call(this,we,qe[0]));else throw new Error("Cannot close `"+we.type+"` ("+ym({start:we.start,end:we.end})+"): its not open");Me.position.end=yl(we.end)}function u(){return eC(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(we){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function f(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=we}function m(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=we}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we.replace(/(\r?\n|\r)$/g,"")}function w(we){const Ae=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Ae,Me.identifier=So(this.sliceSerialize(we)).toLowerCase()}function b(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=we}function N(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=we}function C(we){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const Me=this.sliceSerialize(we).length;Ae.depth=Me}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function B(we){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function F(we){const Me=this.stack[this.stack.length-1].children;let qe=Me[Me.length-1];(!qe||qe.type!=="text")&&(qe=Le(),qe.position={start:yl(we.start),end:void 0},Me.push(qe)),this.stack.push(qe)}function G(we){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(we),Ae.position.end=yl(we.end)}function W(we){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=Ae.children[Ae.children.length-1];Me.position.end=yl(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ae.type)&&(F.call(this,we),G.call(this,we))}function L(){this.data.atHardBreak=!0}function V(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we}function E(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we}function te(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we}function pe(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Ae,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function re(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Ae,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function K(we){const Ae=this.sliceSerialize(we),Me=this.stack[this.stack.length-2];Me.label=yoe(Ae),Me.identifier=So(Ae).toLowerCase()}function Y(){const we=this.stack[this.stack.length-1],Ae=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const qe=we.children;Me.children=qe}else Me.alt=Ae}function q(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=we}function de(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=we}function T(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function J(we){const Ae=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Ae,Me.identifier=So(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function ae(we){this.data.characterReferenceType=we.type}function Q(we){const Ae=this.sliceSerialize(we),Me=this.data.characterReferenceType;let qe;Me?(qe=sB(Ae,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=tC(Ae);const Ze=this.stack[this.stack.length-1];Ze.value+=qe}function O(we){const Ae=this.stack.pop();Ae.position.end=yl(we.end)}function I(we){G.call(this,we);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(we)}function ne(we){G.call(this,we);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(we)}function ce(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function U(){return{type:"emphasis",children:[]}}function me(){return{type:"heading",depth:0,children:[]}}function j(){return{type:"break"}}function k(){return{type:"html",value:""}}function _(){return{type:"image",title:null,url:"",alt:null}}function D(){return{type:"link",title:null,url:"",children:[]}}function le(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function ye(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function he(){return{type:"paragraph",children:[]}}function Ne(){return{type:"strong",children:[]}}function Le(){return{type:"text",value:""}}function je(){return{type:"thematicBreak"}}}function yl(t){return{line:t.line,column:t.column,offset:t.offset}}function gB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?gB(t,r):boe(t,r)}}function boe(t,e){let n;for(n in e)if(mB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function t6(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ym({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ym({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ym({start:e.start,end:e.end})+") is still open")}function Soe(t){const e=this;e.parser=n;function n(r){return woe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function koe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function _oe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Noe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Eoe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Aoe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Coe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Rh(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Toe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Poe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function yB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function joe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return yB(t,e);const i={src:Rh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Loe(t,e){const n={src:Rh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Roe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Ioe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return yB(t,e);const i={href:Rh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Ooe(t,e){const n={href:Rh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Moe(t,e,n){const r=t.all(e),i=n?Doe(n):vB(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Doe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=vB(n[r])}return e}function vB(t){const e=t.spread;return e??t.children.length>1}function Foe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Boe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zoe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Uoe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $oe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=YA(e.children[1]),l=Y7(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Voe(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],h={},f=o?o[l]:void 0;f&&(h.align=f);let m={type:"element",tagName:s,properties:h,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function Hoe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const n6=9,r6=32;function qoe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(i6(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(i6(e.slice(i),i>0,!1)),s.join("")}function i6(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===n6||s===r6;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===n6||s===r6;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Woe(t,e){const n={type:"text",value:qoe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Koe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Goe={blockquote:koe,break:_oe,code:Noe,delete:Eoe,emphasis:Aoe,footnoteReference:Coe,heading:Toe,html:Poe,imageReference:joe,image:Loe,inlineCode:Roe,linkReference:Ioe,link:Ooe,listItem:Moe,list:Foe,paragraph:Boe,root:zoe,strong:Uoe,table:$oe,tableCell:Hoe,tableRow:Voe,text:Woe,thematicBreak:Koe,toml:Ey,yaml:Ey,definition:Ey,footnoteDefinition:Ey};function Ey(){}const wB=-1,yx=0,wm=1,I1=2,rC=3,iC=4,sC=5,oC=6,xB=7,bB=8,s6=typeof self=="object"?self:globalThis,Joe=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case yx:case wB:return n(o,i);case wm:{const a=n([],i);for(const l of o)a.push(r(l));return a}case I1:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case rC:return n(new Date(o),i);case iC:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case sC:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case oC:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case xB:{const{name:a,message:l}=o;return n(new s6[a](l),i)}case bB:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new s6[s](o),i)};return r},o6=t=>Joe(new Map,t)(0),Dd="",{toString:Yoe}={},{keys:Xoe}=Object,Tp=t=>{const e=typeof t;if(e!=="object"||!t)return[yx,e];const n=Yoe.call(t).slice(8,-1);switch(n){case"Array":return[wm,Dd];case"Object":return[I1,Dd];case"Date":return[rC,Dd];case"RegExp":return[iC,Dd];case"Map":return[sC,Dd];case"Set":return[oC,Dd];case"DataView":return[wm,n]}return n.includes("Array")?[wm,n]:n.includes("Error")?[xB,n]:[I1,n]},Ay=([t,e])=>t===yx&&(e==="function"||e==="symbol"),Qoe=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Tp(o);switch(a){case yx:{let u=o;switch(l){case"bigint":a=bB,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([wB],o)}return i([a,u],o)}case wm:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([a,u],o);for(const h of o)u.push(s(h));return d}case I1:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const h of Xoe(o))(t||!Ay(Tp(o[h])))&&u.push([s(h),s(o[h])]);return d}case rC:return i([a,o.toISOString()],o);case iC:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case sC:{const u=[],d=i([a,u],o);for(const[h,f]of o)(t||!(Ay(Tp(h))||Ay(Tp(f))))&&u.push([s(h),s(f)]);return d}case oC:{const u=[],d=i([a,u],o);for(const h of o)(t||!Ay(Tp(h)))&&u.push(s(h));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},a6=(t,{json:e,lossy:n}={})=>{const r=[];return Qoe(!(e||n),!!e,new Map,r)(t),r},cg=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?o6(a6(t,e)):structuredClone(t):(t,e)=>o6(a6(t,e));function Zoe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function eae(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function tae(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Zoe,r=t.options.footnoteBackLabel||eae,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),h=Rh(d.toLowerCase());let f=0;const m=[],g=t.footnoteCounts.get(d);for(;g!==void 0&&++f<=g;){m.length>0&&m.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,f);typeof w=="string"&&(w={type:"text",value:w}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else u.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...cg(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const vx=function(t){if(t==null)return sae;if(typeof t=="function")return wx(t);if(typeof t=="object")return Array.isArray(t)?nae(t):rae(t);if(typeof t=="string")return iae(t);throw new Error("Expected function, string, or object as test")};function nae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vx(t[n]);return wx(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function rae(t){const e=t;return wx(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function iae(t){return wx(e);function e(n){return n&&n.type===t}}function wx(t){return e;function e(n,r,i){return!!(oae(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sae(){return!0}function oae(t){return t!==null&&typeof t=="object"&&"type"in t}const SB=[],aae=!0,R_=!1,lae="skip";function kB(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=vx(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=SB,m,g,v;if((!e||s(l,c,u[u.length-1]||void 0))&&(f=cae(n(l,u)),f[0]===R_))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==lae)for(g=(r?y.children.length:-1)+o,v=u.concat(y);g>-1&&g<y.children.length;){const w=y.children[g];if(m=a(w,g,v)(),m[0]===R_)return m;g=typeof m[1]=="number"?m[1]:g+o}}return f}}}function cae(t){return Array.isArray(t)?t:typeof t=="number"?[aae,t]:t==null?SB:[t]}function aC(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),kB(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const I_={}.hasOwnProperty,uae={};function dae(t,e){const n=e||uae,r=new Map,i=new Map,s=new Map,o={...Goe,...n.handlers},a={all:c,applyData:hae,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:fae,wrap:mae};return aC(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,f=a.handlers[h];if(I_.call(a.handlers,h)&&f)return f(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:g,...v}=u,y=cg(v);return y.children=a.all(u),y}return cg(u)}return(a.options.unknownHandler||pae)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const m=a.one(h[f],u);if(m){if(f&&h[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=l6(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=l6(g.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function fae(t,e){t.position&&(e.position=Q7(t))}function hae(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,cg(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function pae(t,e){const n=e.data||{},r="value"in e&&!(I_.call(n,"hProperties")||I_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function mae(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function l6(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function c6(t,e){const n=dae(t,e),r=n.one(t,void 0),i=tae(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function gae(t,e){return t&&"run"in t?async function(n,r){const i=c6(n,{file:r,...e});await t.run(i,r)}:function(n,r){return c6(n,{file:r,...t||e})}}function u6(t){if(t)throw t}var Tv=Object.prototype.hasOwnProperty,_B=Object.prototype.toString,d6=Object.defineProperty,f6=Object.getOwnPropertyDescriptor,h6=function(e){return typeof Array.isArray=="function"?Array.isArray(e):_B.call(e)==="[object Array]"},p6=function(e){if(!e||_B.call(e)!=="[object Object]")return!1;var n=Tv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Tv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Tv.call(e,i)},m6=function(e,n){d6&&n.name==="__proto__"?d6(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},g6=function(e,n){if(n==="__proto__")if(Tv.call(e,n)){if(f6)return f6(e,n).value}else return;return e[n]},yae=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=g6(a,n),i=g6(e,n),a!==i&&(u&&i&&(p6(i)||(s=h6(i)))?(s?(s=!1,o=r&&h6(r)?r:[]):o=r&&p6(r)?r:{},m6(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&m6(a,{name:n,newValue:i}));return a};const q2=Tg(yae);function O_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function vae(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?wae(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function wae(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Uo={basename:xae,dirname:bae,extname:Sae,join:kae,sep:"/"};function xae(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Wg(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function bae(t){if(Wg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Sae(t){Wg(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function kae(...t){let e=-1,n;for(;++e<t.length;)Wg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_ae(n)}function _ae(t){Wg(t);const e=t.codePointAt(0)===47;let n=Nae(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Nae(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Wg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Eae={cwd:Aae};function Aae(){return"/"}function M_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Cae(t){if(typeof t=="string")t=new URL(t);else if(!M_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Tae(t)}function Tae(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const W2=["history","path","basename","stem","extname","dirname"];class NB{constructor(e){let n;e?M_(e)?n={path:e}:typeof e=="string"||Pae(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Eae.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<W2.length;){const s=W2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)W2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Uo.basename(this.path):void 0}set basename(e){G2(e,"basename"),K2(e,"basename"),this.path=Uo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Uo.dirname(this.path):void 0}set dirname(e){y6(this.basename,"dirname"),this.path=Uo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Uo.extname(this.path):void 0}set extname(e){if(K2(e,"extname"),y6(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Uo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){M_(e)&&(e=Cae(e)),G2(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Uo.basename(this.path,this.extname):void 0}set stem(e){G2(e,"stem"),K2(e,"stem"),this.path=Uo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ai(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function K2(t,e){if(t&&t.includes(Uo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Uo.sep+"`")}function G2(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function y6(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Pae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jae=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Lae={}.hasOwnProperty;class lC extends jae{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vae()}copy(){const e=new lC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(q2(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(X2("data",this.frozen),this.namespace[e]=n,this):Lae.call(this.namespace,e)&&this.namespace[e]||void 0:e?(X2("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Cy(e),r=this.parser||this.Parser;return J2("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),J2("process",this.parser||this.Parser),Y2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Cy(e),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const f=d,m=r.stringify(f,h);Oae(m)?h.value=m:h.result=m,c(u,h)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),J2("processSync",this.parser||this.Parser),Y2("processSync",this.compiler||this.Compiler),this.process(e,i),w6("processSync","process",n),r;function i(s,o){n=!0,u6(s),r=o}}run(e,n,r){v6(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Cy(n);i.run(e,l,c);function c(u,d,h){const f=d||e;u?a(u):o?o(f):r(void 0,f,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),w6("runSync","run",r),i;function s(o,a){u6(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Cy(n),i=this.compiler||this.Compiler;return Y2("stringify",i),v6(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(X2("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=q2(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[f,...m]=u;const g=r[h][1];O_(g)&&O_(f)&&(f=q2(!0,g,f)),r[h]=[c,f,...m]}}}}const Rae=new lC().freeze();function J2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Y2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function X2(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function v6(t){if(!O_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function w6(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Cy(t){return Iae(t)?t:new NB(t)}function Iae(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Oae(t){return typeof t=="string"||Mae(t)}function Mae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Dae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",x6=[],b6={allowDangerousHtml:!0},Fae=/^(https?|ircs?|mailto|xmpp)$/i,Bae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zae(t){const e=Uae(t),n=$ae(t);return Vae(e.runSync(e.parse(n),n),t)}function Uae(t){const e=t.rehypePlugins||x6,n=t.remarkPlugins||x6,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...b6}:b6;return Rae().use(Soe).use(n).use(gae,r).use(e)}function $ae(t){const e=t.children||"",n=new NB;return typeof e=="string"&&(n.value=e),n}function Vae(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Hae;for(const u of Bae)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+Dae+u.id,void 0);return aC(t,c),sie(t,{Fragment:p.Fragment,components:i,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function c(u,d,h){if(u.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let f;for(f in $2)if(Object.hasOwn($2,f)&&Object.hasOwn(u.properties,f)){const m=u.properties[f],g=$2[f];(g===null||g.includes(u.tagName))&&(u.properties[f]=l(String(m||""),f,u))}}if(u.type==="element"){let f=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(u,d,h)),f&&h&&typeof d=="number")return a&&u.children?h.children.splice(d,1,...u.children):h.children.splice(d,1),d}}}function Hae(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Fae.test(t.slice(0,e))?t:""}function S6(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function qae(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function EB(t,e,n){const i=vx((n||{}).ignore||[]),s=Wae(e);let o=-1;for(;++o<s.length;)kB(t,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const f=u[d],m=h?h.children:void 0;if(i(f,m?m.indexOf(f):void 0,h))return;h=f}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=s[o][0],f=s[o][1];let m=0;const v=d.children.indexOf(c);let y=!1,w=[];h.lastIndex=0;let b=h.exec(c.value);for(;b;){const N=b.index,C={index:b.index,input:b.input,stack:[...u,c]};let M=f(...b,C);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?h.lastIndex=N+1:(m!==N&&w.push({type:"text",value:c.value.slice(m,N)}),Array.isArray(M)?w.push(...M):M&&w.push(M),m=N+b[0].length,y=!0),!h.global)break;b=h.exec(c.value)}return y?(m<c.value.length&&w.push({type:"text",value:c.value.slice(m)}),d.children.splice(v,1,...w)):w=[c],v+w.length}}function Wae(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Kae(i[0]),Gae(i[1])])}return e}function Kae(t){return typeof t=="string"?new RegExp(qae(t),"g"):t}function Gae(t){return typeof t=="function"?t:function(){return t}}const Q2="phrasing",Z2=["autolink","link","image","label"];function Jae(){return{transforms:[nle],enter:{literalAutolink:Xae,literalAutolinkEmail:e5,literalAutolinkHttp:e5,literalAutolinkWww:e5},exit:{literalAutolink:tle,literalAutolinkEmail:ele,literalAutolinkHttp:Qae,literalAutolinkWww:Zae}}}function Yae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Q2,notInConstruct:Z2},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Q2,notInConstruct:Z2},{character:":",before:"[ps]",after:"\\/",inConstruct:Q2,notInConstruct:Z2}]}}function Xae(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function e5(t){this.config.enter.autolinkProtocol.call(this,t)}function Qae(t){this.config.exit.autolinkProtocol.call(this,t)}function Zae(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function ele(t){this.config.exit.autolinkEmail.call(this,t)}function tle(t){this.exit(t)}function nle(t){EB(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rle],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ile]],{ignore:["link","linkReference"]})}function rle(t,e,n,r,i){let s="";if(!AB(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!sle(n)))return!1;const o=ole(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function ile(t,e,n,r){return!AB(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function sle(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function ole(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=S6(t,"(");let s=S6(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function AB(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Iu(n)||mx(n))&&(!e||n!==47)}CB.peek=mle;function ale(){this.buffer()}function lle(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function cle(){this.buffer()}function ule(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function dle(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=So(this.sliceSerialize(t)).toLowerCase(),n.label=e}function fle(t){this.exit(t)}function hle(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=So(this.sliceSerialize(t)).toLowerCase(),n.label=e}function ple(t){this.exit(t)}function mle(){return"["}function CB(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function gle(){return{enter:{gfmFootnoteCallString:ale,gfmFootnoteCall:lle,gfmFootnoteDefinitionLabelString:cle,gfmFootnoteDefinition:ule},exit:{gfmFootnoteCallString:dle,gfmFootnoteCall:fle,gfmFootnoteDefinitionLabelString:hle,gfmFootnoteDefinition:ple}}}function yle(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:CB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?TB:vle))),c(),l}}function vle(t,e,n){return e===0?t:TB(t,e,n)}function TB(t,e,n){return(n?"":"    ")+t}const wle=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];PB.peek=_le;function xle(){return{canContainEols:["delete"],enter:{strikethrough:Sle},exit:{strikethrough:kle}}}function ble(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:wle}],handlers:{delete:PB}}}function Sle(t){this.enter({type:"delete",children:[]},t)}function kle(t){this.exit(t)}function PB(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function _le(){return"~"}function Nle(t){return t.length}function Ele(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||Nle,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const g=[],v=[];let y=-1;for(t[u].length>c&&(c=t[u].length);++y<t[u].length;){const w=Ale(t[u][y]);if(n.alignDelimiters!==!1){const b=i(w);v[y]=b,(l[y]===void 0||b>l[y])&&(l[y]=b)}g.push(w)}o[u]=g,a[u]=v}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=k6(r[d]);else{const g=k6(r);for(;++d<c;)s[d]=g}d=-1;const h=[],f=[];for(;++d<c;){const g=s[d];let v="",y="";g===99?(v=":",y=":"):g===108?v=":":g===114&&(y=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[d]-v.length-y.length);const b=v+"-".repeat(w)+y;n.alignDelimiters!==!1&&(w=v.length+w+y.length,w>l[d]&&(l[d]=w),f[d]=w),h[d]=b}o.splice(1,0,h),a.splice(1,0,f),u=-1;const m=[];for(;++u<o.length;){const g=o[u],v=a[u];d=-1;const y=[];for(;++d<c;){const w=g[d]||"";let b="",N="";if(n.alignDelimiters!==!1){const C=l[d]-(v[d]||0),M=s[d];M===114?b=" ".repeat(C):M===99?C%2?(b=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(b=" ".repeat(C/2),N=b):N=" ".repeat(C)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(b),y.push(w),n.alignDelimiters!==!1&&y.push(N),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function Ale(t){return t==null?"":String(t)}function k6(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Cle(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Tle);return i(),o}function Tle(t,e,n){return">"+(n?"":" ")+t}function Ple(t,e){return _6(t,e.inConstruct,!0)&&!_6(t,e.notInConstruct,!1)}function _6(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function N6(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Ple(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function jle(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Lle(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Rle(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Ile(t,e,n,r){const i=Rle(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Lle(t,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,Ole);return d(),h}const a=n.createTracker(r),l=i.repeat(Math.max(jle(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function Ole(t,e,n){return(n?"":"    ")+t}function cC(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Mle(t,e,n,r){const i=cC(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function Dle(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ug(t){return"&#x"+t.toString(16).toUpperCase()+";"}function O1(t,e,n){const r=lh(t),i=lh(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jB.peek=Fle;function jB(t,e,n,r){const i=Dle(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=O1(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=ug(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=O1(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+ug(d));const f=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function Fle(t,e,n){return n.options.emphasis||"*"}function Ble(t,e){let n=!1;return aC(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,R_}),!!((!t.depth||t.depth<3)&&eC(t)&&(e.options.setext||n))}function zle(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Ble(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=ug(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}LB.peek=Ule;function LB(t){return t.value||""}function Ule(){return"<"}RB.peek=$le;function RB(t,e,n,r){const i=cC(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function $le(){return"!"}IB.peek=Vle;function IB(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Vle(){return"!"}OB.peek=Hle;function OB(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Hle(){return"`"}function MB(t,e){const n=eC(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}DB.peek=qle;function DB(t,e,n,r){const i=cC(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(MB(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function qle(t,e,n){return MB(t,n)?"<":"["}FB.peek=Wle;function FB(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Wle(){return"["}function uC(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Kle(t){const e=uC(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Gle(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function BB(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Jle(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?Gle(n):uC(n);const a=t.ordered?o==="."?")":".":Kle(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),BB(n)===o&&u){let d=-1;for(;++d<t.children.length;){const h=t.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function Yle(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Xle(t,e,n,r){const i=Yle(n);let s=n.bulletCurrent||uC(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,h,f){return h?(f?"":" ".repeat(o))+d:(f?s:s+" ".repeat(o-s.length))+d}}function Qle(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const Zle=vx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ece(t,e,n,r){return(t.children.some(function(o){return Zle(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function tce(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}zB.peek=nce;function zB(t,e,n,r){const i=tce(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=O1(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=ug(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=O1(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+ug(d));const f=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function nce(t,e,n){return n.options.strong||"*"}function rce(t,e,n,r){return n.safe(t.value,r)}function ice(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function sce(t,e,n){const r=(BB(n)+(n.options.ruleSpaces?" ":"")).repeat(ice(n));return n.options.ruleSpaces?r.slice(0,-1):r}const UB={blockquote:Cle,break:N6,code:Ile,definition:Mle,emphasis:jB,hardBreak:N6,heading:zle,html:LB,image:RB,imageReference:IB,inlineCode:OB,link:DB,linkReference:FB,list:Jle,listItem:Xle,paragraph:Qle,root:ece,strong:zB,text:rce,thematicBreak:sce};function oce(){return{enter:{table:ace,tableData:E6,tableHeader:E6,tableRow:cce},exit:{codeText:uce,table:lce,tableData:t5,tableHeader:t5,tableRow:t5}}}function ace(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function lce(t){this.exit(t),this.data.inTable=void 0}function cce(t){this.enter({type:"tableRow",children:[]},t)}function t5(t){this.exit(t)}function E6(t){this.enter({type:"tableCell",children:[]},t)}function uce(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,dce));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function dce(t,e){return e==="|"?e:t}function fce(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(f,m,g,v){return c(u(f,g,v),f.align)}function a(f,m,g,v){const y=d(f,g,v),w=c([y]);return w.slice(0,w.indexOf(`
`))}function l(f,m,g,v){const y=g.enter("tableCell"),w=g.enter("phrasing"),b=g.containerPhrasing(f,{...v,before:s,after:s});return w(),y(),b}function c(f,m){return Ele(f,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(f,m,g){const v=f.children;let y=-1;const w=[],b=m.enter("table");for(;++y<v.length;)w[y]=d(v[y],m,g);return b(),w}function d(f,m,g){const v=f.children;let y=-1;const w=[],b=m.enter("tableRow");for(;++y<v.length;)w[y]=l(v[y],f,m,g);return b(),w}function h(f,m,g){let v=UB.inlineCode(f,m,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function hce(){return{exit:{taskListCheckValueChecked:A6,taskListCheckValueUnchecked:A6,paragraph:mce}}}function pce(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gce}}}function A6(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function mce(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function gce(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=UB.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function yce(){return[Jae(),gle(),xle(),oce(),hce()]}function vce(t){return{extensions:[Yae(),yle(t),ble(),fce(t),pce()]}}const wce={tokenize:Nce,partial:!0},$B={tokenize:Ece,partial:!0},VB={tokenize:Ace,partial:!0},HB={tokenize:Cce,partial:!0},xce={tokenize:Tce,partial:!0},qB={name:"wwwAutolink",tokenize:kce,previous:KB},WB={name:"protocolAutolink",tokenize:_ce,previous:GB},Qa={name:"emailAutolink",tokenize:Sce,previous:JB},la={};function bce(){return{text:la}}let qc=48;for(;qc<123;)la[qc]=Qa,qc++,qc===58?qc=65:qc===91&&(qc=97);la[43]=Qa;la[45]=Qa;la[46]=Qa;la[95]=Qa;la[72]=[Qa,WB];la[104]=[Qa,WB];la[87]=[Qa,qB];la[119]=[Qa,qB];function Sce(t,e,n){const r=this;let i,s;return o;function o(d){return!D_(d)||!JB.call(r,r.previous)||dC(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return D_(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(xce,u,c)(d):d===45||d===95||ti(d)?(s=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return s&&i&&yi(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function kce(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!KB.call(r,r.previous)||dC(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(wce,t.attempt($B,t.attempt(VB,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function _ce(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&GB.call(r,r.previous)&&!dC(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(yi(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||R1(d)||un(d)||Iu(d)||mx(d)?n(d):t.attempt($B,t.attempt(VB,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function Nce(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function Ece(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(HB,l,a)(c):c===null||un(c)||Iu(c)||c!==45&&mx(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function Ace(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(HB,e,s)(o):o===null||un(o)||Iu(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function Cce(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||un(a)||Iu(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||un(a)||Iu(a)?e(a):r(a)}function s(a){return yi(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):yi(a)?(t.consume(a),o):n(a)}}function Tce(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return ti(s)?n(s):e(s)}}function KB(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||un(t)}function GB(t){return!yi(t)}function JB(t){return!(t===47||D_(t))}function D_(t){return t===43||t===45||t===46||t===95||ti(t)}function dC(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Pce={tokenize:Fce,partial:!0};function jce(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Oce,continuation:{tokenize:Mce},exit:Dce}},text:{91:{name:"gfmFootnoteCall",tokenize:Ice},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Lce,resolveTo:Rce}}}}function Lce(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=So(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function Rce(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function Ice(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||un(d))return n(d);if(d===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(So(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return un(d)||(o=!0),s++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function Oce(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!a||m===null||m===91||un(m))return n(m);if(m===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return s=So(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return un(m)||(a=!0),o++,t.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(t.consume(m),o++,u):u(m)}function h(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ht(t,f,"gfmFootnoteDefinitionWhitespace")):n(m)}function f(m){return e(m)}}function Mce(t,e,n){return t.check(qg,e,t.attempt(Pce,e,n))}function Dce(t){t.exit("gfmFootnoteDefinition")}function Fce(t,e,n){const r=this;return Ht(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Bce(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],f=a.parser.constructs.insideSpan.null;f&&ls(h,h.length,0,gx(f,o.slice(c+1,l),a)),ls(h,h.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),ls(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),f(m))}function f(m){const g=lh(c);if(m===126)return d>1?l(m):(o.consume(m),d++,f);if(d<2&&!n)return l(m);const v=o.exit("strikethroughSequenceTemporary"),y=lh(m);return v._open=!y||y===2&&!!g,v._close=!g||g===2&&!!y,a(m)}}}class zce{constructor(){this.map=[]}add(e,n,r){Uce(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Uce(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function $ce(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Vce(){return{flow:{null:{name:"table",tokenize:Hce,resolveAll:qce}}}}function Hce(t,e,n){const r=this;let i=0,s=0,o;return a;function a(G){let W=r.events.length-1;for(;W>-1;){const E=r.events[W][1].type;if(E==="lineEnding"||E==="linePrefix")W--;else break}const L=W>-1?r.events[W][1].type:null,V=L==="tableHead"||L==="tableRow"?M:l;return V===M&&r.parser.lazy[r.now().line]?n(G):V(G)}function l(G){return t.enter("tableHead"),t.enter("tableRow"),c(G)}function c(G){return G===124||(o=!0,s+=1),u(G)}function u(G){return G===null?n(G):mt(G)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),f):n(G):zt(G)?Ht(t,u,"whitespace")(G):(s+=1,o&&(o=!1,i+=1),G===124?(t.enter("tableCellDivider"),t.consume(G),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),d(G)))}function d(G){return G===null||G===124||un(G)?(t.exit("data"),u(G)):(t.consume(G),G===92?h:d)}function h(G){return G===92||G===124?(t.consume(G),d):d(G)}function f(G){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(G):(t.enter("tableDelimiterRow"),o=!1,zt(G)?Ht(t,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):m(G))}function m(G){return G===45||G===58?v(G):G===124?(o=!0,t.enter("tableCellDivider"),t.consume(G),t.exit("tableCellDivider"),g):C(G)}function g(G){return zt(G)?Ht(t,v,"whitespace")(G):v(G)}function v(G){return G===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(G),t.exit("tableDelimiterMarker"),y):G===45?(s+=1,y(G)):G===null||mt(G)?N(G):C(G)}function y(G){return G===45?(t.enter("tableDelimiterFiller"),w(G)):C(G)}function w(G){return G===45?(t.consume(G),w):G===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(G),t.exit("tableDelimiterMarker"),b):(t.exit("tableDelimiterFiller"),b(G))}function b(G){return zt(G)?Ht(t,N,"whitespace")(G):N(G)}function N(G){return G===124?m(G):G===null||mt(G)?!o||i!==s?C(G):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(G)):C(G)}function C(G){return n(G)}function M(G){return t.enter("tableRow"),B(G)}function B(G){return G===124?(t.enter("tableCellDivider"),t.consume(G),t.exit("tableCellDivider"),B):G===null||mt(G)?(t.exit("tableRow"),e(G)):zt(G)?Ht(t,B,"whitespace")(G):(t.enter("data"),z(G))}function z(G){return G===null||G===124||un(G)?(t.exit("data"),B(G)):(t.consume(G),G===92?F:z)}function F(G){return G===92||G===124?(t.consume(G),z):z(G)}}function qce(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const h=new zce;for(;++n<t.length;){const f=t[n],m=f[1];f[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(C6(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,e]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Ty(h,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=Ty(h,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=Ty(h,e,s,i,n,d)):o[1]!==0&&(d=Ty(h,e,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&C6(h,e,l,c,u),h.consume(e.events),n=-1;++n<e.events.length;){const f=e.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=$ce(e.events,n))}return t}function Ty(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Qd(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=Qd(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=Qd(e.events,n[2]),u=Qd(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const h=e.events[n[2]],f=e.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;t.add(m,g,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},Qd(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function C6(t,e,n,r,i){const s=[],o=Qd(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function Qd(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Wce={name:"tasklistCheck",tokenize:Gce};function Kce(){return{text:{91:Wce}}}function Gce(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return un(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return mt(l)?e(l):zt(l)?t.check({tokenize:Jce},e,n)(l):n(l)}}function Jce(t,e,n){return Ht(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Yce(t){return iB([bce(),jce(),Bce(t),Vce(),Kce()])}const Xce={};function Qce(t){const e=this,n=t||Xce,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Yce(n)),s.push(yce()),o.push(vce(n))}function Zce(t){EB(t,[/\r?\n|\r/g,eue])}function eue(){return{type:"break"}}function tue(){return function(t){Zce(t)}}const Wc=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Tl={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Wc,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Wc],h2:[["className","sr-only"]],img:[...Wc,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Wc,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Wc],table:[...Wc],ul:[...Wc,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Pl={}.hasOwnProperty;function nue(t,e){let n={type:"root",children:[]};const r={schema:e?{...Tl,...e}:Tl,stack:[]},i=YB(r,t);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function YB(t,e){if(e&&typeof e=="object"){const n=e;switch(typeof n.type=="string"?n.type:""){case"comment":return rue(t,n);case"doctype":return iue(t,n);case"element":return sue(t,n);case"root":return oue(t,n);case"text":return aue(t,n)}}}function rue(t,e){if(t.schema.allowComments){const n=typeof e.value=="string"?e.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return Kg(s,e),s}}function iue(t,e){if(t.schema.allowDoctypes){const n={type:"doctype"};return Kg(n,e),n}}function sue(t,e){const n=typeof e.tagName=="string"?e.tagName:"";t.stack.push(n);const r=XB(t,e.children),i=lue(t,e.properties);t.stack.pop();let s=!1;if(n&&n!=="*"&&(!t.schema.tagNames||t.schema.tagNames.includes(n))&&(s=!0,t.schema.ancestors&&Pl.call(t.schema.ancestors,n))){const a=t.schema.ancestors[n];let l=-1;for(s=!1;++l<a.length;)t.stack.includes(a[l])&&(s=!0)}if(!s)return t.schema.strip&&!t.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:i,children:r};return Kg(o,e),o}function oue(t,e){const r={type:"root",children:XB(t,e.children)};return Kg(r,e),r}function aue(t,e){const r={type:"text",value:typeof e.value=="string"?e.value:""};return Kg(r,e),r}function XB(t,e){const n=[];if(Array.isArray(e)){const r=e;let i=-1;for(;++i<r.length;){const s=YB(t,r[i]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function lue(t,e){const n=t.stack[t.stack.length-1],r=t.schema.attributes,i=t.schema.required,s=r&&Pl.call(r,n)?r[n]:void 0,o=r&&Pl.call(r,"*")?r["*"]:void 0,a=e&&typeof e=="object"?e:{},l={};let c;for(c in a)if(Pl.call(a,c)){const u=a[c];let d=T6(t,P6(s,c),c,u);d==null&&(d=T6(t,P6(o,c),c,u)),d!=null&&(l[c]=d)}if(i&&Pl.call(i,n)){const u=i[n];for(c in u)Pl.call(u,c)&&!Pl.call(l,c)&&(l[c]=u[c])}return l}function T6(t,e,n,r){return e?Array.isArray(r)?cue(t,e,n,r):QB(t,e,n,r):void 0}function cue(t,e,n,r){let i=-1;const s=[];for(;++i<r.length;){const o=QB(t,e,n,r[i]);(typeof o=="number"||typeof o=="string")&&s.push(o)}return s}function QB(t,e,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&uue(t,n,r)){if(typeof e=="object"&&e.length>1){let i=!1,s=0;for(;++s<e.length;){const o=e[s];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){i=!0;break}}else if(o===r){i=!0;break}}if(!i)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(n)?t.schema.clobberPrefix+r:r}}function uue(t,e,n){const r=t.schema.protocols&&Pl.call(t.schema.protocols,e)?t.schema.protocols[e]:void 0;if(!r||r.length===0)return!0;const i=String(n),s=i.indexOf(":"),o=i.indexOf("?"),a=i.indexOf("#"),l=i.indexOf("/");if(s<0||l>-1&&s>l||o>-1&&s>o||a>-1&&s>a)return!0;let c=-1;for(;++c<r.length;){const u=r[c];if(s===u.length&&i.slice(0,u.length)===u)return!0}return!1}function Kg(t,e){const n=Q7(e);e.data&&(t.data=cg(e.data)),n&&(t.position=n)}function P6(t,e){let n,r=-1;if(t)for(;++r<t.length;){const i=t[r],s=typeof i=="string"?i:i[0];if(s===e)return i;s==="data*"&&(n=i)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return n}function due(t){return function(e){return nue(e,t)}}var mO,gO,yO,vO;const fue={...Tl,attributes:{...Tl.attributes,code:[...((mO=Tl.attributes)==null?void 0:mO.code)||[],["className","language-*"]],span:[...((gO=Tl.attributes)==null?void 0:gO.span)||[],"className"],th:[...((yO=Tl.attributes)==null?void 0:yO.th)||[],"align"],td:[...((vO=Tl.attributes)==null?void 0:vO.td)||[],"align"]}},hue={h1:({children:t})=>p.jsx("h1",{className:"legal-heading legal-heading-1",children:t}),h2:({children:t})=>p.jsx("h2",{className:"legal-heading legal-heading-2",children:t}),h3:({children:t})=>p.jsx("h3",{className:"legal-heading legal-heading-3",children:t}),h4:({children:t})=>p.jsx("h4",{className:"legal-heading legal-heading-4",children:t}),p:({children:t})=>p.jsx("p",{className:"legal-paragraph",children:t}),strong:({children:t})=>p.jsx("strong",{className:"legal-strong",children:t}),em:({children:t})=>p.jsx("em",{className:"legal-em",children:t}),ul:({children:t})=>p.jsx("ul",{className:"legal-list legal-list-disc",children:t}),ol:({children:t})=>p.jsx("ol",{className:"legal-list legal-list-decimal",children:t}),li:({children:t})=>p.jsx("li",{className:"legal-list-item",children:t}),blockquote:({children:t})=>p.jsx("blockquote",{className:"legal-blockquote",children:t}),table:({children:t})=>p.jsx("div",{className:"legal-table-wrapper",children:p.jsx("table",{className:"legal-table",children:t})}),thead:({children:t})=>p.jsx("thead",{className:"legal-table-head",children:t}),tbody:({children:t})=>p.jsx("tbody",{className:"legal-table-body",children:t}),tr:({children:t})=>p.jsx("tr",{className:"legal-table-row",children:t}),th:({children:t})=>p.jsx("th",{className:"legal-table-heading",children:t}),td:({children:t})=>p.jsx("td",{className:"legal-table-cell",children:t}),code:({inline:t,className:e,children:n})=>t?p.jsx("code",{className:"legal-code-inline",children:n}):p.jsx("pre",{className:"legal-code-block",children:p.jsx("code",{className:e,children:n})}),hr:()=>p.jsx("hr",{className:"legal-divider"})};function F_({content:t,className:e}){const n=$.useMemo(()=>(t==null?void 0:t.trim())??"",[t]);return n?p.jsx("div",{className:`legal-typography ${e||""}`.trim(),children:p.jsx(zae,{remarkPlugins:[Qce,tue],rehypePlugins:[[due,fue]],components:hue,children:n})}):null}function fC({isFullView:t,onToggle:e,className:n,variant:r="solid",hideLabelOnSmallScreens:i=!1}){const s=t?"Collapse View":"Expand View",o="inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2",a=r==="solid"?"border border-slate-200 bg-white text-slate-700 shadow-sm hover:border-teal-500 hover:text-teal-600 focus:ring-teal-500":"bg-transparent text-white/80 hover:text-white focus:ring-white/60",l=i?"ml-2 hidden md:inline":"ml-2";return p.jsxs(Mr.button,{type:"button","aria-label":s,title:s,onClick:e,whileHover:{scale:1.05},whileTap:{scale:.97},className:`${o} ${a} ${n||""}`.trim(),children:[t?p.jsx(c_,{className:"h-4 w-4"}):p.jsx(hQ,{className:"h-4 w-4"}),p.jsx("span",{className:l,children:s})]})}function hC(t,e=!1,n){const[r,i]=$.useState(e),s=$.useRef(n==null?void 0:n.shouldHandleShortcut);$.useEffect(()=>{s.current=n==null?void 0:n.shouldHandleShortcut},[n==null?void 0:n.shouldHandleShortcut]),$.useEffect(()=>{if(!(typeof window>"u"))try{const a=window.localStorage.getItem(t);a!==null&&i(a==="true")}catch(a){console.warn("[useFullViewToggle] Failed to read storage",a)}},[t]),$.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(t,String(r))}catch(a){console.warn("[useFullViewToggle] Failed to write storage",a)}},[r,t]),$.useEffect(()=>{const a=l=>{(l.ctrlKey||l.metaKey)&&l.key==="`"&&(s.current&&!s.current()||(l.preventDefault(),i(c=>!c)))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);const o=$.useCallback(()=>{i(a=>!a)},[]);return{isFullView:r,toggleFullView:o,setFullView:i}}function tn(t){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(t)}var Zr=Uint8Array,is=Uint16Array,pC=Int32Array,xx=new Zr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bx=new Zr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B_=new Zr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZB=function(t,e){for(var n=new is(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new pC(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},ez=ZB(xx,2),tz=ez.b,z_=ez.r;tz[28]=258,z_[258]=28;var nz=ZB(bx,0),pue=nz.b,j6=nz.r,U_=new is(32768);for(var bn=0;bn<32768;++bn){var vl=(bn&43690)>>1|(bn&21845)<<1;vl=(vl&52428)>>2|(vl&13107)<<2,vl=(vl&61680)>>4|(vl&3855)<<4,U_[bn]=((vl&65280)>>8|(vl&255)<<8)>>1}var na=function(t,e,n){for(var r=t.length,i=0,s=new is(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new is(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new is(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[U_[d]>>l]=c}else for(a=new is(r),i=0;i<r;++i)t[i]&&(a[i]=U_[o[t[i]-1]++]>>15-t[i]);return a},uc=new Zr(288);for(var bn=0;bn<144;++bn)uc[bn]=8;for(var bn=144;bn<256;++bn)uc[bn]=9;for(var bn=256;bn<280;++bn)uc[bn]=7;for(var bn=280;bn<288;++bn)uc[bn]=8;var dg=new Zr(32);for(var bn=0;bn<32;++bn)dg[bn]=5;var mue=na(uc,9,0),gue=na(uc,9,1),yue=na(dg,5,0),vue=na(dg,5,1),n5=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ro=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},r5=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},mC=function(t){return(t+7)/8|0},rz=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Zr(t.subarray(e,n))},wue=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fo=function(t,e,n){var r=new Error(e||wue[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,fo),!n)throw r;return r},xue=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Zr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Zr(i*3));var c=function(X){var se=n.length;if(X>se){var xe=new Zr(Math.max(se*2,X));xe.set(n),n=xe}},u=e.f||0,d=e.p||0,h=e.b||0,f=e.l,m=e.d,g=e.m,v=e.n,y=i*8;do{if(!f){u=ro(t,d,1);var w=ro(t,d+1,3);if(d+=3,w)if(w==1)f=gue,m=vue,g=9,v=5;else if(w==2){var M=ro(t,d,31)+257,B=ro(t,d+10,15)+4,z=M+ro(t,d+5,31)+1;d+=14;for(var F=new Zr(z),G=new Zr(19),W=0;W<B;++W)G[B_[W]]=ro(t,d+W*3,7);d+=B*3;for(var L=n5(G),V=(1<<L)-1,E=na(G,L,1),W=0;W<z;){var te=E[ro(t,d,V)];d+=te&15;var b=te>>4;if(b<16)F[W++]=b;else{var pe=0,re=0;for(b==16?(re=3+ro(t,d,3),d+=2,pe=F[W-1]):b==17?(re=3+ro(t,d,7),d+=3):b==18&&(re=11+ro(t,d,127),d+=7);re--;)F[W++]=pe}}var K=F.subarray(0,M),Y=F.subarray(M);g=n5(K),v=n5(Y),f=na(K,g,1),m=na(Y,v,1)}else fo(1);else{var b=mC(d)+4,N=t[b-4]|t[b-3]<<8,C=b+N;if(C>i){l&&fo(0);break}a&&c(h+N),n.set(t.subarray(b,C),h),e.b=h+=N,e.p=d=C*8,e.f=u;continue}if(d>y){l&&fo(0);break}}a&&c(h+131072);for(var q=(1<<g)-1,de=(1<<v)-1,T=d;;T=d){var pe=f[r5(t,d)&q],R=pe>>4;if(d+=pe&15,d>y){l&&fo(0);break}if(pe||fo(2),R<256)n[h++]=R;else if(R==256){T=d,f=null;break}else{var J=R-254;if(R>264){var W=R-257,ae=xx[W];J=ro(t,d,(1<<ae)-1)+tz[W],d+=ae}var Q=m[r5(t,d)&de],O=Q>>4;Q||fo(3),d+=Q&15;var Y=pue[O];if(O>3){var ae=bx[O];Y+=r5(t,d)&(1<<ae)-1,d+=ae}if(d>y){l&&fo(0);break}a&&c(h+131072);var I=h+J;if(h<Y){var ne=s-Y,ce=Math.min(Y,I);for(ne+h<0&&fo(3);h<ce;++h)n[h]=r[ne+h]}for(;h<I;++h)n[h]=n[h-Y]}}e.l=f,e.p=T,e.b=h,e.f=u,f&&(u=1,e.m=g,e.d=m,e.n=v)}while(!u);return h!=n.length&&o?rz(n,0,h):n.subarray(0,h)},Sa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Pp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},i5=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:sz,l:0};if(i==1){var o=new Zr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,M){return C.f-M.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new is(h+1),m=$_(n[u-1],f,0);if(m>e){var r=0,g=0,v=m-e,y=1<<v;for(s.sort(function(M,B){return f[B.s]-f[M.s]||M.f-B.f});r<i;++r){var w=s[r].s;if(f[w]>e)g+=y-(1<<m-f[w]),f[w]=e;else break}for(g>>=v;g>0;){var b=s[r].s;f[b]<e?g-=1<<e-f[b]++-1:++r}for(;r>=0&&g;--r){var N=s[r].s;f[N]==e&&(--f[N],++g)}m=e}return{t:new Zr(f),l:m}},$_=function(t,e,n){return t.s==-1?Math.max($_(t.l,e,n+1),$_(t.r,e,n+1)):e[t.s]=n},L6=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new is(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},jp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},iz=function(t,e,n){var r=n.length,i=mC(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},R6=function(t,e,n,r,i,s,o,a,l,c,u){Sa(e,u++,n),++i[256];for(var d=i5(i,15),h=d.t,f=d.l,m=i5(s,15),g=m.t,v=m.l,y=L6(h),w=y.c,b=y.n,N=L6(g),C=N.c,M=N.n,B=new is(19),z=0;z<w.length;++z)++B[w[z]&31];for(var z=0;z<C.length;++z)++B[C[z]&31];for(var F=i5(B,7),G=F.t,W=F.l,L=19;L>4&&!G[B_[L-1]];--L);var V=c+5<<3,E=jp(i,uc)+jp(s,dg)+o,te=jp(i,h)+jp(s,g)+o+14+3*L+jp(B,G)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&V<=E&&V<=te)return iz(e,u,t.subarray(l,l+c));var pe,re,K,Y;if(Sa(e,u,1+(te<E)),u+=2,te<E){pe=na(h,f,0),re=h,K=na(g,v,0),Y=g;var q=na(G,W,0);Sa(e,u,b-257),Sa(e,u+5,M-1),Sa(e,u+10,L-4),u+=14;for(var z=0;z<L;++z)Sa(e,u+3*z,G[B_[z]]);u+=3*L;for(var de=[w,C],T=0;T<2;++T)for(var R=de[T],z=0;z<R.length;++z){var J=R[z]&31;Sa(e,u,q[J]),u+=G[J],J>15&&(Sa(e,u,R[z]>>5&127),u+=R[z]>>12)}}else pe=mue,re=uc,K=yue,Y=dg;for(var z=0;z<a;++z){var ae=r[z];if(ae>255){var J=ae>>18&31;Pp(e,u,pe[J+257]),u+=re[J+257],J>7&&(Sa(e,u,ae>>23&31),u+=xx[J]);var Q=ae&31;Pp(e,u,K[Q]),u+=Y[Q],Q>3&&(Pp(e,u,ae>>5&8191),u+=bx[Q])}else Pp(e,u,pe[ae]),u+=re[ae]}return Pp(e,u,pe[256]),u+re[256]},bue=new pC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sz=new Zr(0),Sue=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Zr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=bue[e-1],h=d>>13,f=d&8191,m=(1<<n)-1,g=s.p||new is(32768),v=s.h||new is(m+1),y=Math.ceil(n/3),w=2*y,b=function(U){return(t[U]^t[U+1]<<y^t[U+2]<<w)&m},N=new pC(25e3),C=new is(288),M=new is(32),B=0,z=0,F=s.i||0,G=0,W=s.w||0,L=0;F+2<o;++F){var V=b(F),E=F&32767,te=v[V];if(g[E]=te,v[V]=E,W<=F){var pe=o-F;if((B>7e3||G>24576)&&(pe>423||!c)){u=R6(t,l,0,N,C,M,z,G,L,F-L,u),G=B=z=0,L=F;for(var re=0;re<286;++re)C[re]=0;for(var re=0;re<30;++re)M[re]=0}var K=2,Y=0,q=f,de=E-te&32767;if(pe>2&&V==b(F-de))for(var T=Math.min(h,pe)-1,R=Math.min(32767,F),J=Math.min(258,pe);de<=R&&--q&&E!=te;){if(t[F+K]==t[F+K-de]){for(var ae=0;ae<J&&t[F+ae]==t[F+ae-de];++ae);if(ae>K){if(K=ae,Y=de,ae>T)break;for(var Q=Math.min(de,ae-2),O=0,re=0;re<Q;++re){var I=F-de+re&32767,ne=g[I],ce=I-ne&32767;ce>O&&(O=ce,te=I)}}}E=te,te=g[E],de+=E-te&32767}if(Y){N[G++]=268435456|z_[K]<<18|j6[Y];var X=z_[K]&31,se=j6[Y]&31;z+=xx[X]+bx[se],++C[257+X],++M[se],W=F+K,++B}else N[G++]=t[F],++C[t[F]]}}for(F=Math.max(F,W);F<o;++F)N[G++]=t[F],++C[t[F]];u=R6(t,l,c,N,C,M,z,G,L,F-L,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=v,s.p=g,s.i=F,s.w=W)}else{for(var F=s.w||0;F<o+c;F+=65535){var xe=F+65535;xe>=o&&(l[u/8|0]=c,xe=o),u=iz(l,u+1,t.subarray(F,xe))}s.i=o}return rz(a,0,r+mC(u)+i)},oz=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kue=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return Sue(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},az=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},_ue=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=oz();i.p(e.dictionary),az(t,2,i.d())}},Nue=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&fo(6,"invalid zlib data"),(t[1]>>5&1)==1&&fo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function V_(t,e){e||(e={});var n=oz();n.p(t);var r=kue(t,e,e.dictionary?6:2,4);return _ue(r,e),az(r,r.length-4,n.d()),r}function Eue(t,e){return xue(t.subarray(Nue(t),-4),{i:2},e,e)}var Aue=typeof TextDecoder<"u"&&new TextDecoder,Cue=0;try{Aue.decode(sz,{stream:!0}),Cue=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s5(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var ln={log:s5,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):s5.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):s5(t))}};function o5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){tu(r.response,e,n)},r.onerror=function(){ln.error("could not download file")},r.send()}function I6(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Py(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var xm,H_,tu=wt.saveAs||((typeof window>"u"?"undefined":tn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wt.URL||wt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?I6(i.href)?o5(t,e,n):Py(i,i.target="_blank"):Py(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Py(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(I6(t))o5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Py(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:tn(s)!=="object"&&(ln.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return o5(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":tn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lz(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a5(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=qr(n,r,i,s,e[0],7,-680876936),s=qr(s,n,r,i,e[1],12,-389564586),i=qr(i,s,n,r,e[2],17,606105819),r=qr(r,i,s,n,e[3],22,-1044525330),n=qr(n,r,i,s,e[4],7,-176418897),s=qr(s,n,r,i,e[5],12,1200080426),i=qr(i,s,n,r,e[6],17,-1473231341),r=qr(r,i,s,n,e[7],22,-45705983),n=qr(n,r,i,s,e[8],7,1770035416),s=qr(s,n,r,i,e[9],12,-1958414417),i=qr(i,s,n,r,e[10],17,-42063),r=qr(r,i,s,n,e[11],22,-1990404162),n=qr(n,r,i,s,e[12],7,1804603682),s=qr(s,n,r,i,e[13],12,-40341101),i=qr(i,s,n,r,e[14],17,-1502002290),n=Wr(n,r=qr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Wr(s,n,r,i,e[6],9,-1069501632),i=Wr(i,s,n,r,e[11],14,643717713),r=Wr(r,i,s,n,e[0],20,-373897302),n=Wr(n,r,i,s,e[5],5,-701558691),s=Wr(s,n,r,i,e[10],9,38016083),i=Wr(i,s,n,r,e[15],14,-660478335),r=Wr(r,i,s,n,e[4],20,-405537848),n=Wr(n,r,i,s,e[9],5,568446438),s=Wr(s,n,r,i,e[14],9,-1019803690),i=Wr(i,s,n,r,e[3],14,-187363961),r=Wr(r,i,s,n,e[8],20,1163531501),n=Wr(n,r,i,s,e[13],5,-1444681467),s=Wr(s,n,r,i,e[2],9,-51403784),i=Wr(i,s,n,r,e[7],14,1735328473),n=Kr(n,r=Wr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Kr(s,n,r,i,e[8],11,-2022574463),i=Kr(i,s,n,r,e[11],16,1839030562),r=Kr(r,i,s,n,e[14],23,-35309556),n=Kr(n,r,i,s,e[1],4,-1530992060),s=Kr(s,n,r,i,e[4],11,1272893353),i=Kr(i,s,n,r,e[7],16,-155497632),r=Kr(r,i,s,n,e[10],23,-1094730640),n=Kr(n,r,i,s,e[13],4,681279174),s=Kr(s,n,r,i,e[0],11,-358537222),i=Kr(i,s,n,r,e[3],16,-722521979),r=Kr(r,i,s,n,e[6],23,76029189),n=Kr(n,r,i,s,e[9],4,-640364487),s=Kr(s,n,r,i,e[12],11,-421815835),i=Kr(i,s,n,r,e[15],16,530742520),n=Gr(n,r=Kr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Gr(s,n,r,i,e[7],10,1126891415),i=Gr(i,s,n,r,e[14],15,-1416354905),r=Gr(r,i,s,n,e[5],21,-57434055),n=Gr(n,r,i,s,e[12],6,1700485571),s=Gr(s,n,r,i,e[3],10,-1894986606),i=Gr(i,s,n,r,e[10],15,-1051523),r=Gr(r,i,s,n,e[1],21,-2054922799),n=Gr(n,r,i,s,e[8],6,1873313359),s=Gr(s,n,r,i,e[15],10,-30611744),i=Gr(i,s,n,r,e[6],15,-1560198380),r=Gr(r,i,s,n,e[13],21,1309151649),n=Gr(n,r,i,s,e[4],6,-145523070),s=Gr(s,n,r,i,e[11],10,-1120210379),i=Gr(i,s,n,r,e[2],15,718787259),r=Gr(r,i,s,n,e[9],21,-343485551),t[0]=$l(n,t[0]),t[1]=$l(r,t[1]),t[2]=$l(i,t[2]),t[3]=$l(s,t[3])}function Sx(t,e,n,r,i,s){return e=$l($l(e,t),$l(r,s)),$l(e<<i|e>>>32-i,n)}function qr(t,e,n,r,i,s,o){return Sx(e&n|~e&r,t,e,i,s,o)}function Wr(t,e,n,r,i,s,o){return Sx(e&r|n&~r,t,e,i,s,o)}function Kr(t,e,n,r,i,s,o){return Sx(e^n^r,t,e,i,s,o)}function Gr(t,e,n,r,i,s,o){return Sx(n^(e|~r),t,e,i,s,o)}function cz(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)a5(r,Tue(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(a5(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,a5(r,i),r}function Tue(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}xm=wt.atob.bind(wt),H_=wt.btoa.bind(wt);var O6="0123456789abcdef".split("");function Pue(t){for(var e="",n=0;n<4;n++)e+=O6[t>>8*n+4&15]+O6[t>>8*n&15];return e}function jue(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function q_(t){return cz(t).map(jue).join("")}var Lue=function(t){for(var e=0;e<t.length;e++)t[e]=Pue(t[e]);return t.join("")}(cz("hello"))!="5d41402abc4b2a76b9719d911017c592";function $l(t,e){if(Lue){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function W_(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var d=e.length,h=0,f=0,m="";for(l=0;l<d;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var M6={print:4,modify:8,copy:16,"annot-forms":32};function Zd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(M6.perm!==void 0)throw new Error("Invalid permission: "+a);i+=M6[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=q_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=W_(this.encryptionKey,this.padding)}function ef(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function D6(t){if(tn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){wt.console&&ln.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function M1(t){if(!(this instanceof M1))return new M1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uz(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function su(t,e,n,r,i){if(!(this instanceof su))return new su(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uz.call(this,r,i)}function kf(t,e,n,r,i){if(!(this instanceof kf))return new kf(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uz.call(this,r,i)}function vt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;tn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=D6;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(A){m=A};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var y=f.__private__.getPageFormat=function(A){return v[A]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function N(){this.saveGraphicsState(),j(new gt(Ke,0,0,-Ke,0,rl()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),c="n",b=w.ADVANCED}function C(){this.restoreGraphicsState(),c="S",b=w.COMPAT}var M=f.__private__.combineFontStyleAndFontWeight=function(A,ee){if(A=="bold"&&ee=="normal"||A=="bold"&&ee==400||A=="normal"&&ee=="italic"||A=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(A=ee==400||ee==="normal"?A==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||A!=="normal"?(ee==700?"bold":ee)+""+A:"bold"),A};f.advancedAPI=function(A){var ee=b===w.COMPAT;return ee&&N.call(this),typeof A!="function"||(A(this),ee&&C.call(this)),this},f.compatAPI=function(A){var ee=b===w.ADVANCED;return ee&&C.call(this),typeof A!="function"||(A(this),ee&&N.call(this)),this},f.isAdvancedAPI=function(){return b===w.ADVANCED};var B,z=function(A){if(b!==w.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=f.roundToPrecision=f.__private__.roundToPrecision=function(A,ee){var ve=e||ee;if(isNaN(A)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ve).replace(/0+$/,"")};B=f.hpf=f.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var G=f.f2=f.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},W=f.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},L=f.scale=f.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?A*Ke:b===w.ADVANCED?A:void 0},V=function(A){return b===w.COMPAT?rl()-A:b===w.ADVANCED?A:void 0},E=function(A){return L(V(A))};f.__private__.setPrecision=f.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var te,pe="00000000000000000000000000000000",re=f.__private__.getFileId=function(){return pe},K=f.__private__.setFileId=function(A){return pe=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ur=new Zd(u.userPermissions,u.userPassword,u.ownerPassword,pe)),pe};f.setFileId=function(A){return K(A),this},f.getFileId=function(){return re()};var Y=f.__private__.convertDateToPDFDate=function(A){var ee=A.getTimezoneOffset(),ve=ee<0?"+":"-",be=Math.floor(Math.abs(ee/60)),Ce=Math.abs(ee%60),Oe=[ve,J(be),"'",J(Ce),"'"].join("");return["D:",A.getFullYear(),J(A.getMonth()+1),J(A.getDate()),J(A.getHours()),J(A.getMinutes()),J(A.getSeconds()),Oe].join("")},q=f.__private__.convertPDFDateToDate=function(A){var ee=parseInt(A.substr(2,4),10),ve=parseInt(A.substr(6,2),10)-1,be=parseInt(A.substr(8,2),10),Ce=parseInt(A.substr(10,2),10),Oe=parseInt(A.substr(12,2),10),Ve=parseInt(A.substr(14,2),10);return new Date(ee,ve,be,Ce,Oe,Ve,0)},de=f.__private__.setCreationDate=function(A){var ee;if(A===void 0&&(A=new Date),A instanceof Date)ee=Y(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=A}return te=ee},T=f.__private__.getCreationDate=function(A){var ee=te;return A==="jsDate"&&(ee=q(te)),ee};f.setCreationDate=function(A){return de(A),this},f.getCreationDate=function(A){return T(A)};var R,J=f.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ae=f.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},Q=0,O=[],I=[],ne=0,ce=[],X=[],se=!1,xe=I,U=function(){Q=0,ne=0,I=[],O=[],ce=[],fa=nr(),Gs=nr()};f.__private__.setCustomOutputDestination=function(A){se=!0,xe=A};var me=function(A){se||(xe=A)};f.__private__.resetCustomOutputDestination=function(){se=!1,xe=I};var j=f.__private__.out=function(A){return A=A.toString(),ne+=A.length+1,xe.push(A),xe},k=f.__private__.write=function(A){return j(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},_=f.__private__.getArrayBuffer=function(A){for(var ee=A.length,ve=new ArrayBuffer(ee),be=new Uint8Array(ve);ee--;)be[ee]=A.charCodeAt(ee);return ve},D=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return D};var le=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(A){return le=b===w.ADVANCED?A/Ke:A,this};var ye,he=f.__private__.getFontSize=f.getFontSize=function(){return b===w.COMPAT?le:le*Ke},Ne=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(A){return Ne=A,this},f.__private__.getR2L=f.getR2L=function(){return Ne};var Le,je=f.__private__.setZoomMode=function(A){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ye=A;else if(isNaN(A)){if(ee.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ye=A}else ye=parseInt(A,10)};f.__private__.getZoomMode=function(){return ye};var we,Ae=f.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Le=A};f.__private__.getPageMode=function(){return Le};var Me=f.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');we=A};f.__private__.getLayoutMode=function(){return we},f.__private__.setDisplayMode=f.setDisplayMode=function(A,ee,ve){return je(A),Me(ee),Ae(ve),this};var qe={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(A){if(Object.keys(qe).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qe[A]},f.__private__.getDocumentProperties=function(){return qe},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(A){for(var ee in qe)qe.hasOwnProperty(ee)&&A[ee]&&(qe[ee]=A[ee]);return this},f.__private__.setDocumentProperty=function(A,ee){if(Object.keys(qe).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qe[A]=ee};var Ze,Ke,Jt,st,Rn,Bt={},xt={},tr=[],jt={},da={},_n={},Ei={},ci=null,on=0,Et=[],Yt=new D6(f),Pc=t.hotfixes||[],Pr={},Co={},To=[],gt=function A(ee,ve,be,Ce,Oe,Ve){if(!(this instanceof A))return new A(ee,ve,be,Ce,Oe,Ve);isNaN(ee)&&(ee=1),isNaN(ve)&&(ve=0),isNaN(be)&&(be=0),isNaN(Ce)&&(Ce=1),isNaN(Oe)&&(Oe=0),isNaN(Ve)&&(Ve=0),this._matrix=[ee,ve,be,Ce,Oe,Ve]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(A)},gt.prototype.multiply=function(A){var ee=A.sx*this.sx+A.shy*this.shx,ve=A.sx*this.shy+A.shy*this.sy,be=A.shx*this.sx+A.sy*this.shx,Ce=A.shx*this.shy+A.sy*this.sy,Oe=A.tx*this.sx+A.ty*this.shx+this.tx,Ve=A.tx*this.shy+A.ty*this.sy+this.ty;return new gt(ee,ve,be,Ce,Oe,Ve)},gt.prototype.decompose=function(){var A=this.sx,ee=this.shy,ve=this.shx,be=this.sy,Ce=this.tx,Oe=this.ty,Ve=Math.sqrt(A*A+ee*ee),et=(A/=Ve)*ve+(ee/=Ve)*be;ve-=A*et,be-=ee*et;var dt=Math.sqrt(ve*ve+be*be);return et/=dt,A*(be/=dt)<ee*(ve/=dt)&&(A=-A,ee=-ee,et=-et,Ve=-Ve),{scale:new gt(Ve,0,0,dt,0,0),translate:new gt(1,0,0,1,Ce,Oe),rotate:new gt(A,ee,-ee,A,0,0),skew:new gt(1,0,et,1,0,0)}},gt.prototype.toString=function(A){return this.join(" ")},gt.prototype.inversed=function(){var A=this.sx,ee=this.shy,ve=this.shx,be=this.sy,Ce=this.tx,Oe=this.ty,Ve=1/(A*be-ee*ve),et=be*Ve,dt=-ee*Ve,Pt=-ve*Ve,At=A*Ve;return new gt(et,dt,Pt,At,-et*Ce-Pt*Oe,-dt*Ce-At*Oe)},gt.prototype.applyToPoint=function(A){var ee=A.x*this.sx+A.y*this.shx+this.tx,ve=A.x*this.shy+A.y*this.sy+this.ty;return new md(ee,ve)},gt.prototype.applyToRectangle=function(A){var ee=this.applyToPoint(A),ve=this.applyToPoint(new md(A.x+A.w,A.y+A.h));return new Zh(ee.x,ee.y,ve.x-ee.x,ve.y-ee.y)},gt.prototype.clone=function(){var A=this.sx,ee=this.shy,ve=this.shx,be=this.sy,Ce=this.tx,Oe=this.ty;return new gt(A,ee,ve,be,Ce,Oe)},f.Matrix=gt;var Ks=f.matrixMult=function(A,ee){return ee.multiply(A)},Po=new gt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Po;var Ai=function(A,ee){if(!da[A]){var ve=(ee instanceof su?"Sh":"P")+(Object.keys(jt).length+1).toString(10);ee.id=ve,da[A]=ve,jt[ve]=ee,Yt.publish("addPattern",ee)}};f.ShadingPattern=su,f.TilingPattern=kf,f.addShadingPattern=function(A,ee){return z("addShadingPattern()"),Ai(A,ee),this},f.beginTilingPattern=function(A){z("beginTilingPattern()"),_0(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},f.endTilingPattern=function(A,ee){z("endTilingPattern()"),ee.stream=X[R].join(`
`),Ai(A,ee),Yt.publish("endTilingPattern",ee),To.pop().restore()};var pr=f.__private__.newObject=function(){var A=nr();return Wi(A,!0),A},nr=f.__private__.newObjectDeferred=function(){return Q++,O[Q]=function(){return ne},Q},Wi=function(A,ee){return ee=typeof ee=="boolean"&&ee,O[A]=ne,ee&&j(A+" 0 obj"),A},nd=f.__private__.newAdditionalObject=function(){var A={objId:nr(),content:""};return ce.push(A),A},fa=nr(),Gs=nr(),Js=f.__private__.decodeColorString=function(A){var ee=A.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var ve=parseFloat(ee[0]);ee=[ve,ve,ve,"r"]}for(var be="#",Ce=0;Ce<3;Ce++)be+=("0"+Math.floor(255*parseFloat(ee[Ce])).toString(16)).slice(-2);return be},Ys=f.__private__.encodeColorString=function(A){var ee;typeof A=="string"&&(A={ch1:A});var ve=A.ch1,be=A.ch2,Ce=A.ch3,Oe=A.ch4,Ve=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var et=new lz(ve);if(et.ok)ve=et.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var dt=parseInt(ve.substr(1),16);ve=dt>>16&255,be=dt>>8&255,Ce=255&dt}if(be===void 0||Oe===void 0&&ve===be&&be===Ce)if(typeof ve=="string")ee=ve+" "+Ve[0];else switch(A.precision){case 2:ee=G(ve/255)+" "+Ve[0];break;case 3:default:ee=W(ve/255)+" "+Ve[0]}else if(Oe===void 0||tn(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return ee=["1.","1.","1.",Ve[1]].join(" ");if(typeof ve=="string")ee=[ve,be,Ce,Ve[1]].join(" ");else switch(A.precision){case 2:ee=[G(ve/255),G(be/255),G(Ce/255),Ve[1]].join(" ");break;default:case 3:ee=[W(ve/255),W(be/255),W(Ce/255),Ve[1]].join(" ")}}else if(typeof ve=="string")ee=[ve,be,Ce,Oe,Ve[2]].join(" ");else switch(A.precision){case 2:ee=[G(ve),G(be),G(Ce),G(Oe),Ve[2]].join(" ");break;case 3:default:ee=[W(ve),W(be),W(Ce),W(Oe),Ve[2]].join(" ")}return ee},jo=f.__private__.getFilters=function(){return o},ys=f.__private__.putStream=function(A){var ee=(A=A||{}).data||"",ve=A.filters||jo(),be=A.alreadyAppliedFilters||[],Ce=A.addLength1||!1,Oe=ee.length,Ve=A.objectId,et=function($r){return $r};if(u!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(et=Ur.encryptor(Ve,0));var dt={};ve===!0&&(ve=["FlateEncode"]);var Pt=A.additionalKeyValues||[],At=(dt=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(ee,ve):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(dt.data.length!==0&&(Pt.push({key:"Length",value:dt.data.length}),Ce===!0&&Pt.push({key:"Length1",value:Oe})),At.length!=0)if(At.split("/").length-1==1)Pt.push({key:"Filter",value:At});else{Pt.push({key:"Filter",value:"["+At+"]"});for(var Vt=0;Vt<Pt.length;Vt+=1)if(Pt[Vt].key==="DecodeParms"){for(var En=[],In=0;In<dt.reverseChain.split("/").length-1;In+=1)En.push("null");En.push(Pt[Vt].value),Pt[Vt].value="["+En.join(" ")+"]"}}j("<<");for(var rr=0;rr<Pt.length;rr++)j("/"+Pt[rr].key+" "+Pt[rr].value);j(">>"),dt.data.length!==0&&(j("stream"),j(et(dt.data)),j("endstream"))},Lo=f.__private__.putPage=function(A){var ee=A.number,ve=A.data,be=A.objId,Ce=A.contentsObjId;Wi(be,!0),j("<</Type /Page"),j("/Parent "+A.rootDictionaryObjId+" 0 R"),j("/Resources "+A.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(B(A.mediaBox.bottomLeftX))+" "+parseFloat(B(A.mediaBox.bottomLeftY))+" "+B(A.mediaBox.topRightX)+" "+B(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&j("/CropBox ["+B(A.cropBox.bottomLeftX)+" "+B(A.cropBox.bottomLeftY)+" "+B(A.cropBox.topRightX)+" "+B(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&j("/BleedBox ["+B(A.bleedBox.bottomLeftX)+" "+B(A.bleedBox.bottomLeftY)+" "+B(A.bleedBox.topRightX)+" "+B(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&j("/TrimBox ["+B(A.trimBox.bottomLeftX)+" "+B(A.trimBox.bottomLeftY)+" "+B(A.trimBox.topRightX)+" "+B(A.trimBox.topRightY)+"]"),A.artBox!==null&&j("/ArtBox ["+B(A.artBox.bottomLeftX)+" "+B(A.artBox.bottomLeftY)+" "+B(A.artBox.topRightX)+" "+B(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&j("/UserUnit "+A.userUnit),Yt.publish("putPage",{objId:be,pageContext:Et[ee],pageNumber:ee,page:ve}),j("/Contents "+Ce+" 0 R"),j(">>"),j("endobj");var Oe=ve.join(`
`);return b===w.ADVANCED&&(Oe+=`
Q`),Wi(Ce,!0),ys({data:Oe,filters:jo(),objectId:Ce}),j("endobj"),be},jc=f.__private__.putPages=function(){var A,ee,ve=[];for(A=1;A<=on;A++)Et[A].objId=nr(),Et[A].contentsObjId=nr();for(A=1;A<=on;A++)ve.push(Lo({number:A,data:X[A],objId:Et[A].objId,contentsObjId:Et[A].contentsObjId,mediaBox:Et[A].mediaBox,cropBox:Et[A].cropBox,bleedBox:Et[A].bleedBox,trimBox:Et[A].trimBox,artBox:Et[A].artBox,userUnit:Et[A].userUnit,rootDictionaryObjId:fa,resourceDictionaryObjId:Gs}));Wi(fa,!0),j("<</Type /Pages");var be="/Kids [";for(ee=0;ee<on;ee++)be+=ve[ee]+" 0 R ";j(be+"]"),j("/Count "+on),j(">>"),j("endobj"),Yt.publish("postPutPages")},rd=function(A){Yt.publish("putFont",{font:A,out:j,newObject:pr,putStream:ys}),A.isAlreadyPutted!==!0&&(A.objectNumber=pr(),j("<<"),j("/Type /Font"),j("/BaseFont /"+ef(A.postScriptName)),j("/Subtype /Type1"),typeof A.encoding=="string"&&j("/Encoding /"+A.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},id=function(){for(var A in Bt)Bt.hasOwnProperty(A)&&(d===!1||d===!0&&h.hasOwnProperty(A))&&rd(Bt[A])},sd=function(A){A.objectNumber=pr();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[B(A.x),B(A.y),B(A.x+A.width),B(A.y+A.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ve=A.pages[1].join(`
`);ys({data:ve,additionalKeyValues:ee,objectId:A.objectNumber}),j("endobj")},od=function(){for(var A in Pr)Pr.hasOwnProperty(A)&&sd(Pr[A])},o0=function(A,ee){var ve,be=[],Ce=1/(ee-1);for(ve=0;ve<1;ve+=Ce)be.push(ve);if(be.push(1),A[0].offset!=0){var Oe={offset:0,color:A[0].color};A.unshift(Oe)}if(A[A.length-1].offset!=1){var Ve={offset:1,color:A[A.length-1].color};A.push(Ve)}for(var et="",dt=0,Pt=0;Pt<be.length;Pt++){for(ve=be[Pt];ve>A[dt+1].offset;)dt++;var At=A[dt].offset,Vt=(ve-At)/(A[dt+1].offset-At),En=A[dt].color,In=A[dt+1].color;et+=ae(Math.round((1-Vt)*En[0]+Vt*In[0]).toString(16))+ae(Math.round((1-Vt)*En[1]+Vt*In[1]).toString(16))+ae(Math.round((1-Vt)*En[2]+Vt*In[2]).toString(16))}return et.trim()},rb=function(A,ee){ee||(ee=21);var ve=pr(),be=o0(A.colors,ee),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+ee+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ys({data:be,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),j("endobj"),A.objectNumber=pr(),j("<< /ShadingType "+A.type),j("/ColorSpace /DeviceRGB");var Oe="/Coords ["+B(parseFloat(A.coords[0]))+" "+B(parseFloat(A.coords[1]))+" ";A.type===2?Oe+=B(parseFloat(A.coords[2]))+" "+B(parseFloat(A.coords[3])):Oe+=B(parseFloat(A.coords[2]))+" "+B(parseFloat(A.coords[3]))+" "+B(parseFloat(A.coords[4]))+" "+B(parseFloat(A.coords[5])),j(Oe+="]"),A.matrix&&j("/Matrix ["+A.matrix.toString()+"]"),j("/Function "+ve+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},ib=function(A,ee){var ve=nr(),be=pr();ee.push({resourcesOid:ve,objectOid:be}),A.objectNumber=be;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+A.boundingBox.map(B).join(" ")+"]"}),Ce.push({key:"XStep",value:B(A.xStep)}),Ce.push({key:"YStep",value:B(A.yStep)}),Ce.push({key:"Resources",value:ve+" 0 R"}),A.matrix&&Ce.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),ys({data:A.stream,additionalKeyValues:Ce,objectId:A.objectNumber}),j("endobj")},ad=function(A){var ee;for(ee in jt)jt.hasOwnProperty(ee)&&(jt[ee]instanceof su?rb(jt[ee]):jt[ee]instanceof kf&&ib(jt[ee],A))},a0=function(A){for(var ee in A.objectNumber=pr(),j("<<"),A)switch(ee){case"opacity":j("/ca "+G(A[ee]));break;case"stroke-opacity":j("/CA "+G(A[ee]))}j(">>"),j("endobj")},sb=function(){var A;for(A in _n)_n.hasOwnProperty(A)&&a0(_n[A])},Vh=function(){for(var A in j("/XObject <<"),Pr)Pr.hasOwnProperty(A)&&Pr[A].objectNumber>=0&&j("/"+A+" "+Pr[A].objectNumber+" 0 R");Yt.publish("putXobjectDict"),j(">>")},ob=function(){Ur.oid=pr(),j("<<"),j("/Filter /Standard"),j("/V "+Ur.v),j("/R "+Ur.r),j("/U <"+Ur.toHexString(Ur.U)+">"),j("/O <"+Ur.toHexString(Ur.O)+">"),j("/P "+Ur.P),j(">>"),j("endobj")},l0=function(){for(var A in j("/Font <<"),Bt)Bt.hasOwnProperty(A)&&(d===!1||d===!0&&h.hasOwnProperty(A))&&j("/"+A+" "+Bt[A].objectNumber+" 0 R");j(">>")},ab=function(){if(Object.keys(jt).length>0){for(var A in j("/Shading <<"),jt)jt.hasOwnProperty(A)&&jt[A]instanceof su&&jt[A].objectNumber>=0&&j("/"+A+" "+jt[A].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),j(">>")}},ld=function(A){if(Object.keys(jt).length>0){for(var ee in j("/Pattern <<"),jt)jt.hasOwnProperty(ee)&&jt[ee]instanceof f.TilingPattern&&jt[ee].objectNumber>=0&&jt[ee].objectNumber<A&&j("/"+ee+" "+jt[ee].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),j(">>")}},lb=function(){if(Object.keys(_n).length>0){var A;for(A in j("/ExtGState <<"),_n)_n.hasOwnProperty(A)&&_n[A].objectNumber>=0&&j("/"+A+" "+_n[A].objectNumber+" 0 R");Yt.publish("putGStateDict"),j(">>")}},Hn=function(A){Wi(A.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),l0(),ab(),ld(A.objectOid),lb(),Vh(),j(">>"),j("endobj")},c0=function(){var A=[];id(),sb(),od(),ad(A),Yt.publish("putResources"),A.forEach(Hn),Hn({resourcesOid:Gs,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},u0=function(){Yt.publish("putAdditionalObjects");for(var A=0;A<ce.length;A++){var ee=ce[A];Wi(ee.objId,!0),j(ee.content),j("endobj")}Yt.publish("postPutAdditionalObjects")},d0=function(A){xt[A.fontName]=xt[A.fontName]||{},xt[A.fontName][A.fontStyle]=A.id},Hh=function(A,ee,ve,be,Ce){var Oe={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:A,fontName:ee,fontStyle:ve,encoding:be,isStandardFont:Ce||!1,metadata:{}};return Yt.publish("addFont",{font:Oe,instance:this}),Bt[Oe.id]=Oe,d0(Oe),Oe.id},cb=function(A){for(var ee=0,ve=D.length;ee<ve;ee++){var be=Hh.call(this,A[ee][0],A[ee][1],A[ee][2],D[ee][3],!0);d===!1&&(h[be]=!0);var Ce=A[ee][0].split("-");d0({id:be,fontName:Ce[0],fontStyle:Ce[1]||""})}Yt.publish("addFonts",{fonts:Bt,dictionary:xt})},Xs=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(be){var ee=be.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var ve="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+be.message;if(!wt.console)throw new Error(ve);wt.console.error(ve,be),wt.alert&&alert(ve)}},A.foo.bar=A,A.foo},cd=function(A,ee){var ve,be,Ce,Oe,Ve,et,dt,Pt,At;if(Ce=(ee=ee||{}).sourceEncoding||"Unicode",Ve=ee.outputEncoding,(ee.autoencode||Ve)&&Bt[Ze].metadata&&Bt[Ze].metadata[Ce]&&Bt[Ze].metadata[Ce].encoding&&(Oe=Bt[Ze].metadata[Ce].encoding,!Ve&&Bt[Ze].encoding&&(Ve=Bt[Ze].encoding),!Ve&&Oe.codePages&&(Ve=Oe.codePages[0]),typeof Ve=="string"&&(Ve=Oe[Ve]),Ve)){for(dt=!1,et=[],ve=0,be=A.length;ve<be;ve++)(Pt=Ve[A.charCodeAt(ve)])?et.push(String.fromCharCode(Pt)):et.push(A[ve]),et[ve].charCodeAt(0)>>8&&(dt=!0);A=et.join("")}for(ve=A.length;dt===void 0&&ve!==0;)A.charCodeAt(ve-1)>>8&&(dt=!0),ve--;if(!dt)return A;for(et=ee.noBOM?[]:[254,255],ve=0,be=A.length;ve<be;ve++){if((At=(Pt=A.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");et.push(At),et.push(Pt-(At<<8))}return String.fromCharCode.apply(void 0,et)},Ci=f.__private__.pdfEscape=f.pdfEscape=function(A,ee){return cd(A,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qh=f.__private__.beginPage=function(A){X[++on]=[],Et[on]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},h0(on),me(X[R])},f0=function(A,ee){var ve,be,Ce;switch(n=ee||n,typeof A=="string"&&(ve=y(A.toLowerCase()),Array.isArray(ve)&&(be=ve[0],Ce=ve[1])),Array.isArray(A)&&(be=A[0]*Ke,Ce=A[1]*Ke),isNaN(be)&&(be=i[0],Ce=i[1]),(be>14400||Ce>14400)&&(ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ce=Math.min(14400,Ce)),i=[be,Ce],n.substr(0,1)){case"l":Ce>be&&(i=[Ce,be]);break;case"p":be>Ce&&(i=[Ce,be])}qh(i),w0(Jh),j(Qs),Xh!==0&&j(Xh+" J"),Qh!==0&&j(Qh+" j"),Yt.publish("addPage",{pageNumber:on})},ub=function(A){A>0&&A<=on&&(X.splice(A,1),Et.splice(A,1),on--,R>on&&(R=on),this.setPage(R))},h0=function(A){A>0&&A<=on&&(R=A)},db=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return X.length-1},p0=function(A,ee,ve){var be,Ce=void 0;return ve=ve||{},A=A!==void 0?A:Bt[Ze].fontName,ee=ee!==void 0?ee:Bt[Ze].fontStyle,be=A.toLowerCase(),xt[be]!==void 0&&xt[be][ee]!==void 0?Ce=xt[be][ee]:xt[A]!==void 0&&xt[A][ee]!==void 0?Ce=xt[A][ee]:ve.disableWarning===!1&&ln.warn("Unable to look up font label for font '"+A+"', '"+ee+"'. Refer to getFontList() for available fonts."),Ce||ve.noFallback||(Ce=xt.times[ee])==null&&(Ce=xt.times.normal),Ce},fb=f.__private__.putInfo=function(){var A=pr(),ee=function(be){return be};for(var ve in u!==null&&(ee=Ur.encryptor(A,0)),j("<<"),j("/Producer ("+Ci(ee("jsPDF "+vt.version))+")"),qe)qe.hasOwnProperty(ve)&&qe[ve]&&j("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Ci(ee(qe[ve]))+")");j("/CreationDate ("+Ci(ee(te))+")"),j(">>"),j("endobj")},Wh=f.__private__.putCatalog=function(A){var ee=(A=A||{}).rootDictionaryObjId||fa;switch(pr(),j("<<"),j("/Type /Catalog"),j("/Pages "+ee+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+ye;ve.substr(ve.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&j("/OpenAction [3 0 R /XYZ null null "+G(ye)+"]")}switch(we||(we="continuous"),we){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}Le&&j("/PageMode /"+Le),Yt.publish("putCatalog"),j(">>"),j("endobj")},hb=f.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(Q+1)),j("/Root "+Q+" 0 R"),j("/Info "+(Q-1)+" 0 R"),u!==null&&j("/Encrypt "+Ur.oid+" 0 R"),j("/ID [ <"+pe+"> <"+pe+"> ]"),j(">>")},pb=f.__private__.putHeader=function(){j("%PDF-"+m),j("%")},mb=f.__private__.putXRef=function(){var A="0000000000";j("xref"),j("0 "+(Q+1)),j("0000000000 65535 f ");for(var ee=1;ee<=Q;ee++)typeof O[ee]=="function"?j((A+O[ee]()).slice(-10)+" 00000 n "):O[ee]!==void 0?j((A+O[ee]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},ha=f.__private__.buildDocument=function(){U(),me(I),Yt.publish("buildDocument"),pb(),jc(),u0(),c0(),u!==null&&ob(),fb(),Wh();var A=ne;return mb(),hb(),j("startxref"),j(""+A),j("%%EOF"),me(X[R]),I.join(`
`)},ud=f.__private__.getBlob=function(A){return new Blob([_(A)],{type:"application/pdf"})},dd=f.output=f.__private__.output=Xs(function(A,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",A){case void 0:return ha();case"save":f.save(ee.filename);break;case"arraybuffer":return _(ha());case"blob":return ud(ha());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(ud(ha()))||void 0;ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",be=ha();try{ve=H_(be)}catch{ve=H_(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+ee.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Ce=ee.pdfObjectUrl,Oe="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",et=wt.open();return et!==null&&et.document.write(Ve),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',Pt=wt.open();if(Pt!==null){Pt.document.write(dt);var At=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=ee.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',En=wt.open();if(En!==null&&(En.document.write(Vt),En.document.title=ee.filename),En||typeof safari>"u")return En;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",ee);default:return null}}),m0=function(A){return Array.isArray(Pc)===!0&&Pc.indexOf(A)>-1};switch(r){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=m0("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ke=r}var Ur=null;de(),K();var gb=function(A){return u!==null?Ur.encryptor(A,0):function(ee){return ee}},g0=f.__private__.getPageInfo=f.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[A].objId,pageNumber:A,pageContext:Et[A]}},Nt=f.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Et)if(Et[ee].objId===A)break;return g0(ee)},yb=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Et[R].objId,pageNumber:R,pageContext:Et[R]}};f.addPage=function(){return f0.apply(this,arguments),this},f.setPage=function(){return h0.apply(this,arguments),me.call(this,X[R]),this},f.insertPage=function(A){return this.addPage(),this.movePage(R,A),this},f.movePage=function(A,ee){var ve,be;if(A>ee){ve=X[A],be=Et[A];for(var Ce=A;Ce>ee;Ce--)X[Ce]=X[Ce-1],Et[Ce]=Et[Ce-1];X[ee]=ve,Et[ee]=be,this.setPage(ee)}else if(A<ee){ve=X[A],be=Et[A];for(var Oe=A;Oe<ee;Oe++)X[Oe]=X[Oe+1],Et[Oe]=Et[Oe+1];X[ee]=ve,Et[ee]=be,this.setPage(ee)}return this},f.deletePage=function(){return ub.apply(this,arguments),this},f.__private__.text=f.text=function(A,ee,ve,be,Ce){var Oe,Ve,et,dt,Pt,At,Vt,En,In,rr=(be=be||{}).scope||this;if(typeof A=="number"&&typeof ee=="number"&&(typeof ve=="string"||Array.isArray(ve))){var $r=ve;ve=ee,ee=A,A=$r}if(arguments[3]instanceof gt?(z("The transform parameter of text() with a Matrix value"),In=Ce):(et=arguments[4],dt=arguments[5],tn(Vt=arguments[3])==="object"&&Vt!==null||(typeof et=="string"&&(dt=et,et=null),typeof Vt=="string"&&(dt=Vt,Vt=null),typeof Vt=="number"&&(et=Vt,Vt=null),be={flags:Vt,angle:et,align:dt})),isNaN(ee)||isNaN(ve)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return rr;var wr="",Zs=!1,Ki=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Rc,Oo=rr.internal.scaleFactor;function N0(dn){return dn=dn.split("	").join(Array(be.TabLen||9).join(" ")),Ci(dn,Vt)}function rp(dn){for(var fn,Wn=dn.concat(),mr=[],va=Wn.length;va--;)typeof(fn=Wn.shift())=="string"?mr.push(fn):Array.isArray(dn)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?mr.push(fn[0]):mr.push([fn[0],fn[1],fn[2]]);return mr}function ip(dn,fn){var Wn;if(typeof dn=="string")Wn=fn(dn)[0];else if(Array.isArray(dn)){for(var mr,va,fp=dn.concat(),Ed=[],P0=fp.length;P0--;)typeof(mr=fp.shift())=="string"?Ed.push(fn(mr)[0]):Array.isArray(mr)&&typeof mr[0]=="string"&&(va=fn(mr[0],mr[1],mr[2]),Ed.push([va[0],va[1],va[2]]));Wn=Ed}return Wn}var yd=!1,sp=!0;if(typeof A=="string")yd=!0;else if(Array.isArray(A)){var op=A.concat();Ve=[];for(var vd,jr=op.length;jr--;)(typeof(vd=op.shift())!="string"||Array.isArray(vd)&&typeof vd[0]!="string")&&(sp=!1);yd=sp}if(yd===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var wd=le/rr.internal.scaleFactor,xd=wd*(Ki-1);switch(be.baseline){case"bottom":ve-=xd;break;case"top":ve+=wd-xd;break;case"hanging":ve+=wd-2*xd;break;case"middle":ve+=wd/2-xd}if((At=be.maxWidth||0)>0&&(typeof A=="string"?A=rr.splitTextToSize(A,At):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(dn,fn){return dn.concat(rr.splitTextToSize(fn,At))},[]))),Oe={text:A,x:ee,y:ve,options:be,mutex:{pdfEscape:Ci,activeFontKey:Ze,fonts:Bt,activeFontSize:le}},Yt.publish("preProcessText",Oe),A=Oe.text,et=(be=Oe.options).angle,!(In instanceof gt)&&et&&typeof et=="number"){et*=Math.PI/180,be.rotationDirection===0&&(et=-et),b===w.ADVANCED&&(et=-et);var bd=Math.cos(et),ap=Math.sin(et);In=new gt(bd,ap,-ap,bd,0,0)}else et&&et instanceof gt&&(In=et);b!==w.ADVANCED||In||(In=Po),(Pt=be.charSpace||pd)!==void 0&&(wr+=B(L(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(En=be.horizontalScale)!==void 0&&(wr+=B(100*En)+` Tz
`),be.lang;var Ti=-1,Ab=be.renderingMode!==void 0?be.renderingMode:be.stroke,lp=rr.internal.getCurrentPageInfo().pageContext;switch(Ab){case 0:case!1:case"fill":Ti=0;break;case 1:case!0:case"stroke":Ti=1;break;case 2:case"fillThenStroke":Ti=2;break;case 3:case"invisible":Ti=3;break;case 4:case"fillAndAddForClipping":Ti=4;break;case 5:case"strokeAndAddPathForClipping":Ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ti=6;break;case 7:case"addToPathForClipping":Ti=7}var E0=lp.usedRenderingMode!==void 0?lp.usedRenderingMode:-1;Ti!==-1?wr+=Ti+` Tr
`:E0!==-1&&(wr+=`0 Tr
`),Ti!==-1&&(lp.usedRenderingMode=Ti),dt=be.align||"left";var vs,Sd=le*Ki,A0=rr.internal.pageSize.getWidth(),C0=Bt[Ze];Pt=be.charSpace||pd,At=be.maxWidth||0,Vt=Object.assign({autoencode:!0,noBOM:!0},be.flags);var il=[],Mc=function(dn){return rr.getStringUnitWidth(dn,{font:C0,charSpace:Pt,fontSize:le,doKerning:!1})*le/Oo};if(Object.prototype.toString.call(A)==="[object Array]"){var Pi;Ve=rp(A),dt!=="left"&&(vs=Ve.map(Mc));var ui,sl=0;if(dt==="right"){ee-=vs[0],A=[],jr=Ve.length;for(var ma=0;ma<jr;ma++)ma===0?(ui=Io(ee),Pi=pa(ve)):(ui=L(sl-vs[ma]),Pi=-Sd),A.push([Ve[ma],ui,Pi]),sl=vs[ma]}else if(dt==="center"){ee-=vs[0]/2,A=[],jr=Ve.length;for(var ga=0;ga<jr;ga++)ga===0?(ui=Io(ee),Pi=pa(ve)):(ui=L((sl-vs[ga])/2),Pi=-Sd),A.push([Ve[ga],ui,Pi]),sl=vs[ga]}else if(dt==="left"){A=[],jr=Ve.length;for(var kd=0;kd<jr;kd++)A.push(Ve[kd])}else if(dt==="justify"&&C0.encoding==="Identity-H"){A=[],jr=Ve.length,At=At!==0?At:A0;for(var ya=0,qn=0;qn<jr;qn++)if(Pi=qn===0?pa(ve):-Sd,ui=qn===0?Io(ee):ya,qn<jr-1){var cp=L((At-vs[qn])/(Ve[qn].split(" ").length-1)),di=Ve[qn].split(" ");A.push([di[0]+" ",ui,Pi]),ya=0;for(var ws=1;ws<di.length;ws++){var _d=(Mc(di[ws-1]+" "+di[ws])-Mc(di[ws]))*Oo+cp;ws==di.length-1?A.push([di[ws],_d,0]):A.push([di[ws]+" ",_d,0]),ya-=_d}}else A.push([Ve[qn],ui,Pi]);A.push(["",ya,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],jr=Ve.length,At=At!==0?At:A0,qn=0;qn<jr;qn++)Pi=qn===0?pa(ve):-Sd,ui=qn===0?Io(ee):0,qn<jr-1?il.push(B(L((At-vs[qn])/(Ve[qn].split(" ").length-1)))):il.push(0),A.push([Ve[qn],ui,Pi])}}var T0=typeof be.R2L=="boolean"?be.R2L:Ne;T0===!0&&(A=ip(A,function(dn,fn,Wn){return[dn.split("").reverse().join(""),fn,Wn]})),Oe={text:A,x:ee,y:ve,options:be,mutex:{pdfEscape:Ci,activeFontKey:Ze,fonts:Bt,activeFontSize:le}},Yt.publish("postProcessText",Oe),A=Oe.text,Zs=Oe.mutex.isHex||!1;var up=Bt[Ze].encoding;up!=="WinAnsiEncoding"&&up!=="StandardEncoding"||(A=ip(A,function(dn,fn,Wn){return[N0(dn),fn,Wn]})),Ve=rp(A),A=[];for(var Dc,Fc,ol,Bc=0,Nd=1,zc=Array.isArray(Ve[0])?Nd:Bc,al="",dp=function(dn,fn,Wn){var mr="";return Wn instanceof gt?(Wn=typeof be.angle=="number"?Ks(Wn,new gt(1,0,0,1,dn,fn)):Ks(new gt(1,0,0,1,dn,fn),Wn),b===w.ADVANCED&&(Wn=Ks(new gt(1,0,0,-1,0,0),Wn)),mr=Wn.join(" ")+` Tm
`):mr=B(dn)+" "+B(fn)+` Td
`,mr},xs=0;xs<Ve.length;xs++){switch(al="",zc){case Nd:ol=(Zs?"<":"(")+Ve[xs][0]+(Zs?">":")"),Dc=parseFloat(Ve[xs][1]),Fc=parseFloat(Ve[xs][2]);break;case Bc:ol=(Zs?"<":"(")+Ve[xs]+(Zs?">":")"),Dc=Io(ee),Fc=pa(ve)}il!==void 0&&il[xs]!==void 0&&(al=il[xs]+` Tw
`),xs===0?A.push(al+dp(Dc,Fc,In)+ol):zc===Bc?A.push(al+ol):zc===Nd&&A.push(al+dp(Dc,Fc,In)+ol)}A=zc===Bc?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var bs=`BT
/`;return bs+=Ze+" "+le+` Tf
`,bs+=B(le*Ki)+` TL
`,bs+=Ic+`
`,bs+=wr,bs+=A,j(bs+="ET"),h[Ze]=!0,rr};var vb=f.__private__.clip=f.clip=function(A){return j(A==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return vb("evenodd")},f.__private__.discardPath=f.discardPath=function(){return j("n"),this};var Ro=f.__private__.isValidStyle=function(A){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(ee=!0),ee};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(A){return Ro(A)&&(c=A),this};var y0=f.__private__.getStyle=f.getStyle=function(A){var ee=c;switch(A){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=A}return ee},v0=f.close=function(){return j("h"),this};f.stroke=function(){return j("S"),this},f.fill=function(A){return fd("f",A),this},f.fillEvenOdd=function(A){return fd("f*",A),this},f.fillStroke=function(A){return fd("B",A),this},f.fillStrokeEvenOdd=function(A){return fd("B*",A),this};var fd=function(A,ee){tn(ee)==="object"?xb(ee,A):j(A)},Kh=function(A){A===null||b===w.ADVANCED&&A===void 0||(A=y0(A),j(A))};function wb(A,ee,ve,be,Ce){var Oe=new kf(ee||this.boundingBox,ve||this.xStep,be||this.yStep,this.gState,Ce||this.matrix);Oe.stream=this.stream;var Ve=A+"$$"+this.cloneIndex+++"$$";return Ai(Ve,Oe),Oe}var xb=function(A,ee){var ve=da[A.key],be=jt[ve];if(be instanceof su)j("q"),j(bb(ee)),be.gState&&f.setGState(be.gState),j(A.matrix.toString()+" cm"),j("/"+ve+" sh"),j("Q");else if(be instanceof kf){var Ce=new gt(1,0,0,-1,0,rl());A.matrix&&(Ce=Ce.multiply(A.matrix||Po),ve=wb.call(be,A.key,A.boundingBox,A.xStep,A.yStep,Ce).id),j("q"),j("/Pattern cs"),j("/"+ve+" scn"),be.gState&&f.setGState(be.gState),j(ee),j("Q")}},bb=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Gh=f.moveTo=function(A,ee){return j(B(L(A))+" "+B(E(ee))+" m"),this},Lc=f.lineTo=function(A,ee){return j(B(L(A))+" "+B(E(ee))+" l"),this},tl=f.curveTo=function(A,ee,ve,be,Ce,Oe){return j([B(L(A)),B(E(ee)),B(L(ve)),B(E(be)),B(L(Ce)),B(E(Oe)),"c"].join(" ")),this};f.__private__.line=f.line=function(A,ee,ve,be,Ce){if(isNaN(A)||isNaN(ee)||isNaN(ve)||isNaN(be)||!Ro(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[ve-A,be-ee]],A,ee,[1,1],Ce||"S"):this.lines([[ve-A,be-ee]],A,ee,[1,1]).stroke()},f.__private__.lines=f.lines=function(A,ee,ve,be,Ce,Oe){var Ve,et,dt,Pt,At,Vt,En,In,rr,$r,wr,Zs;if(typeof A=="number"&&(Zs=ve,ve=ee,ee=A,A=Zs),be=be||[1,1],Oe=Oe||!1,isNaN(ee)||isNaN(ve)||!Array.isArray(A)||!Array.isArray(be)||!Ro(Ce)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gh(ee,ve),Ve=be[0],et=be[1],Pt=A.length,$r=ee,wr=ve,dt=0;dt<Pt;dt++)(At=A[dt]).length===2?($r=At[0]*Ve+$r,wr=At[1]*et+wr,Lc($r,wr)):(Vt=At[0]*Ve+$r,En=At[1]*et+wr,In=At[2]*Ve+$r,rr=At[3]*et+wr,$r=At[4]*Ve+$r,wr=At[5]*et+wr,tl(Vt,En,In,rr,$r,wr));return Oe&&v0(),Kh(Ce),this},f.path=function(A){for(var ee=0;ee<A.length;ee++){var ve=A[ee],be=ve.c;switch(ve.op){case"m":Gh(be[0],be[1]);break;case"l":Lc(be[0],be[1]);break;case"c":tl.apply(this,be);break;case"h":v0()}}return this},f.__private__.rect=f.rect=function(A,ee,ve,be,Ce){if(isNaN(A)||isNaN(ee)||isNaN(ve)||isNaN(be)||!Ro(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(be=-be),j([B(L(A)),B(E(ee)),B(L(ve)),B(L(be)),"re"].join(" ")),Kh(Ce),this},f.__private__.triangle=f.triangle=function(A,ee,ve,be,Ce,Oe,Ve){if(isNaN(A)||isNaN(ee)||isNaN(ve)||isNaN(be)||isNaN(Ce)||isNaN(Oe)||!Ro(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-A,be-ee],[Ce-ve,Oe-be],[A-Ce,ee-Oe]],A,ee,[1,1],Ve,!0),this},f.__private__.roundedRect=f.roundedRect=function(A,ee,ve,be,Ce,Oe,Ve){if(isNaN(A)||isNaN(ee)||isNaN(ve)||isNaN(be)||isNaN(Ce)||isNaN(Oe)||!Ro(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*ve),Oe=Math.min(Oe,.5*be),this.lines([[ve-2*Ce,0],[Ce*et,0,Ce,Oe-Oe*et,Ce,Oe],[0,be-2*Oe],[0,Oe*et,-Ce*et,Oe,-Ce,Oe],[2*Ce-ve,0],[-Ce*et,0,-Ce,-Oe*et,-Ce,-Oe],[0,2*Oe-be],[0,-Oe*et,Ce*et,-Oe,Ce,-Oe]],A+Ce,ee,[1,1],Ve,!0),this},f.__private__.ellipse=f.ellipse=function(A,ee,ve,be,Ce){if(isNaN(A)||isNaN(ee)||isNaN(ve)||isNaN(be)||!Ro(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ve,Ve=4/3*(Math.SQRT2-1)*be;return Gh(A+ve,ee),tl(A+ve,ee-Ve,A+Oe,ee-be,A,ee-be),tl(A-Oe,ee-be,A-ve,ee-Ve,A-ve,ee),tl(A-ve,ee+Ve,A-Oe,ee+be,A,ee+be),tl(A+Oe,ee+be,A+ve,ee+Ve,A+ve,ee),Kh(Ce),this},f.__private__.circle=f.circle=function(A,ee,ve,be){if(isNaN(A)||isNaN(ee)||isNaN(ve)||!Ro(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,ee,ve,ve,be)},f.setFont=function(A,ee,ve){return ve&&(ee=M(ee,ve)),Ze=p0(A,ee,{disableWarning:!1}),this};var Sb=f.__private__.getFont=f.getFont=function(){return Bt[p0.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var A,ee,ve={};for(A in xt)if(xt.hasOwnProperty(A))for(ee in ve[A]=[],xt[A])xt[A].hasOwnProperty(ee)&&ve[A].push(ee);return ve},f.addFont=function(A,ee,ve,be,Ce){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ve=M(ve,be)),Ce=Ce||"Identity-H",Hh.call(this,A,ee,ve,Ce)};var Rc,Jh=t.lineWidth||.200025,hd=f.__private__.getLineWidth=f.getLineWidth=function(){return Jh},w0=f.__private__.setLineWidth=f.setLineWidth=function(A){return Jh=A,j(B(L(A))+" w"),this};f.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(A,ee){if(A=A||[],ee=ee||0,isNaN(ee)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ve){return B(L(ve))}).join(" "),ee=B(L(ee)),j("["+A+"] "+ee+" d"),this};var x0=f.__private__.getLineHeight=f.getLineHeight=function(){return le*Rc};f.__private__.getLineHeight=f.getLineHeight=function(){return le*Rc};var b0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Rc=A),this},S0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Rc};b0(t.lineHeight);var Io=f.__private__.getHorizontalCoordinate=function(A){return L(A)},pa=f.__private__.getVerticalCoordinate=function(A){return b===w.ADVANCED?A:Et[R].mediaBox.topRightY-Et[R].mediaBox.bottomLeftY-L(A)},kb=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(A){return B(Io(A))},nl=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(A){return B(pa(A))},Qs=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Js(Qs)},f.__private__.setStrokeColor=f.setDrawColor=function(A,ee,ve,be){return Qs=Ys({ch1:A,ch2:ee,ch3:ve,ch4:be,pdfColorType:"draw",precision:2}),j(Qs),this};var Yh=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Js(Yh)},f.__private__.setFillColor=f.setFillColor=function(A,ee,ve,be){return Yh=Ys({ch1:A,ch2:ee,ch3:ve,ch4:be,pdfColorType:"fill",precision:2}),j(Yh),this};var Ic=t.textColor||"0 g",_b=f.__private__.getTextColor=f.getTextColor=function(){return Js(Ic)};f.__private__.setTextColor=f.setTextColor=function(A,ee,ve,be){return Ic=Ys({ch1:A,ch2:ee,ch3:ve,ch4:be,pdfColorType:"text",precision:3}),this};var pd=t.charSpace,Nb=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(pd||0)};f.__private__.setCharSpace=f.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pd=A,this};var Xh=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(A){var ee=f.CapJoinStyles[A];if(ee===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xh=ee,j(ee+" J"),this};var Qh=0;f.__private__.setLineJoin=f.setLineJoin=function(A){var ee=f.CapJoinStyles[A];if(ee===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qh=ee,j(ee+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(B(L(A))+" M"),this},f.GState=M1,f.setGState=function(A){(A=typeof A=="string"?_n[Ei[A]]:k0(null,A)).equals(ci)||(j("/"+A.id+" gs"),ci=A)};var k0=function(A,ee){if(!A||!Ei[A]){var ve=!1;for(var be in _n)if(_n.hasOwnProperty(be)&&_n[be].equals(ee)){ve=!0;break}if(ve)ee=_n[be];else{var Ce="GS"+(Object.keys(_n).length+1).toString(10);_n[Ce]=ee,ee.id=Ce}return A&&(Ei[A]=ee.id),Yt.publish("addGState",ee),ee}};f.addGState=function(A,ee){return k0(A,ee),this},f.saveGraphicsState=function(){return j("q"),tr.push({key:Ze,size:le,color:Ic}),this},f.restoreGraphicsState=function(){j("Q");var A=tr.pop();return Ze=A.key,le=A.size,Ic=A.color,ci=null,this},f.setCurrentTransformationMatrix=function(A){return j(A.toString()+" cm"),this},f.comment=function(A){return j("#"+A),this};var md=function(A,ee){var ve=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Oe){isNaN(Oe)||(ve=parseFloat(Oe))}});var be=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Oe){isNaN(Oe)||(be=parseFloat(Oe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Oe){Ce=Oe.toString()}}),this},Zh=function(A,ee,ve,be){md.call(this,A,ee),this.type="rect";var Ce=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Ve){isNaN(Ve)||(Ce=parseFloat(Ve))}});var Oe=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Ve){isNaN(Ve)||(Oe=parseFloat(Ve))}}),this},ep=function(){this.page=on,this.currentPage=R,this.pages=X.slice(0),this.pagesContext=Et.slice(0),this.x=Jt,this.y=st,this.matrix=Rn,this.width=Oc(R),this.height=rl(R),this.outputDestination=xe,this.id="",this.objectNumber=-1};ep.prototype.restore=function(){on=this.page,R=this.currentPage,Et=this.pagesContext,X=this.pages,Jt=this.x,st=this.y,Rn=this.matrix,tp(R,this.width),np(R,this.height),xe=this.outputDestination};var _0=function(A,ee,ve,be,Ce){To.push(new ep),on=R=0,X=[],Jt=A,st=ee,Rn=Ce,qh([ve,be])},Eb=function(A){if(Co[A])To.pop().restore();else{var ee=new ep,ve="Xo"+(Object.keys(Pr).length+1).toString(10);ee.id=ve,Co[A]=ve,Pr[ve]=ee,Yt.publish("addFormObject",ee),To.pop().restore()}};for(var gd in f.beginFormObject=function(A,ee,ve,be,Ce){return _0(A,ee,ve,be,Ce),this},f.endFormObject=function(A){return Eb(A),this},f.doFormObject=function(A,ee){var ve=Pr[Co[A]];return j("q"),j(ee.toString()+" cm"),j("/"+ve.id+" Do"),j("Q"),this},f.getFormObject=function(A){var ee=Pr[Co[A]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},f.save=function(A,ee){return A=A||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(tu(ud(ha()),A),typeof tu.unload=="function"&&wt.setTimeout&&setTimeout(tu.unload,911),this):new Promise(function(ve,be){try{var Ce=tu(ud(ha()),A);typeof tu.unload=="function"&&wt.setTimeout&&setTimeout(tu.unload,911),ve(Ce)}catch(Oe){be(Oe.message)}})},vt.API)vt.API.hasOwnProperty(gd)&&(gd==="events"&&vt.API.events.length?function(A,ee){var ve,be,Ce;for(Ce=ee.length-1;Ce!==-1;Ce--)ve=ee[Ce][0],be=ee[Ce][1],A.subscribe.apply(A,[ve].concat(typeof be=="function"?[be]:be))}(Yt,vt.API.events):f[gd]=vt.API[gd]);var Oc=f.getPageWidth=function(A){return(Et[A=A||R].mediaBox.topRightX-Et[A].mediaBox.bottomLeftX)/Ke},tp=f.setPageWidth=function(A,ee){Et[A].mediaBox.topRightX=ee*Ke+Et[A].mediaBox.bottomLeftX},rl=f.getPageHeight=function(A){return(Et[A=A||R].mediaBox.topRightY-Et[A].mediaBox.bottomLeftY)/Ke},np=f.setPageHeight=function(A,ee){Et[A].mediaBox.topRightY=ee*Ke+Et[A].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ci,getStyle:y0,getFont:Sb,getFontSize:he,getCharSpace:Nb,getTextColor:_b,getLineHeight:x0,getLineHeightFactor:S0,getLineWidth:hd,write:k,getHorizontalCoordinate:Io,getVerticalCoordinate:pa,getCoordinateString:kb,getVerticalCoordinateString:nl,collections:{},newObject:pr,newAdditionalObject:nd,newObjectDeferred:nr,newObjectDeferredBegin:Wi,getFilters:jo,putStream:ys,events:Yt,scaleFactor:Ke,pageSize:{getWidth:function(){return Oc(R)},setWidth:function(A){tp(R,A)},getHeight:function(){return rl(R)},setHeight:function(A){np(R,A)}},encryptionOptions:u,encryption:Ur,getEncryptor:gb,output:dd,getNumberOfPages:db,pages:X,out:j,f2:G,f3:W,getPageInfo:g0,getPageInfoByObjId:Nt,getCurrentPageInfo:yb,getPDFVersion:g,Point:md,Rectangle:Zh,Matrix:gt,hasHotfix:m0},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Oc(R)},set:function(A){tp(R,A)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return rl(R)},set:function(A){np(R,A)},enumerable:!0,configurable:!0}),cb.call(f,D),Ze="F1",f0(i,n),Yt.publish("initialized"),f}Zd.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Zd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zd.prototype.processOwnerPassword=function(t,e){return W_(q_(e).substr(0,5),t)},Zd.prototype.encryptor=function(t,e){var n=q_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return W_(n,r)}},M1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||tn(t)!==tn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},vt.API={events:[]},vt.version="2.5.2";var Dn=vt.API,gC=1,Gu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ct=function(t){return t.toFixed(2)},wl=function(t){return t.toFixed(5)};Dn.__acroform__={};var qi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},F6=function(t){return t*gC},Fo=function(t){var e=new fz,n=ot.internal.getHeight(t)||0,r=ot.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ct(r)),Number(Ct(n))],e},Rue=Dn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Iue=Dn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Oue=Dn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yn=Dn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Oue(t,e-1)},Xn=Dn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rue(t,e-1)},Qn=Dn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Iue(t,e-1)},Mue=Dn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Ct(l.lowerLeft_X)),Number(Ct(l.lowerLeft_Y)),Number(Ct(l.upperRight_X)),Number(Ct(l.upperRight_Y))]},Due=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=K_(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ct(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Fo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},K_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var s=n,o=ot.internal.getHeight(t)||0;o=o<0?-o:o;var a=ot.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(W,L,V){if(W+1<i.length){var E=L+" "+i[W+1][0];return jy(E,t,V).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=jy("3",t,s).height,h=t.multiline?o-s:(o-d)/2,f=h+=2,m=0,g=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+jy(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",w=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var N=!1;if(i[b].length!==1&&v!==i[b].length-1){if((d+2)*(w+2)+2>o)continue e;y+=i[b][v],N=!0,g=b,b--}else{y=(y+=i[b][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(b),M=l(C,y,s),B=b>=i.length-1;if(M&&!B){y+=" ",v=0;continue}if(M||B){if(B)g=C;else if(t.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>o)continue e;g=C}}for(var z="",F=m;F<=g;F++){var G=i[F];if(t.multiline){if(F===g){z+=G[v]+" ",v=(v+1)%G.length;continue}if(F===m){z+=G[G.length-1]+" ";continue}}z+=G[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,u=jy(z,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=Ct(c)+" "+Ct(f)+` Td
`,e+="("+Gu(z)+`) Tj
`,e+=-Ct(c)+` 0 Td
`,f=-(s+2),u=0,m=N?g:g+1,w++,y=""}break}return r.text=e,r.fontSize=s,r},jy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Fue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Bue=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},zue=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),tn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Uue=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Eo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Fue)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hz,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Bue(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Mue(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ot.createDefaultAppearanceStream(a),tn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Due(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(i,a)),d+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(i,a)),d+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&zue(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},dz=Dn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),tn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Gu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l5=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Gu(r(t))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:dz(i,this.objId,this.scope)}):i instanceof Jo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var fz=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};qi(fz,Jo);var hz=function(){Jo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Gu(n(t))+")"}},set:function(n){t=n}})};qi(hz,Jo);var Eo=function t(){Jo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(y){y?this.F=Xn(e,3):this.F=Qn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof D1)return;s="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Gu(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/gC:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof D1||this instanceof Su))return l5(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof _r?h:l5(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof _r?y:y.substr(0,1)==="("?Fd(y.substr(1,y.length-2)):Fd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _r?Fd(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof _r?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof _r?f:l5(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof _r?y:y.substr(0,1)==="("?Fd(y.substr(1,y.length-2)):Fd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _r?Fd(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof _r?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(y){y?this.Ff=Xn(this.Ff,1):this.Ff=Qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(y){y?this.Ff=Xn(this.Ff,2):this.Ff=Qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(y){y?this.Ff=Xn(this.Ff,3):this.Ff=Qn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};qi(Eo,Jo);var If=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dz(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Xn(this.Ff,18):this.Ff=Qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Xn(this.Ff,19):this.Ff=Qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Xn(this.Ff,20),e.sort()):this.Ff=Qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Xn(this.Ff,22):this.Ff=Qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Xn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Xn(this.Ff,27):this.Ff=Qn(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(If,Eo);var Of=function(){If.call(this),this.fontName="helvetica",this.combo=!1};qi(Of,If);var Mf=function(){Of.call(this),this.combo=!0};qi(Mf,Of);var Pv=function(){Mf.call(this),this.edit=!0};qi(Pv,Mf);var _r=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Xn(this.Ff,15):this.Ff=Qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Xn(this.Ff,16):this.Ff=Qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Xn(this.Ff,17):this.Ff=Qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Xn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){tn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};qi(_r,Eo);var jv=function(){_r.call(this),this.pushButton=!0};qi(jv,_r);var Df=function(){_r.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qi(Df,_r);var D1=function(){var t,e;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Gu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){tn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(D1,Eo),Df.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Df.prototype.createOption=function(t){var e=new D1;return e.Parent=this,e.optionName=t,this.Kids.push(e),$ue.call(this.scope,e),e};var Lv=function(){_r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};qi(Lv,_r);var Su=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Xn(this.Ff,13):this.Ff=Qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Xn(this.Ff,21):this.Ff=Qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Xn(this.Ff,24):this.Ff=Qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Xn(this.Ff,25):this.Ff=Qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(Su,Eo);var Rv=function(){Su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Xn(this.Ff,14):this.Ff=Qn(this.Ff,14)}}),this.password=!0};qi(Rv,Su);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=K_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ct(ot.internal.getWidth(t))+" "+Ct(ot.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ct(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=ot.internal.getHeight(t),o=ot.internal.getWidth(t),a=K_(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ct(o)+" "+Ct(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ct(o-1)+" "+Ct(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ct(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(ot.internal.getWidth(t))+" "+Ct(ot.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Circle.YesNormal,e.D[t]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ot.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+wl(ot.internal.getWidth(t)/2)+" "+wl(ot.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ot.internal.Bezier_C).toFixed(5)),o=Number((r*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wl(ot.internal.getWidth(t)/2)+" "+wl(ot.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+wl(ot.internal.getWidth(t)/2)+" "+wl(ot.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wl(ot.internal.getWidth(t)/2)+" "+wl(ot.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Cross.YesNormal,e.D[t]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=ot.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ct(ot.internal.getWidth(t)-2)+" "+Ct(ot.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ct(r.x1.x)+" "+Ct(r.x1.y)+" m"),n.push(Ct(r.x2.x)+" "+Ct(r.x2.y)+" l"),n.push(Ct(r.x4.x)+" "+Ct(r.x4.y)+" m"),n.push(Ct(r.x3.x)+" "+Ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=ot.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct(ot.internal.getWidth(t))+" "+Ct(ot.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ct(ot.internal.getWidth(t)-2)+" "+Ct(ot.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ct(n.x1.x)+" "+Ct(n.x1.y)+" m"),r.push(Ct(n.x2.x)+" "+Ct(n.x2.y)+" l"),r.push(Ct(n.x4.x)+" "+Ct(n.x4.y)+" m"),r.push(Ct(n.x3.x)+" "+Ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(ot.internal.getWidth(t))+" "+Ct(ot.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ot.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ot.internal.getWidth(t),n=ot.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ot.internal.getWidth=function(t){var e=0;return tn(t)==="object"&&(e=F6(t.Rect[2])),e},ot.internal.getHeight=function(t){var e=0;return tn(t)==="object"&&(e=F6(t.Rect[3])),e};var $ue=Dn.addField=function(t){if(Uue(this,t),!(t instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dn.AcroFormChoiceField=If,Dn.AcroFormListBox=Of,Dn.AcroFormComboBox=Mf,Dn.AcroFormEditBox=Pv,Dn.AcroFormButton=_r,Dn.AcroFormPushButton=jv,Dn.AcroFormRadioButton=Df,Dn.AcroFormCheckBox=Lv,Dn.AcroFormTextField=Su,Dn.AcroFormPasswordField=Rv,Dn.AcroFormAppearance=ot,Dn.AcroForm={ChoiceField:If,ListBox:Of,ComboBox:Mf,EditBox:Pv,Button:_r,PushButton:jv,RadioButton:Df,CheckBox:Lv,TextField:Su,PasswordField:Rv,Appearance:ot},vt.AcroForm={ChoiceField:If,ListBox:Of,ComboBox:Mf,EditBox:Pv,Button:_r,PushButton:jv,RadioButton:Df,CheckBox:Lv,TextField:Su,PasswordField:Rv,Appearance:ot};vt.AcroForm;function pz(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(W,L){var V,E,te,pe,re,K=e;if((L=L||e)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(M(W))for(re in n)for(te=n[re],V=0;V<te.length;V+=1){for(pe=!0,E=0;E<te[V].length;E+=1)if(te[V][E]!==void 0&&te[V][E]!==W[E]){pe=!1;break}if(pe===!0){K=re;break}}else for(re in n)for(te=n[re],V=0;V<te.length;V+=1){for(pe=!0,E=0;E<te[V].length;E+=1)if(te[V][E]!==void 0&&te[V][E]!==W.charCodeAt(E)){pe=!1;break}if(pe===!0){K=re;break}}return K===e&&L!==e&&(K=L),K},i=function W(L){for(var V=this.internal.write,E=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:L.width}),pe.push({key:"Height",value:L.height}),L.colorSpace===v.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===v.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var re="",K=0,Y=L.transparency.length;K<Y;K++)re+=L.transparency[K]+" "+L.transparency[K]+" ";pe.push({key:"Mask",value:"["+re+"]"})}L.sMask!==void 0&&pe.push({key:"SMask",value:L.objectId+1+" 0 R"});var q=L.filter!==void 0?["/"+L.filter]:void 0;if(E({data:L.data,additionalKeyValues:pe,alreadyAppliedFilters:q,objectId:L.objectId}),V("endobj"),"sMask"in L&&L.sMask!==void 0){var de="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,T={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:de,data:L.sMask};"filter"in L&&(T.filter=L.filter),W.call(this,T)}if(L.colorSpace===v.INDEXED){var R=this.internal.newObject();E({data:z(new Uint8Array(L.palette)),objectId:R}),V("endobj")}},s=function(){var W=this.internal.collections.addImage_images;for(var L in W)i.call(this,W[L])},o=function(){var W,L=this.internal.collections.addImage_images,V=this.internal.write;for(var E in L)V("/I"+(W=L[E]).index,W.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var W=this.internal.collections.addImage_images;return a.call(this),W},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(W){return typeof t["process"+W.toUpperCase()]=="function"},d=function(W){return tn(W)==="object"&&W.nodeType===1},h=function(W,L){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var V=""+W.getAttribute("src");if(V.indexOf("data:image/")===0)return xm(unescape(V).split("base64,").pop());var E=t.loadFile(V,!0);if(E!==void 0)return E}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var te;switch(L){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return xm(W.toDataURL(te,1).split("base64,").pop())}},f=function(W){var L=this.internal.collections.addImage_images;if(L){for(var V in L)if(W===L[V].alias)return L[V]}},m=function(W,L,V){return W||L||(W=-96,L=-96),W<0&&(W=-1*V.width*72/W/this.internal.scaleFactor),L<0&&(L=-1*V.height*72/L/this.internal.scaleFactor),W===0&&(W=L*V.width/V.height),L===0&&(L=W*V.height/V.width),[W,L]},g=function(W,L,V,E,te,pe){var re=m.call(this,V,E,te),K=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,q=l.call(this);if(V=re[0],E=re[1],q[te.index]=te,pe){pe*=Math.PI/180;var de=Math.cos(pe),T=Math.sin(pe),R=function(ae){return ae.toFixed(4)},J=[R(de),R(T),R(-1*T),R(de),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,K(W),Y(L+E),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([K(V),"0","0",K(E),"0","0","cm"].join(" "))):this.internal.write([K(V),"0","0",K(E),K(W),Y(L+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(W){var L,V,E=0;if(typeof W=="string")for(V=W.length,L=0;L<V;L++)E=(E<<5)-E+W.charCodeAt(L),E|=0;else if(M(W))for(V=W.byteLength/2,L=0;L<V;L++)E=(E<<5)-E+W[L],E|=0;return E},b=t.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var L=!0;return W.length===0&&(L=!1),W.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(L=!1),L},N=t.__addimage__.extractImageFromDataUrl=function(W){var L=(W=W||"").split("base64,"),V=null;if(L.length===2){var E=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(E)&&(V={mimeType:E[1],charset:E[2],data:L[1]})}return V},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(W){return C()&&W instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(W){return C()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},B=t.__addimage__.binaryStringToUint8Array=function(W){for(var L=W.length,V=new Uint8Array(L),E=0;E<L;E++)V[E]=W.charCodeAt(E);return V},z=t.__addimage__.arrayBufferToBinaryString=function(W){for(var L="",V=M(W)?W:new Uint8Array(W),E=0;E<V.length;E+=8192)L+=String.fromCharCode.apply(null,V.subarray(E,E+8192));return L};t.addImage=function(){var W,L,V,E,te,pe,re,K,Y;if(typeof arguments[1]=="number"?(L=e,V=arguments[1],E=arguments[2],te=arguments[3],pe=arguments[4],re=arguments[5],K=arguments[6],Y=arguments[7]):(L=arguments[1],V=arguments[2],E=arguments[3],te=arguments[4],pe=arguments[5],re=arguments[6],K=arguments[7],Y=arguments[8]),tn(W=arguments[0])==="object"&&!d(W)&&"imageData"in W){var q=W;W=q.imageData,L=q.format||L||e,V=q.x||V||0,E=q.y||E||0,te=q.w||q.width||te,pe=q.h||q.height||pe,re=q.alias||re,K=q.compression||K,Y=q.rotation||q.angle||Y}var de=this.internal.getFilters();if(K===void 0&&de.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(V)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var T=F.call(this,W,L,re,K);return g.call(this,V,E,te,pe,T,Y),this};var F=function(W,L,V,E){var te,pe,re;if(typeof W=="string"&&r(W)===e){W=unescape(W);var K=G(W,!1);(K!==""||(K=t.loadFile(W,!0))!==void 0)&&(W=K)}if(d(W)&&(W=h(W,L)),L=r(W,L),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((re=V)==null||re.length===0)&&(V=function(Y){return typeof Y=="string"||M(Y)?w(Y):M(Y.data)?w(Y.data):null}(W)),(te=f.call(this,V))||(C()&&(W instanceof Uint8Array||L==="RGBA"||(pe=W,W=B(W))),te=this["process"+L.toUpperCase()](W,c.call(this),V,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:y.NONE}(E),pe)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},G=t.__addimage__.convertBase64ToBinaryString=function(W,L){var V;L=typeof L!="boolean"||L;var E,te="";if(typeof W=="string"){E=(V=N(W))!==null?V.data:W;try{te=xm(E)}catch(pe){if(L)throw b(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};t.getImageProperties=function(W){var L,V,E="";if(d(W)&&(W=h(W)),typeof W=="string"&&r(W)===e&&((E=G(W,!1))===""&&(E=t.loadFile(W)||""),W=E),V=r(W),!u(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!C()||W instanceof Uint8Array||(W=B(W)),!(L=this["process"+V.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=V,L}})(vt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(y(w))+") >>",g.content=s;var b=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(m(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var M=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(vt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(g){var v=0,y=n,w="",b=0;for(v=0;v<g.length;v+=1)y[g.charCodeAt(v)]!==void 0?(b++,typeof(y=y[g.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=n,b=0),v===g.length-1&&(y=n,w+=g.charAt(v-(b-1)),v-=b-1,b=0)):(y=n,w+=g.charAt(v-b),v-=b,b=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(g,v,y){return o(g)?s(g)===!1?-1:!c(g)||!o(v)&&!o(y)||!o(y)&&a(v)||a(g)&&!o(v)||a(g)&&l(v)||a(g)&&a(v)?0:u(g)&&o(v)&&!a(v)&&o(y)&&c(y)?3:a(g)||!o(y)?1:2:-1},f=function(g){var v=0,y=0,w=0,b="",N="",C="",M=(g=g||"").split("\\s+"),B=[];for(v=0;v<M.length;v+=1){for(B.push(""),y=0;y<M[v].length;y+=1)b=M[v][y],N=M[v][y-1],C=M[v][y+1],o(b)?(w=h(b,N,C),B[v]+=w!==-1?String.fromCharCode(e[b.charCodeAt(0)][w]):b):B[v]+=b;B[v]=d(B[v])}return B.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([f(v[w][0]),v[w][1],v[w][2]]):y.push([f(v[w])]);g=y}else g=f(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",m])}(vt.API),vt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(vt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,N){return b.concat(v.splitTextToSize(N,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(g=this.getStringUnitWidth(l[w],{font:d})*u)&&(f=g);return f!==0&&(m=l.length),{w:f/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,m,g,v,y=[],w=[],b=[],N={},C={},M=[],B=[],z=(h=h||{}).autoSize||!1,F=h.printHeaders!==!1,G=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,W=h.margins||Object.assign({width:this.getPageWidth()},e),L=typeof h.padding=="number"?h.padding:3,V=h.headerBackgroundColor||"#c8c8c8",E=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=E,this.setFontSize(G),d==null)w=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(d)&&tn(d[0])==="object")for(y=d.map(function(q){return q.name}),w=d.map(function(q){return q.prompt||q.name||""}),b=d.map(function(q){return q.align||"left"}),f=0;f<d.length;f+=1)C[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,b=y.map(function(){return"left"}));if(z||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<y.length;f+=1){for(N[v=y[f]]=u.map(function(q){return q[v]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[v],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)M.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,M)+L+L,M=[]}if(F){var te={};for(f=0;f<y.length;f+=1)te[y[f]]={},te[y[f]].text=w[f],te[y[f]].align=b[f];var pe=a.call(this,te,C);B=y.map(function(q){return new s(l,c,C[q],pe,te[q].text,void 0,te[q].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var re=d.reduce(function(q,de){return q[de.name]=de.align,q},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var K=a.call(this,u[f],C);for(g=0;g<y.length;g+=1){var Y=u[f][y[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:Y},this),o.call(this,new s(l,c,C[y[g]],K,Y,f+2,re[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(vt.API);var mz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G_=pz(gz),yz=[100,200,300,400,500,600,700,800,900],Vue=pz(yz);function J_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return mz[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof G_[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function B6(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Hue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},z6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function que(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Hue,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=J_(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+U6(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=G_[l],d=u<=G_.normal?-1:1,h=B6(c,gz,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=mz[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=Vue[l],d=B6(c,yz,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+U6(s)+"'.");return o}function $6(t){return t.trimLeft()}function Wue(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Kue(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ly,V6,H6,c5=["times"];(function(t){var e,n,r,i,s,o,a,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=T;Object.defineProperty(this,"pdf",{get:function(){return R}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(me){J=!!me}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(me){ae=!!me}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(me){isNaN(me)||(Q=me)}});var O=0;Object.defineProperty(this,"posY",{get:function(){return O},set:function(me){isNaN(me)||(O=me)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(me){var j;typeof me=="number"?j=[me,me,me,me]:((j=new Array(4))[0]=me[0],j[1]=me.length>=2?me[1]:j[0],j[2]=me.length>=3?me[2]:j[0],j[3]=me.length>=4?me[3]:j[1]),c.margin=j}});var I=!1;Object.defineProperty(this,"autoPaging",{get:function(){return I},set:function(me){I=me}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(me){ne=me}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(me){ce=me}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(me){me instanceof u&&(c=me)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(me){c.path=me}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(me){X=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var j;j=h(me),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=j.a===0,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var j=h(me);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=j.a===0,this.ctx.strokeOpacity=j.a,j.a===0?this.pdf.setDrawColor(255,255,255):(j.a,this.pdf.setDrawColor(j.r,j.g,j.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var se=null;function xe(me,j){if(se===null){var k=function(_){var D=[];return Object.keys(_).forEach(function(le){_[le].forEach(function(ye){var he=null;switch(ye){case"bold":he={family:le,weight:"bold"};break;case"italic":he={family:le,style:"italic"};break;case"bolditalic":he={family:le,weight:"bold",style:"italic"};break;case"":case"normal":he={family:le}}he!==null&&(he.ref={name:le,style:ye},D.push(he))})}),D}(me.getFontList());se=function(_){for(var D={},le=0;le<_.length;++le){var ye=J_(_[le]),he=ye.family,Ne=ye.stretch,Le=ye.style,je=ye.weight;D[he]=D[he]||{},D[he][Ne]=D[he][Ne]||{},D[he][Ne][Le]=D[he][Ne][Le]||{},D[he][Ne][Le][je]=ye}return D}(k.concat(j))}return se}var U=null;Object.defineProperty(this,"fontFaces",{get:function(){return U},set:function(me){se=null,U=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var j;if(this.ctx.font=me,(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var k=j[1],_=(j[2],j[3]),D=j[4],le=(j[5],j[6]),ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(D)[2];D=Math.floor(ye==="px"?parseFloat(D)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(D)*this.pdf.getFontSize():parseFloat(D)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(D);var he=function(qe){var Ze,Ke,Jt=[],st=qe.trim();if(st==="")return c5;if(st in z6)return[z6[st]];for(;st!=="";){switch(Ke=null,Ze=(st=$6(st)).charAt(0)){case'"':case"'":Ke=Wue(st.substring(1),Ze);break;default:Ke=Kue(st)}if(Ke===null||(Jt.push(Ke[0]),(st=$6(Ke[1]))!==""&&st.charAt(0)!==","))return c5;st=st.replace(/^,/,"")}return Jt}(le);if(this.fontFaces){var Ne=que(xe(this.pdf,this.fontFaces),he.map(function(qe){return{family:qe,stretch:"normal",weight:_,style:k}}));this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var Le="";(_==="bold"||parseInt(_,10)>=700||k==="bold")&&(Le="bold"),k==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var je="",we={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ae=0;Ae<he.length;Ae++){if(this.pdf.internal.getFont(he[Ae],Le,{noFallback:!0,disableWarning:!0})!==void 0){je=he[Ae];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(he[Ae],"bold",{noFallback:!0,disableWarning:!0})!==void 0)je=he[Ae],Le="bold";else if(this.pdf.internal.getFont(he[Ae],"normal",{noFallback:!0,disableWarning:!0})!==void 0){je=he[Ae],Le="normal";break}}if(je===""){for(var Me=0;Me<he.length;Me++)if(we[he[Me]]){je=we[he[Me]];break}}je=je===""?"Times":je,this.pdf.setFont(je,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};d.prototype.setLineDash=function(T){this.lineDash=T},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){N.call(this,"fill",!1)},d.prototype.stroke=function(){N.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(T,R){if(isNaN(T)||isNaN(R))throw ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(T,R));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(T,R)},d.prototype.closePath=function(){var T=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&tn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){T=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},d.prototype.lineTo=function(T,R){if(isNaN(T)||isNaN(R))throw ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(T,R));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},d.prototype.quadraticCurveTo=function(T,R,J,ae){if(isNaN(J)||isNaN(ae)||isNaN(T)||isNaN(R))throw ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(J,ae)),O=this.ctx.transform.applyToPoint(new o(T,R));this.path.push({type:"qct",x1:O.x,y1:O.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},d.prototype.bezierCurveTo=function(T,R,J,ae,Q,O){if(isNaN(Q)||isNaN(O)||isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae))throw ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var I=this.ctx.transform.applyToPoint(new o(Q,O)),ne=this.ctx.transform.applyToPoint(new o(T,R)),ce=this.ctx.transform.applyToPoint(new o(J,ae));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:ce.x,y2:ce.y,x:I.x,y:I.y}),this.ctx.lastPoint=new o(I.x,I.y)},d.prototype.arc=function(T,R,J,ae,Q,O){if(isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae)||isNaN(Q))throw ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(O=!!O,!this.ctx.transform.isIdentity){var I=this.ctx.transform.applyToPoint(new o(T,R));T=I.x,R=I.y;var ne=this.ctx.transform.applyToPoint(new o(0,J)),ce=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(ne.x-ce.x,2)+Math.pow(ne.y-ce.y,2))}Math.abs(Q-ae)>=2*Math.PI&&(ae=0,Q=2*Math.PI),this.path.push({type:"arc",x:T,y:R,radius:J,startAngle:ae,endAngle:Q,counterclockwise:O})},d.prototype.arcTo=function(T,R,J,ae,Q){throw new Error("arcTo not implemented.")},d.prototype.rect=function(T,R,J,ae){if(isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae))throw ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,R),this.lineTo(T+J,R),this.lineTo(T+J,R+ae),this.lineTo(T,R+ae),this.lineTo(T,R),this.lineTo(T+J,R),this.lineTo(T,R)},d.prototype.fillRect=function(T,R,J,ae){if(isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae))throw ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,R,J,ae),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},d.prototype.strokeRect=function(T,R,J,ae){if(isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae))throw ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(T,R,J,ae),this.stroke())},d.prototype.clearRect=function(T,R,J,ae){if(isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae))throw ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,R,J,ae))},d.prototype.save=function(T){T=typeof T!="boolean"||T;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},d.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(R),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(T){var R,J,ae,Q;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))R=0,J=0,ae=0,Q=0;else{var O=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(O!==null)R=parseInt(O[1]),J=parseInt(O[2]),ae=parseInt(O[3]),Q=1;else if((O=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)R=parseInt(O[1]),J=parseInt(O[2]),ae=parseInt(O[3]),Q=parseFloat(O[4]);else{if(Q=1,typeof T=="string"&&T.charAt(0)!=="#"){var I=new lz(T);T=I.ok?I.toHex():"#000000"}T.length===4?(R=T.substring(1,2),R+=R,J=T.substring(2,3),J+=J,ae=T.substring(3,4),ae+=ae):(R=T.substring(1,3),J=T.substring(3,5),ae=T.substring(5,7)),R=parseInt(R,16),J=parseInt(J,16),ae=parseInt(ae,16)}}return{r:R,g:J,b:ae,a:Q,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(T,R,J,ae){if(isNaN(R)||isNaN(J)||typeof T!="string")throw ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!f.call(this)){var Q=K(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;L.call(this,{text:T,x:R,y:J,scale:O,angle:Q,align:this.textAlign,maxWidth:ae})}},d.prototype.strokeText=function(T,R,J,ae){if(isNaN(R)||isNaN(J)||typeof T!="string")throw ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ae=isNaN(ae)?void 0:ae;var Q=K(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;L.call(this,{text:T,x:R,y:J,scale:O,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:ae})}},d.prototype.measureText=function(T){if(typeof T!="string")throw ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,J=this.pdf.internal.scaleFactor,ae=R.internal.getFontSize(),Q=R.getStringUnitWidth(T)*ae/R.internal.scaleFactor,O=function(I){var ne=(I=I||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new O({width:Q*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(T,R){if(isNaN(T)||isNaN(R))throw ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(T,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(T){if(isNaN(T))throw ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},d.prototype.translate=function(T,R){if(isNaN(T)||isNaN(R))throw ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,T,R);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(T,R,J,ae,Q,O){if(isNaN(T)||isNaN(R)||isNaN(J)||isNaN(ae)||isNaN(Q)||isNaN(O))throw ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var I=new l(T,R,J,ae,Q,O);this.ctx.transform=this.ctx.transform.multiply(I)},d.prototype.setTransform=function(T,R,J,ae,Q,O){T=isNaN(T)?1:T,R=isNaN(R)?0:R,J=isNaN(J)?0:J,ae=isNaN(ae)?1:ae,Q=isNaN(Q)?0:Q,O=isNaN(O)?0:O,this.ctx.transform=new l(T,R,J,ae,Q,O)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(T,R,J,ae,Q,O,I,ne,ce){var X=this.pdf.getImageProperties(T),se=1,xe=1,U=1,me=1;ae!==void 0&&ne!==void 0&&(U=ne/ae,me=ce/Q,se=X.width/ae*ne/ae,xe=X.height/Q*ce/Q),O===void 0&&(O=R,I=J,R=0,J=0),ae!==void 0&&ne===void 0&&(ne=ae,ce=Q),ae===void 0&&ne===void 0&&(ne=X.width,ce=X.height);for(var j,k=this.ctx.transform.decompose(),_=K(k.rotate.shx),D=new l,le=(D=(D=(D=D.multiply(k.translate)).multiply(k.skew)).multiply(k.scale)).applyToRectangle(new a(O-R*U,I-J*me,ae*se,Q*xe)),ye=v.call(this,le),he=[],Ne=0;Ne<ye.length;Ne+=1)he.indexOf(ye[Ne])===-1&&he.push(ye[Ne]);if(b(he),this.autoPaging)for(var Le=he[0],je=he[he.length-1],we=Le;we<je+1;we++){this.pdf.setPage(we);var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=we===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=we===1?0:qe+(we-2)*Ze;if(this.ctx.clip_path.length!==0){var Jt=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(j,this.posX+this.margin[3],-Ke+Me+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Jt}var st=JSON.parse(JSON.stringify(le));st=w([st],this.posX+this.margin[3],-Ke+Me+this.ctx.prevPageLastElemOffset)[0];var Rn=(we>Le||we<je)&&g.call(this);Rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,Ze,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",st.x,st.y,st.w,st.h,null,null,_),Rn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",le.x,le.y,le.w,le.h,null,null,_)};var v=function(T,R,J){var ae=[];R=R||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ae.push(Math.floor((T.y+Q)/J)+1);break;case"arc":ae.push(Math.floor((T.y+Q-T.radius)/J)+1),ae.push(Math.floor((T.y+Q+T.radius)/J)+1);break;case"qct":var O=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ae.push(Math.floor((O.y+Q)/J)+1),ae.push(Math.floor((O.y+O.h+Q)/J)+1);break;case"bct":var I=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ae.push(Math.floor((I.y+Q)/J)+1),ae.push(Math.floor((I.y+I.h+Q)/J)+1);break;case"rect":ae.push(Math.floor((T.y+Q)/J)+1),ae.push(Math.floor((T.y+T.h+Q)/J)+1)}for(var ne=0;ne<ae.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ne];)y.call(this);return ae},y=function(){var T=this.fillStyle,R=this.strokeStyle,J=this.font,ae=this.lineCap,Q=this.lineWidth,O=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=R,this.font=J,this.lineCap=ae,this.lineWidth=Q,this.lineJoin=O},w=function(T,R,J){for(var ae=0;ae<T.length;ae++)switch(T[ae].type){case"bct":T[ae].x2+=R,T[ae].y2+=J;case"qct":T[ae].x1+=R,T[ae].y1+=J;case"mt":case"lt":case"arc":default:T[ae].x+=R,T[ae].y+=J}return T},b=function(T){return T.sort(function(R,J){return R-J})},N=function(T,R){for(var J,ae,Q=this.fillStyle,O=this.strokeStyle,I=this.lineCap,ne=this.lineWidth,ce=Math.abs(ne*this.ctx.transform.scaleX),X=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),U=[],me=0;me<xe.length;me++)if(xe[me].x!==void 0)for(var j=v.call(this,xe[me]),k=0;k<j.length;k+=1)U.indexOf(j[k])===-1&&U.push(j[k]);for(var _=0;_<U.length;_++)for(;this.pdf.internal.getNumberOfPages()<U[_];)y.call(this);if(b(U),this.autoPaging)for(var D=U[0],le=U[U.length-1],ye=D;ye<le+1;ye++){this.pdf.setPage(ye),this.fillStyle=Q,this.strokeStyle=O,this.lineCap=I,this.lineWidth=ce,this.lineJoin=X;var he=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=ye===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=ye===1?0:Le+(ye-2)*je;if(this.ctx.clip_path.length!==0){var Ae=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-we+Ne+this.ctx.prevPageLastElemOffset),C.call(this,T,!0),this.path=Ae}if(ae=JSON.parse(JSON.stringify(se)),this.path=w(ae,this.posX+this.margin[3],-we+Ne+this.ctx.prevPageLastElemOffset),R===!1||ye===0){var Me=(ye>D||ye<le)&&g.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],he,je,null).clip().discardPath()),C.call(this,T,R),Me&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=ce,C.call(this,T,R),this.lineWidth=ne;this.path=se},C=function(T,R){if((T!=="stroke"||R||!m.call(this))&&(T==="stroke"||R||!f.call(this))){for(var J,ae,Q=[],O=this.path,I=0;I<O.length;I++){var ne=O[I];switch(ne.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ne,deltas:[],abs:[]});break;case"lt":var ce=Q.length;if(O[I-1]&&!isNaN(O[I-1].x)&&(J=[ne.x-O[I-1].x,ne.y-O[I-1].y],ce>0)){for(;ce>=0;ce--)if(Q[ce-1].close!==!0&&Q[ce-1].begin!==!0){Q[ce-1].deltas.push(J),Q[ce-1].abs.push(ne);break}}break;case"bct":J=[ne.x1-O[I-1].x,ne.y1-O[I-1].y,ne.x2-O[I-1].x,ne.y2-O[I-1].y,ne.x-O[I-1].x,ne.y-O[I-1].y],Q[Q.length-1].deltas.push(J);break;case"qct":var X=O[I-1].x+2/3*(ne.x1-O[I-1].x),se=O[I-1].y+2/3*(ne.y1-O[I-1].y),xe=ne.x+2/3*(ne.x1-ne.x),U=ne.y+2/3*(ne.y1-ne.y),me=ne.x,j=ne.y;J=[X-O[I-1].x,se-O[I-1].y,xe-O[I-1].x,U-O[I-1].y,me-O[I-1].x,j-O[I-1].y],Q[Q.length-1].deltas.push(J);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ne)}}ae=R?null:T==="stroke"?"stroke":"fill";for(var k=!1,_=0;_<Q.length;_++)if(Q[_].arc)for(var D=Q[_].abs,le=0;le<D.length;le++){var ye=D[le];ye.type==="arc"?z.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,R,!k):V.call(this,ye.x,ye.y),k=!0}else if(Q[_].close===!0)this.pdf.internal.out("h"),k=!1;else if(Q[_].begin!==!0){var he=Q[_].start.x,Ne=Q[_].start.y;E.call(this,Q[_].deltas,he,Ne),k=!0}ae&&F.call(this,ae),R&&G.call(this)}},M=function(T){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-J;case"top":return T+R-J;case"hanging":return T+R-2*J;case"middle":return T+R/2-J;case"ideographic":return T;case"alphabetic":default:return T}},B=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(R,J){this.colorStops.push([R,J])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(T,R,J,ae,Q,O,I,ne,ce){for(var X=pe.call(this,J,ae,Q,O),se=0;se<X.length;se++){var xe=X[se];se===0&&(ce?W.call(this,xe.x1+T,xe.y1+R):V.call(this,xe.x1+T,xe.y1+R)),te.call(this,T,R,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}ne?G.call(this):F.call(this,I)},F=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(T,R){this.pdf.internal.out(n(T)+" "+r(R)+" m")},L=function(T){var R;switch(T.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var J=this.pdf.getTextDimensions(T.text),ae=M.call(this,T.y),Q=B.call(this,ae)-J.h,O=this.ctx.transform.applyToPoint(new o(T.x,ae)),I=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(I.translate)).multiply(I.skew)).multiply(I.scale);for(var ce,X,se,xe=this.ctx.transform.applyToRectangle(new a(T.x,ae,J.w,J.h)),U=ne.applyToRectangle(new a(T.x,Q,J.w,J.h)),me=v.call(this,U),j=[],k=0;k<me.length;k+=1)j.indexOf(me[k])===-1&&j.push(me[k]);if(b(j),this.autoPaging)for(var _=j[0],D=j[j.length-1],le=_;le<D+1;le++){this.pdf.setPage(le);var ye=le===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Le=Ne-this.margin[0],je=this.pdf.internal.pageSize.width-this.margin[1],we=je-this.margin[3],Ae=le===1?0:he+(le-2)*Le;if(this.ctx.clip_path.length!==0){var Me=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ce,this.posX+this.margin[3],-1*Ae+ye),C.call(this,"fill",!0),this.path=Me}var qe=w([JSON.parse(JSON.stringify(U))],this.posX+this.margin[3],-Ae+ye+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*T.scale),se=this.lineWidth,this.lineWidth=se*T.scale);var Ze=this.autoPaging!=="text";if(Ze||qe.y+qe.h<=Ne){if(Ze||qe.y>=ye&&qe.x<=je){var Ke=Ze?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||je-qe.x)[0],Jt=w([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ae+ye+this.ctx.prevPageLastElemOffset)[0],st=Ze&&(le>_||le<D)&&g.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Le,null).clip().discardPath()),this.pdf.text(Ke,Jt.x,Jt.y,{angle:T.angle,align:R,renderingMode:T.renderingMode}),st&&this.pdf.restoreGraphicsState()}}else qe.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-qe.y);T.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=se)}else T.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*T.scale),se=this.lineWidth,this.lineWidth=se*T.scale),this.pdf.text(T.text,O.x+this.posX,O.y+this.posY,{angle:T.angle,align:R,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=se)},V=function(T,R,J,ae){J=J||0,ae=ae||0,this.pdf.internal.out(n(T+J)+" "+r(R+ae)+" l")},E=function(T,R,J){return this.pdf.lines(T,R,J,null,null)},te=function(T,R,J,ae,Q,O,I,ne){this.pdf.internal.out([e(i(J+T)),e(s(ae+R)),e(i(Q+T)),e(s(O+R)),e(i(I+T)),e(s(ne+R)),"c"].join(" "))},pe=function(T,R,J,ae){for(var Q=2*Math.PI,O=Math.PI/2;R>J;)R-=Q;var I=Math.abs(J-R);I<Q&&ae&&(I=Q-I);for(var ne=[],ce=ae?-1:1,X=R;I>1e-5;){var se=X+ce*Math.min(I,O);ne.push(re.call(this,T,X,se)),I-=Math.abs(se-X),X=se}return ne},re=function(T,R,J){var ae=(J-R)/2,Q=T*Math.cos(ae),O=T*Math.sin(ae),I=Q,ne=-O,ce=I*I+ne*ne,X=ce+I*Q+ne*O,se=4/3*(Math.sqrt(2*ce*X)-X)/(I*O-ne*Q),xe=I-se*ne,U=ne+se*I,me=xe,j=-U,k=ae+R,_=Math.cos(k),D=Math.sin(k);return{x1:T*Math.cos(R),y1:T*Math.sin(R),x2:xe*_-U*D,y2:xe*D+U*_,x3:me*_-j*D,y3:me*D+j*_,x4:T*Math.cos(J),y4:T*Math.sin(J)}},K=function(T){return 180*T/Math.PI},Y=function(T,R,J,ae,Q,O){var I=T+.5*(J-T),ne=R+.5*(ae-R),ce=Q+.5*(J-Q),X=O+.5*(ae-O),se=Math.min(T,Q,I,ce),xe=Math.max(T,Q,I,ce),U=Math.min(R,O,ne,X),me=Math.max(R,O,ne,X);return new a(se,U,xe-se,me-U)},q=function(T,R,J,ae,Q,O,I,ne){var ce,X,se,xe,U,me,j,k,_,D,le,ye,he,Ne,Le=J-T,je=ae-R,we=Q-J,Ae=O-ae,Me=I-Q,qe=ne-O;for(X=0;X<41;X++)_=(j=(se=T+(ce=X/40)*Le)+ce*((U=J+ce*we)-se))+ce*(U+ce*(Q+ce*Me-U)-j),D=(k=(xe=R+ce*je)+ce*((me=ae+ce*Ae)-xe))+ce*(me+ce*(O+ce*qe-me)-k),X==0?(le=_,ye=D,he=_,Ne=D):(le=Math.min(le,_),ye=Math.min(ye,D),he=Math.max(he,_),Ne=Math.max(Ne,D));return new a(Math.round(le),Math.round(ye),Math.round(he-le),Math.round(Ne-ye))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,R,J=(T=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:R}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(vt.API),function(t){var e=function(s){var o,a,l,c,u,d,h,f,m,g;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,a.push(d+33,h+33,f+33,m+33,g+33)):a.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,d=String,h="length",f=255,m="charCodeAt",g="slice",v="replace";for(s[g](-2),s=s[g](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[g](s[h]%5||5))[h];u>c;c+=5)a=52200625*(s[m](c)-33)+614125*(s[m](c+1)-33)+7225*(s[m](c+2)-33)+85*(s[m](c+3)-33)+(s[m](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(y,w){for(var b=w;b>0;b--)y.pop()}(l,o[h]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=V_(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(vt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(m){var g=m.length,v=[],y=String.fromCharCode;for(h=0;h<g;h+=1)v.push(y(255&m.charCodeAt(h)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(vt.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):Bs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):Bs(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=tn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],m=f.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,vt.getPageSize=function(o,a,l){if(tn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,m=0,g=0;if(h.hasOwnProperty(d))m=h[d][1]/u,g=h[d][0]/u;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>m&&(f=g,g=m,m=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(f=g,g=m,m=f)}return{width:g,height:m,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(J_):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(vt.API),vt.API.addJS=function(t){return H6=t,this.internal.events.subscribe("postPutResources",function(){Ly=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ly+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),V6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ly!==void 0&&V6!==void 0&&this.internal.out("/Names <</JavaScript "+Ly+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(vt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=f,e.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),g={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}f=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(vt.API);var Bd,Ry,q6,W6,K6,Gue=function(){var t,e,n;function r(s){var o,a,l,c,u,d,h,f,m,g,v,y,w,b;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),m=(function(){var N,C;for(C=[],N=0;N<4;++N)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(v=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,v.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,h,f,m){var g,v,y,w,b,N,C,M,B,z,F,G,W,L,V,E,te,pe,re,K,Y,q=Math.ceil((c.width-d)/f),de=Math.ceil((c.height-h)/m),T=c.width==q&&c.height==de;for(L=o*q,G=T?a:new Uint8Array(L*de),N=s.length,W=0,v=0;W<de&&l<N;){switch(s[l++]){case 0:for(w=te=0;te<L;w=te+=1)G[v++]=s[l++];break;case 1:for(w=pe=0;pe<L;w=pe+=1)g=s[l++],b=w<o?0:G[v-o],G[v++]=(g+b)%256;break;case 2:for(w=re=0;re<L;w=re+=1)g=s[l++],y=(w-w%o)/o,V=W&&G[(W-1)*L+y*o+w%o],G[v++]=(V+g)%256;break;case 3:for(w=K=0;K<L;w=K+=1)g=s[l++],y=(w-w%o)/o,b=w<o?0:G[v-o],V=W&&G[(W-1)*L+y*o+w%o],G[v++]=(g+Math.floor((b+V)/2))%256;break;case 4:for(w=Y=0;Y<L;w=Y+=1)g=s[l++],y=(w-w%o)/o,b=w<o?0:G[v-o],W===0?V=E=0:(V=G[(W-1)*L+y*o+w%o],E=y&&G[(W-1)*L+(y-1)*o+w%o]),C=b+V-E,M=Math.abs(C-b),z=Math.abs(C-V),F=Math.abs(C-E),B=M<=z&&M<=F?b:z<=F?V:E,G[v++]=(g+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!T){var R=((h+W*m)*c.width+d)*o,J=W*L;for(w=0;w<q;w+=1){for(var ae=0;ae<o;ae+=1)a[R++]=G[J++];R+=(f-1)*o}}W++}}return s=Eue(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,d,h,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,h=a.length;d<h;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,d,h,f,m,g,v,y;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=s.data||s).length,d=g||o,u=h=0,l===1)for(;u<m;)f=g?4*o[u/4]:h,v=d[f++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=a?d[f++]:255,h=f;else for(;u<m;)f=g?4*o[u/4]:h,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,h=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{e=wt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,d,h,f;if(this.animation){for(f=[],a=u=0,d=(h=this.animation.frames).length;u<d;a=++u)o=h[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=t(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,d,h=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,m;if(f=a++%c,m=l[f],h.renderFrame(s,f),c>1&&a/c<u)return h.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Jue(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,h=null,f=0,m=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],!(1&g)&&(h=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++],C=N>>6&1,M=1<<(7&N)+1,B=a,z=l,F=!1;N>>7&&(F=!0,B=e,z=M,e+=3*M);var G=e;for(e++;;){var W;if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}u.push({x:v,y,width:w,height:b,has_local_palette:F,palette_offset:B,palette_size:z,data_offset:G,data_length:e-G,transparent_index:h,interlaced:!!C,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(L){if(L<0||L>=u.length)throw new Error("Frame index out of range.");return u[L]},this.decodeAndBlitFrameBGRA=function(L,V){var E=this.frameInfo(L),te=E.width*E.height,pe=new Uint8Array(te);G6(t,E.data_offset,pe,te);var re=E.palette_offset,K=E.transparent_index;K===null&&(K=256);var Y=E.width,q=n-Y,de=Y,T=4*(E.y*n+E.x),R=4*((E.y+E.height)*n+E.x),J=T,ae=4*q;E.interlaced===!0&&(ae+=4*n*7);for(var Q=8,O=0,I=pe.length;O<I;++O){var ne=pe[O];if(de===0&&(de=Y,(J+=ae)>=R&&(ae=4*q+4*n*(Q-1),J=T+(Y+q)*(Q<<1),Q>>=1)),ne===K)J+=4;else{var ce=t[re+3*ne],X=t[re+3*ne+1],se=t[re+3*ne+2];V[J++]=se,V[J++]=X,V[J++]=ce,V[J++]=255}--de}},this.decodeAndBlitFrameRGBA=function(L,V){var E=this.frameInfo(L),te=E.width*E.height,pe=new Uint8Array(te);G6(t,E.data_offset,pe,te);var re=E.palette_offset,K=E.transparent_index;K===null&&(K=256);var Y=E.width,q=n-Y,de=Y,T=4*(E.y*n+E.x),R=4*((E.y+E.height)*n+E.x),J=T,ae=4*q;E.interlaced===!0&&(ae+=4*n*7);for(var Q=8,O=0,I=pe.length;O<I;++O){var ne=pe[O];if(de===0&&(de=Y,(J+=ae)>=R&&(ae=4*q+4*n*(Q-1),J=T+(Y+q)*(Q<<1),Q>>=1)),ne===K)J+=4;else{var ce=t[re+3*ne],X=t[re+3*ne+1],se=t[re+3*ne+2];V[J++]=ce,V[J++]=X,V[J++]=se,V[J++]=255}--de}}}function G6(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=t[e++],m=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==s){if(v===o)break;for(var y=v<a?v:g,w=0,b=y;b>s;)b=m[b]>>8,++w;var N=b;if(h+w+(y!==v?1:0)>r)return void ln.log("Warning, gif stream longer than expected.");n[h++]=N;var C=h+=w;for(y!==v&&(n[h++]=N),b=y;w--;)b=m[b],n[--C]=255&b,b>>=8;g!==null&&a<4096&&(m[a++]=g<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=v}else a=o+1,c=(1<<(l=i+1))-1,g=null}return h!==r&&ln.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function u5(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),g=[],v=0,y=7,w=new Array(64),b=new Array(64),N=new Array(64),C=new Array(256),M=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(T,R){for(var J=0,ae=0,Q=new Array,O=1;O<=16;O++){for(var I=1;I<=T[O];I++)Q[R[ae]]=[],Q[R[ae]][0]=J,Q[R[ae]][1]=O,ae++,J++;J*=2}return Q}function re(T){for(var R=T[0],J=T[1]-1;J>=0;)R&1<<J&&(v|=1<<y),J--,--y<0&&(v==255?(K(255),K(0)):K(v),y=7,v=0)}function K(T){g.push(T)}function Y(T){K(T>>8&255),K(255&T)}function q(T,R,J,ae,Q){for(var O,I=Q[0],ne=Q[240],ce=function(D,le){var ye,he,Ne,Le,je,we,Ae,Me,qe,Ze,Ke=0;for(qe=0;qe<8;++qe){ye=D[Ke],he=D[Ke+1],Ne=D[Ke+2],Le=D[Ke+3],je=D[Ke+4],we=D[Ke+5],Ae=D[Ke+6];var Jt=ye+(Me=D[Ke+7]),st=ye-Me,Rn=he+Ae,Bt=he-Ae,xt=Ne+we,tr=Ne-we,jt=Le+je,da=Le-je,_n=Jt+jt,Ei=Jt-jt,ci=Rn+xt,on=Rn-xt;D[Ke]=_n+ci,D[Ke+4]=_n-ci;var Et=.707106781*(on+Ei);D[Ke+2]=Ei+Et,D[Ke+6]=Ei-Et;var Yt=.382683433*((_n=da+tr)-(on=Bt+st)),Pc=.5411961*_n+Yt,Pr=1.306562965*on+Yt,Co=.707106781*(ci=tr+Bt),To=st+Co,gt=st-Co;D[Ke+5]=gt+Pc,D[Ke+3]=gt-Pc,D[Ke+1]=To+Pr,D[Ke+7]=To-Pr,Ke+=8}for(Ke=0,qe=0;qe<8;++qe){ye=D[Ke],he=D[Ke+8],Ne=D[Ke+16],Le=D[Ke+24],je=D[Ke+32],we=D[Ke+40],Ae=D[Ke+48];var Ks=ye+(Me=D[Ke+56]),Po=ye-Me,Ai=he+Ae,pr=he-Ae,nr=Ne+we,Wi=Ne-we,nd=Le+je,fa=Le-je,Gs=Ks+nd,Js=Ks-nd,Ys=Ai+nr,jo=Ai-nr;D[Ke]=Gs+Ys,D[Ke+32]=Gs-Ys;var ys=.707106781*(jo+Js);D[Ke+16]=Js+ys,D[Ke+48]=Js-ys;var Lo=.382683433*((Gs=fa+Wi)-(jo=pr+Po)),jc=.5411961*Gs+Lo,rd=1.306562965*jo+Lo,id=.707106781*(Ys=Wi+pr),sd=Po+id,od=Po-id;D[Ke+40]=od+jc,D[Ke+24]=od-jc,D[Ke+8]=sd+rd,D[Ke+56]=sd-rd,Ke++}for(qe=0;qe<64;++qe)Ze=D[qe]*le[qe],f[qe]=Ze>0?Ze+.5|0:Ze-.5|0;return f}(T,R),X=0;X<64;++X)m[B[X]]=ce[X];var se=m[0]-J;J=m[0],se==0?re(ae[0]):(re(ae[h[O=32767+se]]),re(d[O]));for(var xe=63;xe>0&&m[xe]==0;)xe--;if(xe==0)return re(I),J;for(var U,me=1;me<=xe;){for(var j=me;m[me]==0&&me<=xe;)++me;var k=me-j;if(k>=16){U=k>>4;for(var _=1;_<=U;++_)re(ne);k&=15}O=32767+m[me],re(Q[(k<<4)+h[O]]),re(d[O]),me++}return xe!=63&&re(I),J}function de(T){T=Math.min(Math.max(T,1),100),s!=T&&(function(R){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var Q=o((J[ae]*R+50)/100);Q=Math.min(Math.max(Q,1),255),a[B[ae]]=Q}for(var O=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],I=0;I<64;I++){var ne=o((O[I]*R+50)/100);ne=Math.min(Math.max(ne,1),255),l[B[I]]=ne}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,se=0;se<8;se++)for(var xe=0;xe<8;xe++)c[X]=1/(a[B[X]]*ce[se]*ce[xe]*8),u[X]=1/(l[B[X]]*ce[se]*ce[xe]*8),X++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,R){R&&de(R),g=new Array,v=0,y=7,Y(65496),Y(65504),Y(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Y(1),Y(1),K(0),K(0),function(){Y(65499),Y(132),K(0);for(var he=0;he<64;he++)K(a[he]);K(1);for(var Ne=0;Ne<64;Ne++)K(l[Ne])}(),function(he,Ne){Y(65472),Y(17),K(8),Y(Ne),Y(he),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(T.width,T.height),function(){Y(65476),Y(418),K(0);for(var he=0;he<16;he++)K(z[he+1]);for(var Ne=0;Ne<=11;Ne++)K(F[Ne]);K(16);for(var Le=0;Le<16;Le++)K(G[Le+1]);for(var je=0;je<=161;je++)K(W[je]);K(1);for(var we=0;we<16;we++)K(L[we+1]);for(var Ae=0;Ae<=11;Ae++)K(V[Ae]);K(17);for(var Me=0;Me<16;Me++)K(E[Me+1]);for(var qe=0;qe<=161;qe++)K(te[qe])}(),Y(65498),Y(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var J=0,ae=0,Q=0;v=0,y=7,this.encode.displayName="_encode_";for(var O,I,ne,ce,X,se,xe,U,me,j=T.data,k=T.width,_=T.height,D=4*k,le=0;le<_;){for(O=0;O<D;){for(X=D*le+O,xe=-1,U=0,me=0;me<64;me++)se=X+(U=me>>3)*D+(xe=4*(7&me)),le+U>=_&&(se-=D*(le+1+U-_)),O+xe>=D&&(se-=O+xe-D+4),I=j[se++],ne=j[se++],ce=j[se++],w[me]=(M[I]+M[ne+256>>0]+M[ce+512>>0]>>16)-128,b[me]=(M[I+768>>0]+M[ne+1024>>0]+M[ce+1280>>0]>>16)-128,N[me]=(M[I+1280>>0]+M[ne+1536>>0]+M[ce+1792>>0]>>16)-128;J=q(w,c,J,e,r),ae=q(b,u,ae,n,i),Q=q(N,u,Q,n,i),O+=32}le+=8}if(y>=0){var ye=[];ye[1]=y+1,ye[0]=(1<<y+1)-1,re(ye)}return Y(65497),new Uint8Array(g)},t=t||50,function(){for(var T=String.fromCharCode,R=0;R<256;R++)C[R]=T(R)}(),e=pe(z,F),n=pe(L,V),r=pe(G,W),i=pe(E,te),function(){for(var T=1,R=2,J=1;J<=15;J++){for(var ae=T;ae<R;ae++)h[32767+ae]=J,d[32767+ae]=[],d[32767+ae][1]=J,d[32767+ae][0]=ae;for(var Q=-(R-1);Q<=-T;Q++)h[32767+Q]=J,d[32767+Q]=[],d[32767+Q][1]=J,d[32767+Q][0]=R-1+Q;T<<=1,R<<=1}}(),function(){for(var T=0;T<256;T++)M[T]=19595*T,M[T+256>>0]=38470*T,M[T+512>>0]=7471*T+32768,M[T+768>>0]=-11059*T,M[T+1024>>0]=-21709*T,M[T+1280>>0]=32768*T+8421375,M[T+1536>>0]=-27439*T,M[T+1792>>0]=-5329*T}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function io(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J6(t){function e(z){if(!z)throw Error("assert :P")}function n(z,F,G){for(var W=0;4>W;W++)if(z[F+W]!=G.charCodeAt(W))return!0;return!1}function r(z,F,G,W,L){for(var V=0;V<L;V++)z[F+V]=G[W+V]}function i(z,F,G,W){for(var L=0;L<W;L++)z[F+L]=G}function s(z){return new Int32Array(z)}function o(z,F){for(var G=[],W=0;W<z;W++)G.push(new F);return G}function a(z,F){var G=[];return function W(L,V,E){for(var te=E[V],pe=0;pe<te&&(L.push(E.length>V+1?[]:new F),!(E.length<V+1));pe++)W(L[pe],V+1,E)}(G,0,z),G}var l=function(){var z=this;function F(x,S){for(var P=1<<S-1>>>0;x&P;)P>>>=1;return P?(x&P-1)+P:x}function G(x,S,P,H,Z){e(!(H%P));do x[S+(H-=P)]=Z;while(0<H)}function W(x,S,P,H,Z){if(e(2328>=Z),512>=Z)var ie=s(512);else if((ie=s(Z))==null)return 0;return function(oe,ue,fe,ge,Se,Te){var Pe,Ee,Be=ue,Re=1<<fe,ke=s(16),_e=s(16);for(e(Se!=0),e(ge!=null),e(oe!=null),e(0<fe),Ee=0;Ee<Se;++Ee){if(15<ge[Ee])return 0;++ke[ge[Ee]]}if(ke[0]==Se)return 0;for(_e[1]=0,Pe=1;15>Pe;++Pe){if(ke[Pe]>1<<Pe)return 0;_e[Pe+1]=_e[Pe]+ke[Pe]}for(Ee=0;Ee<Se;++Ee)Pe=ge[Ee],0<ge[Ee]&&(Te[_e[Pe]++]=Ee);if(_e[15]==1)return(ge=new L).g=0,ge.value=Te[0],G(oe,Be,1,Re,ge),Re;var De,Ue=-1,Fe=Re-1,tt=0,Xe=1,pt=1,Qe=1<<fe;for(Ee=0,Pe=1,Se=2;Pe<=fe;++Pe,Se<<=1){if(Xe+=pt<<=1,0>(pt-=ke[Pe]))return 0;for(;0<ke[Pe];--ke[Pe])(ge=new L).g=Pe,ge.value=Te[Ee++],G(oe,Be+tt,Se,Qe,ge),tt=F(tt,Pe)}for(Pe=fe+1,Se=2;15>=Pe;++Pe,Se<<=1){if(Xe+=pt<<=1,0>(pt-=ke[Pe]))return 0;for(;0<ke[Pe];--ke[Pe]){if(ge=new L,(tt&Fe)!=Ue){for(Be+=Qe,De=1<<(Ue=Pe)-fe;15>Ue&&!(0>=(De-=ke[Ue]));)++Ue,De<<=1;Re+=Qe=1<<(De=Ue-fe),oe[ue+(Ue=tt&Fe)].g=De+fe,oe[ue+Ue].value=Be-ue-Ue}ge.g=Pe-fe,ge.value=Te[Ee++],G(oe,Be+(tt>>fe),Se,Qe,ge),tt=F(tt,Pe)}}return Xe!=2*_e[15]-1?0:Re}(x,S,P,H,Z,ie)}function L(){this.value=this.g=0}function V(){this.value=this.g=0}function E(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(jr,V)}function te(x,S,P,H){e(x!=null),e(S!=null),e(2147483648>H),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=S,x.pa=P,x.Jd=S,x.Yc=P+H,x.Zc=4<=H?P+H-4+1:P,O(x)}function pe(x,S){for(var P=0;0<S--;)P|=ne(x,128)<<S;return P}function re(x,S){var P=pe(x,S);return I(x)?-P:P}function K(x,S,P,H){var Z,ie=0;for(e(x!=null),e(S!=null),e(4294967288>H),x.Sb=H,x.Ra=0,x.u=0,x.h=0,4<H&&(H=4),Z=0;Z<H;++Z)ie+=S[P+Z]<<8*Z;x.Ra=ie,x.bb=H,x.oa=S,x.pa=P}function Y(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<bd-8>>>0,++x.bb,x.u-=8;J(x)&&(x.h=1,x.u=0)}function q(x,S){if(e(0<=S),!x.h&&S<=xd){var P=R(x)&wd[S];return x.u+=S,Y(x),P}return x.h=1,x.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&bd-1)>>>0}function J(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>bd}function ae(x,S){x.u=S,x.h=J(x)}function Q(x){x.u>=ap&&(e(x.u>=ap),Y(x))}function O(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function I(x){return pe(x,1)}function ne(x,S){var P=x.Ca;0>x.b&&O(x);var H=x.b,Z=P*S>>>8,ie=(x.I>>>H>Z)+0;for(ie?(P-=Z,x.I-=Z+1<<H>>>0):P=Z+1,H=P,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+Ti[H],x.b-=H,x.Ca=(P<<H)-1,ie}function ce(x,S,P){x[S+0]=P>>24&255,x[S+1]=P>>16&255,x[S+2]=P>>8&255,x[S+3]=P>>0&255}function X(x,S){return x[S+0]<<0|x[S+1]<<8}function se(x,S){return X(x,S)|x[S+2]<<16}function xe(x,S){return X(x,S)|X(x,S+2)<<16}function U(x,S){var P=1<<S;return e(x!=null),e(0<S),x.X=s(P),x.X==null?0:(x.Mb=32-S,x.Xa=S,1)}function me(x,S){e(x!=null),e(S!=null),e(x.Xa==S.Xa),r(S.X,0,x.X,0,1<<S.Xa)}function j(){this.X=[],this.Xa=this.Mb=0}function k(x,S,P,H){e(P!=null),e(H!=null);var Z=P[0],ie=H[0];return Z==0&&(Z=(x*ie+S/2)/S),ie==0&&(ie=(S*Z+x/2)/x),0>=Z||0>=ie?0:(P[0]=Z,H[0]=ie,1)}function _(x,S){return x+(1<<S)-1>>>S}function D(x,S){return((4278255360&x)+(4278255360&S)>>>0&4278255360)+((16711935&x)+(16711935&S)>>>0&16711935)>>>0}function le(x,S){z[S]=function(P,H,Z,ie,oe,ue,fe){var ge;for(ge=0;ge<oe;++ge){var Se=z[x](ue[fe+ge-1],Z,ie+ge);ue[fe+ge]=D(P[H+ge],Se)}}}function ye(){this.ud=this.hd=this.jd=0}function he(x,S){return((4278124286&(x^S))>>>1)+(x&S)>>>0}function Ne(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Le(x,S){return Ne(x+(x-S+.5>>1))}function je(x,S,P){return Math.abs(S-P)-Math.abs(x-P)}function we(x,S,P,H,Z,ie,oe){for(H=ie[oe-1],P=0;P<Z;++P)ie[oe+P]=H=D(x[S+P],H)}function Ae(x,S,P,H,Z){var ie;for(ie=0;ie<P;++ie){var oe=x[S+ie],ue=oe>>8&255,fe=16711935&(fe=(fe=16711935&oe)+((ue<<16)+ue));H[Z+ie]=(4278255360&oe)+fe>>>0}}function Me(x,S){S.jd=x>>0&255,S.hd=x>>8&255,S.ud=x>>16&255}function qe(x,S,P,H,Z,ie){var oe;for(oe=0;oe<H;++oe){var ue=S[P+oe],fe=ue>>>8,ge=ue,Se=255&(Se=(Se=ue>>>16)+((x.jd<<24>>24)*(fe<<24>>24)>>>5));ge=255&(ge=(ge=ge+((x.hd<<24>>24)*(fe<<24>>24)>>>5))+((x.ud<<24>>24)*(Se<<24>>24)>>>5)),Z[ie+oe]=(4278255360&ue)+(Se<<16)+ge}}function Ze(x,S,P,H,Z){z[S]=function(ie,oe,ue,fe,ge,Se,Te,Pe,Ee){for(fe=Te;fe<Pe;++fe)for(Te=0;Te<Ee;++Te)ge[Se++]=Z(ue[H(ie[oe++])])},z[x]=function(ie,oe,ue,fe,ge,Se,Te){var Pe=8>>ie.b,Ee=ie.Ea,Be=ie.K[0],Re=ie.w;if(8>Pe)for(ie=(1<<ie.b)-1,Re=(1<<Pe)-1;oe<ue;++oe){var ke,_e=0;for(ke=0;ke<Ee;++ke)ke&ie||(_e=H(fe[ge++])),Se[Te++]=Z(Be[_e&Re]),_e>>=Pe}else z["VP8LMapColor"+P](fe,ge,Be,Re,Se,Te,oe,ue,Ee)}}function Ke(x,S,P,H,Z){for(P=S+P;S<P;){var ie=x[S++];H[Z++]=ie>>16&255,H[Z++]=ie>>8&255,H[Z++]=ie>>0&255}}function Jt(x,S,P,H,Z){for(P=S+P;S<P;){var ie=x[S++];H[Z++]=ie>>16&255,H[Z++]=ie>>8&255,H[Z++]=ie>>0&255,H[Z++]=ie>>24&255}}function st(x,S,P,H,Z){for(P=S+P;S<P;){var ie=(oe=x[S++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;H[Z++]=ie,H[Z++]=oe}}function Rn(x,S,P,H,Z){for(P=S+P;S<P;){var ie=(oe=x[S++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;H[Z++]=ie,H[Z++]=oe}}function Bt(x,S,P,H,Z){for(P=S+P;S<P;){var ie=x[S++];H[Z++]=ie>>0&255,H[Z++]=ie>>8&255,H[Z++]=ie>>16&255}}function xt(x,S,P,H,Z,ie){if(ie==0)for(P=S+P;S<P;)ce(H,((ie=x[S++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Z+=32;else r(H,Z,x,S,P)}function tr(x,S){z[S][0]=z[x+"0"],z[S][1]=z[x+"1"],z[S][2]=z[x+"2"],z[S][3]=z[x+"3"],z[S][4]=z[x+"4"],z[S][5]=z[x+"5"],z[S][6]=z[x+"6"],z[S][7]=z[x+"7"],z[S][8]=z[x+"8"],z[S][9]=z[x+"9"],z[S][10]=z[x+"10"],z[S][11]=z[x+"11"],z[S][12]=z[x+"12"],z[S][13]=z[x+"13"],z[S][14]=z[x+"0"],z[S][15]=z[x+"0"]}function jt(x){return x==Pb||x==jb||x==M0||x==Lb}function da(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ei(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new da,this.f.kb=new _n,this.sd=null}function ci(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Yt(x,S){var P=x.T,H=S.ba.f.RGBA,Z=H.eb,ie=H.fb+x.ka*H.A,oe=ks[S.ba.S],ue=x.y,fe=x.O,ge=x.f,Se=x.N,Te=x.ea,Pe=x.W,Ee=S.cc,Be=S.dc,Re=S.Mc,ke=S.Nc,_e=x.ka,De=x.ka+x.T,Ue=x.U,Fe=Ue+1>>1;for(_e==0?oe(ue,fe,null,null,ge,Se,Te,Pe,ge,Se,Te,Pe,Z,ie,null,null,Ue):(oe(S.ec,S.fc,ue,fe,Ee,Be,Re,ke,ge,Se,Te,Pe,Z,ie-H.A,Z,ie,Ue),++P);_e+2<De;_e+=2)Ee=ge,Be=Se,Re=Te,ke=Pe,Se+=x.Rc,Pe+=x.Rc,ie+=2*H.A,oe(ue,(fe+=2*x.fa)-x.fa,ue,fe,Ee,Be,Re,ke,ge,Se,Te,Pe,Z,ie-H.A,Z,ie,Ue);return fe+=x.fa,x.j+De<x.o?(r(S.ec,S.fc,ue,fe,Ue),r(S.cc,S.dc,ge,Se,Fe),r(S.Mc,S.Nc,Te,Pe,Fe),P--):1&De||oe(ue,fe,null,null,ge,Se,Te,Pe,ge,Se,Te,Pe,Z,ie+H.A,null,null,Ue),P}function Pc(x,S,P){var H=x.F,Z=[x.J];if(H!=null){var ie=x.U,oe=S.ba.S,ue=oe==O0||oe==M0;S=S.ba.f.RGBA;var fe=[0],ge=x.ka;fe[0]=x.T,x.Kb&&(ge==0?--fe[0]:(--ge,Z[0]-=x.width),x.j+x.ka+x.T==x.o&&(fe[0]=x.o-x.j-ge));var Se=S.eb;ge=S.fb+ge*S.A,x=fn(H,Z[0],x.width,ie,fe,Se,ge+(ue?0:3),S.A),e(P==fe),x&&jt(oe)&&bs(Se,ge,ue,ie,fe,S.A)}return 0}function Pr(x){var S=x.ma,P=S.ba.S,H=11>P,Z=P==R0||P==I0||P==O0||P==Tb||P==12||jt(P);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!sp(S.Oa,x,Z?11:12))return 0;if(Z&&jt(P)&&Ve(),x.da)alert("todo:use_scaling");else{if(H){if(S.Ib=Et,x.Kb){if(P=x.U+1>>1,S.memory=s(x.U+2*P),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+x.U,S.Mc=S.cc,S.Nc=S.dc+P,S.Ib=Yt,Ve()}}else alert("todo:EmitYUV");Z&&(S.Jb=Pc,H&&Ce())}if(H&&!r4){for(x=0;256>x;++x)Nq[x]=89858*(x-128)+F0>>D0,Cq[x]=-22014*(x-128)+F0,Aq[x]=-45773*(x-128),Eq[x]=113618*(x-128)+F0>>D0;for(x=pp;x<Ob;++x)S=76283*(x-16)+F0>>D0,Tq[x-pp]=Ki(S,255),Pq[x-pp]=Ki(S+8>>4,15);r4=1}return 1}function Co(x){var S=x.ma,P=x.U,H=x.T;return e(!(1&x.ka)),0>=P||0>=H?0:(P=S.Ib(x,S),S.Jb!=null&&S.Jb(x,S,P),S.Dc+=P,1)}function To(x){x.ma.memory=null}function gt(x,S,P,H){return q(x,8)!=47?0:(S[0]=q(x,14)+1,P[0]=q(x,14)+1,H[0]=q(x,1),q(x,3)!=0?0:!x.h)}function Ks(x,S){if(4>x)return x+1;var P=x-2>>1;return(2+(1&x)<<P)+q(S,P)+1}function Po(x,S){return 120<S?S-120:1<=(P=((P=dq[S-1])>>4)*x+(8-(15&P)))?P:1;var P}function Ai(x,S,P){var H=R(P),Z=x[S+=255&H].g-8;return 0<Z&&(ae(P,P.u+8),H=R(P),S+=x[S].value,S+=H&(1<<Z)-1),ae(P,P.u+x[S].g),x[S].value}function pr(x,S,P){return P.g+=x.g,P.value+=x.value<<S>>>0,e(8>=P.g),x.g}function nr(x,S,P){var H=x.xc;return e((S=H==0?0:x.vc[x.md*(P>>H)+(S>>H)])<x.Wb),x.Ya[S]}function Wi(x,S,P,H){var Z=x.ab,ie=x.c*S,oe=x.C;S=oe+S;var ue=P,fe=H;for(H=x.Ta,P=x.Ua;0<Z--;){var ge=x.gc[Z],Se=oe,Te=S,Pe=ue,Ee=fe,Be=(fe=H,ue=P,ge.Ea);switch(e(Se<Te),e(Te<=ge.nc),ge.hc){case 2:E0(Pe,Ee,(Te-Se)*Be,fe,ue);break;case 0:var Re=Se,ke=Te,_e=fe,De=ue,Ue=(Qe=ge).Ea;Re==0&&(Ab(Pe,Ee,null,null,1,_e,De),we(Pe,Ee+1,0,0,Ue-1,_e,De+1),Ee+=Ue,De+=Ue,++Re);for(var Fe=1<<Qe.b,tt=Fe-1,Xe=_(Ue,Qe.b),pt=Qe.K,Qe=Qe.w+(Re>>Qe.b)*Xe;Re<ke;){var Kt=pt,Xt=Qe,qt=1;for(lp(Pe,Ee,_e,De-Ue,1,_e,De);qt<Ue;){var $t=(qt&~tt)+Fe;$t>Ue&&($t=Ue),(0,il[Kt[Xt++]>>8&15])(Pe,Ee+ +qt,_e,De+qt-Ue,$t-qt,_e,De+qt),qt=$t}Ee+=Ue,De+=Ue,++Re&tt||(Qe+=Xe)}Te!=ge.nc&&r(fe,ue-Be,fe,ue+(Te-Se-1)*Be,Be);break;case 1:for(Be=Pe,ke=Ee,Ue=(Pe=ge.Ea)-(De=Pe&~(_e=(Ee=1<<ge.b)-1)),Re=_(Pe,ge.b),Fe=ge.K,ge=ge.w+(Se>>ge.b)*Re;Se<Te;){for(tt=Fe,Xe=ge,pt=new ye,Qe=ke+De,Kt=ke+Pe;ke<Qe;)Me(tt[Xe++],pt),Mc(pt,Be,ke,Ee,fe,ue),ke+=Ee,ue+=Ee;ke<Kt&&(Me(tt[Xe++],pt),Mc(pt,Be,ke,Ue,fe,ue),ke+=Ue,ue+=Ue),++Se&_e||(ge+=Re)}break;case 3:if(Pe==fe&&Ee==ue&&0<ge.b){for(ke=fe,Pe=Be=ue+(Te-Se)*Be-(De=(Te-Se)*_(ge.Ea,ge.b)),Ee=fe,_e=ue,Re=[],De=(Ue=De)-1;0<=De;--De)Re[De]=Ee[_e+De];for(De=Ue-1;0<=De;--De)ke[Pe+De]=Re[De];vs(ge,Se,Te,fe,Be,fe,ue)}else vs(ge,Se,Te,Pe,Ee,fe,ue)}ue=H,fe=P}fe!=P&&r(H,P,ue,fe,ie)}function nd(x,S){var P=x.V,H=x.Ba+x.c*x.C,Z=S-x.C;if(e(S<=x.l.o),e(16>=Z),0<Z){var ie=x.l,oe=x.Ta,ue=x.Ua,fe=ie.width;if(Wi(x,Z,P,H),Z=ue=[ue],e((P=x.C)<(H=S)),e(ie.v<ie.va),H>ie.o&&(H=ie.o),P<ie.j){var ge=ie.j-P;P=ie.j,Z[0]+=ge*fe}if(P>=H?P=0:(Z[0]+=4*ie.v,ie.ka=P-ie.j,ie.U=ie.va-ie.v,ie.T=H-P,P=1),P){if(ue=ue[0],11>(P=x.ca).S){var Se=P.f.RGBA,Te=(H=P.S,Z=ie.U,ie=ie.T,ge=Se.eb,Se.A),Pe=ie;for(Se=Se.fb+x.Ma*Se.A;0<Pe--;){var Ee=oe,Be=ue,Re=Z,ke=ge,_e=Se;switch(H){case L0:Pi(Ee,Be,Re,ke,_e);break;case R0:ui(Ee,Be,Re,ke,_e);break;case Pb:ui(Ee,Be,Re,ke,_e),bs(ke,_e,0,Re,1,0);break;case GT:ga(Ee,Be,Re,ke,_e);break;case I0:xt(Ee,Be,Re,ke,_e,1);break;case jb:xt(Ee,Be,Re,ke,_e,1),bs(ke,_e,0,Re,1,0);break;case O0:xt(Ee,Be,Re,ke,_e,0);break;case M0:xt(Ee,Be,Re,ke,_e,0),bs(ke,_e,1,Re,1,0);break;case Tb:sl(Ee,Be,Re,ke,_e);break;case Lb:sl(Ee,Be,Re,ke,_e),dn(ke,_e,Re,1,0);break;case JT:ma(Ee,Be,Re,ke,_e);break;default:e(0)}ue+=fe,Se+=Te}x.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=P.height)}}x.C=S,e(x.C<=x.i)}function fa(x){var S;if(0<x.ua)return 0;for(S=0;S<x.Wb;++S){var P=x.Ya[S].G,H=x.Ya[S].H;if(0<P[1][H[1]+0].g||0<P[2][H[2]+0].g||0<P[3][H[3]+0].g)return 0}return 1}function Gs(x,S,P,H,Z,ie){if(x.Z!=0){var oe=x.qd,ue=x.rd;for(e(cl[x.Z]!=null);S<P;++S)cl[x.Z](oe,ue,H,Z,H,Z,ie),oe=H,ue=Z,Z+=ie;x.qd=oe,x.rd=ue}}function Js(x,S){var P=x.l.ma,H=P.Z==0||P.Z==1?x.l.j:x.C;if(H=x.C<H?H:x.C,e(S<=x.l.o),S>H){var Z=x.l.width,ie=P.ca,oe=P.tb+Z*H,ue=x.V,fe=x.Ba+x.c*H,ge=x.gc;e(x.ab==1),e(ge[0].hc==3),A0(ge[0],H,S,ue,fe,ie,oe),Gs(P,H,S,ie,oe,Z)}x.C=x.Ma=S}function Ys(x,S,P,H,Z,ie,oe){var ue=x.$/H,fe=x.$%H,ge=x.m,Se=x.s,Te=P+x.$,Pe=Te;Z=P+H*Z;var Ee=P+H*ie,Be=280+Se.ua,Re=x.Pb?ue:16777216,ke=0<Se.ua?Se.Wa:null,_e=Se.wc,De=Te<Ee?nr(Se,fe,ue):null;e(x.C<ie),e(Ee<=Z);var Ue=!1;e:for(;;){for(;Ue||Te<Ee;){var Fe=0;if(ue>=Re){var tt=Te-P;e((Re=x).Pb),Re.wd=Re.m,Re.xd=tt,0<Re.s.ua&&me(Re.s.Wa,Re.s.vb),Re=ue+hq}if(fe&_e||(De=nr(Se,fe,ue)),e(De!=null),De.Qb&&(S[Te]=De.qb,Ue=!0),!Ue)if(Q(ge),De.jc){Fe=ge,tt=S;var Xe=Te,pt=De.pd[R(Fe)&jr-1];e(De.jc),256>pt.g?(ae(Fe,Fe.u+pt.g),tt[Xe]=pt.value,Fe=0):(ae(Fe,Fe.u+pt.g-256),e(256<=pt.value),Fe=pt.value),Fe==0&&(Ue=!0)}else Fe=Ai(De.G[0],De.H[0],ge);if(ge.h)break;if(Ue||256>Fe){if(!Ue)if(De.nd)S[Te]=(De.qb|Fe<<8)>>>0;else{if(Q(ge),Ue=Ai(De.G[1],De.H[1],ge),Q(ge),tt=Ai(De.G[2],De.H[2],ge),Xe=Ai(De.G[3],De.H[3],ge),ge.h)break;S[Te]=(Xe<<24|Ue<<16|Fe<<8|tt)>>>0}if(Ue=!1,++Te,++fe>=H&&(fe=0,++ue,oe!=null&&ue<=ie&&!(ue%16)&&oe(x,ue),ke!=null))for(;Pe<Te;)Fe=S[Pe++],ke.X[(506832829*Fe&4294967295)>>>ke.Mb]=Fe}else if(280>Fe){if(Fe=Ks(Fe-256,ge),tt=Ai(De.G[4],De.H[4],ge),Q(ge),tt=Po(H,tt=Ks(tt,ge)),ge.h)break;if(Te-P<tt||Z-Te<Fe)break e;for(Xe=0;Xe<Fe;++Xe)S[Te+Xe]=S[Te+Xe-tt];for(Te+=Fe,fe+=Fe;fe>=H;)fe-=H,++ue,oe!=null&&ue<=ie&&!(ue%16)&&oe(x,ue);if(e(Te<=Z),fe&_e&&(De=nr(Se,fe,ue)),ke!=null)for(;Pe<Te;)Fe=S[Pe++],ke.X[(506832829*Fe&4294967295)>>>ke.Mb]=Fe}else{if(!(Fe<Be))break e;for(Ue=Fe-280,e(ke!=null);Pe<Te;)Fe=S[Pe++],ke.X[(506832829*Fe&4294967295)>>>ke.Mb]=Fe;Fe=Te,e(!(Ue>>>(tt=ke).Xa)),S[Fe]=tt.X[Ue],Ue=!0}Ue||e(ge.h==J(ge))}if(x.Pb&&ge.h&&Te<Z)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&me(x.s.vb,x.s.Wa);else{if(ge.h)break e;oe!=null&&oe(x,ue>ie?ie:ue),x.a=0,x.$=Te-P}return 1}return x.a=3,0}function jo(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var S=x.Wa;S!=null&&(S.X=null),x.vb=null,e(x!=null)}function ys(){var x=new Eb;return x==null?null:(x.a=0,x.xb=QT,tr("Predictor","VP8LPredictors"),tr("Predictor","VP8LPredictors_C"),tr("PredictorAdd","VP8LPredictorsAdd"),tr("PredictorAdd","VP8LPredictorsAdd_C"),E0=Ae,Mc=qe,Pi=Ke,ui=Jt,sl=st,ma=Rn,ga=Bt,z.VP8LMapColor32b=Sd,z.VP8LMapColor8b=C0,x)}function Lo(x,S,P,H,Z){var ie=1,oe=[x],ue=[S],fe=H.m,ge=H.s,Se=null,Te=0;e:for(;;){if(P)for(;ie&&q(fe,1);){var Pe=oe,Ee=ue,Be=H,Re=1,ke=Be.m,_e=Be.gc[Be.ab],De=q(ke,2);if(Be.Oc&1<<De)ie=0;else{switch(Be.Oc|=1<<De,_e.hc=De,_e.Ea=Pe[0],_e.nc=Ee[0],_e.K=[null],++Be.ab,e(4>=Be.ab),De){case 0:case 1:_e.b=q(ke,3)+2,Re=Lo(_(_e.Ea,_e.b),_(_e.nc,_e.b),0,Be,_e.K),_e.K=_e.K[0];break;case 3:var Ue,Fe=q(ke,8)+1,tt=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Pe[0]=_(_e.Ea,tt),_e.b=tt,Ue=Re=Lo(Fe,1,0,Be,_e.K)){var Xe,pt=Fe,Qe=_e,Kt=1<<(8>>Qe.b),Xt=s(Kt);if(Xt==null)Ue=0;else{var qt=Qe.K[0],$t=Qe.w;for(Xt[0]=Qe.K[0][0],Xe=1;Xe<1*pt;++Xe)Xt[Xe]=D(qt[$t+Xe],Xt[Xe-1]);for(;Xe<4*Kt;++Xe)Xt[Xe]=0;Qe.K[0]=null,Qe.K[0]=Xt,Ue=1}}Re=Ue;break;case 2:break;default:e(0)}ie=Re}}if(oe=oe[0],ue=ue[0],ie&&q(fe,1)&&!(ie=1<=(Te=q(fe,4))&&11>=Te)){H.a=3;break e}var an;if(an=ie)t:{var rn,Lt,ir,ji=H,sr=oe,Li=ue,Qt=Te,Ji=P,Yi=ji.m,xr=ji.s,Lr=[null],fi=1,_s=0,Mo=fq[Qt];n:for(;;){if(Ji&&q(Yi,1)){var br=q(Yi,3)+2,xa=_(sr,br),Uc=_(Li,br),Ad=xa*Uc;if(!Lo(xa,Uc,0,ji,Lr))break n;for(Lr=Lr[0],xr.xc=br,rn=0;rn<Ad;++rn){var ul=Lr[rn]>>8&65535;Lr[rn]=ul,ul>=fi&&(fi=ul+1)}}if(Yi.h)break n;for(Lt=0;5>Lt;++Lt){var On=YT[Lt];!Lt&&0<Qt&&(On+=1<<Qt),_s<On&&(_s=On)}var Mb=o(fi*Mo,L),o4=fi,a4=o(o4,E);if(a4==null)var z0=null;else e(65536>=o4),z0=a4;var mp=s(_s);if(z0==null||mp==null||Mb==null){ji.a=1;break n}var U0=Mb;for(rn=ir=0;rn<fi;++rn){var to=z0[rn],Cd=to.G,Td=to.H,l4=0,$0=1,c4=0;for(Lt=0;5>Lt;++Lt){On=YT[Lt],Cd[Lt]=U0,Td[Lt]=ir,!Lt&&0<Qt&&(On+=1<<Qt);i:{var V0,Db=On,H0=ji,gp=mp,Rq=U0,Iq=ir,Fb=0,dl=H0.m,Oq=q(dl,1);if(i(gp,0,0,Db),Oq){var Mq=q(dl,1)+1,Dq=q(dl,1),u4=q(dl,Dq==0?1:8);gp[u4]=1,Mq==2&&(gp[u4=q(dl,8)]=1);var q0=1}else{var d4=s(19),f4=q(dl,4)+4;if(19<f4){H0.a=3;var W0=0;break i}for(V0=0;V0<f4;++V0)d4[uq[V0]]=q(dl,3);var Bb=void 0,yp=void 0,h4=H0,Fq=d4,K0=Db,p4=gp,zb=0,fl=h4.m,m4=8,g4=o(128,L);r:for(;W(g4,0,7,Fq,19);){if(q(fl,1)){var Bq=2+2*q(fl,3);if((Bb=2+q(fl,Bq))>K0)break r}else Bb=K0;for(yp=0;yp<K0&&Bb--;){Q(fl);var y4=g4[0+(127&R(fl))];ae(fl,fl.u+y4.g);var Pd=y4.value;if(16>Pd)p4[yp++]=Pd,Pd!=0&&(m4=Pd);else{var zq=Pd==16,v4=Pd-16,Uq=lq[v4],w4=q(fl,aq[v4])+Uq;if(yp+w4>K0)break r;for(var $q=zq?m4:0;0<w4--;)p4[yp++]=$q}}zb=1;break r}zb||(h4.a=3),q0=zb}(q0=q0&&!dl.h)&&(Fb=W(Rq,Iq,8,gp,Db)),q0&&Fb!=0?W0=Fb:(H0.a=3,W0=0)}if(W0==0)break n;if($0&&cq[Lt]==1&&($0=U0[ir].g==0),l4+=U0[ir].g,ir+=W0,3>=Lt){var vp,Ub=mp[0];for(vp=1;vp<On;++vp)mp[vp]>Ub&&(Ub=mp[vp]);c4+=Ub}}if(to.nd=$0,to.Qb=0,$0&&(to.qb=(Cd[3][Td[3]+0].value<<24|Cd[1][Td[1]+0].value<<16|Cd[2][Td[2]+0].value)>>>0,l4==0&&256>Cd[0][Td[0]+0].value&&(to.Qb=1,to.qb+=Cd[0][Td[0]+0].value<<8)),to.jc=!to.Qb&&6>c4,to.jc){var G0,ba=to;for(G0=0;G0<jr;++G0){var hl=G0,pl=ba.pd[hl],J0=ba.G[0][ba.H[0]+hl];256<=J0.value?(pl.g=J0.g+256,pl.value=J0.value):(pl.g=0,pl.value=0,hl>>=pr(J0,8,pl),hl>>=pr(ba.G[1][ba.H[1]+hl],16,pl),hl>>=pr(ba.G[2][ba.H[2]+hl],0,pl),pr(ba.G[3][ba.H[3]+hl],24,pl))}}}xr.vc=Lr,xr.Wb=fi,xr.Ya=z0,xr.yc=Mb,an=1;break t}an=0}if(!(ie=an)){H.a=3;break e}if(0<Te){if(ge.ua=1<<Te,!U(ge.Wa,Te)){H.a=1,ie=0;break e}}else ge.ua=0;var $b=H,x4=oe,Vq=ue,Vb=$b.s,Hb=Vb.xc;if($b.c=x4,$b.i=Vq,Vb.md=_(x4,Hb),Vb.wc=Hb==0?-1:(1<<Hb)-1,P){H.xb=xq;break e}if((Se=s(oe*ue))==null){H.a=1,ie=0;break e}ie=(ie=Ys(H,Se,0,oe,ue,ue,null))&&!fe.h;break e}return ie?(Z!=null?Z[0]=Se:(e(Se==null),e(P)),H.$=0,P||jo(ge)):jo(ge),ie}function jc(x,S){var P=x.c*x.i,H=P+S+16*S;return e(x.c<=S),x.V=s(H),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+P+S,1)}function rd(x,S){var P=x.C,H=S-P,Z=x.V,ie=x.Ba+x.c*P;for(e(S<=x.l.o);0<H;){var oe=16<H?16:H,ue=x.l.ma,fe=x.l.width,ge=fe*oe,Se=ue.ca,Te=ue.tb+fe*P,Pe=x.Ta,Ee=x.Ua;Wi(x,oe,Z,ie),Wn(Pe,Ee,Se,Te,ge),Gs(ue,P,P+oe,Se,Te,fe),H-=oe,Z+=oe*x.c,P+=oe}e(P==S),x.C=x.Ma=S}function id(){this.ub=this.yd=this.td=this.Rb=0}function sd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function od(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function o0(){this.Yb=function(){var x=[];return function S(P,H,Z){for(var ie=Z[H],oe=0;oe<ie&&(P.push(Z.length>H+1?[]:0),!(Z.length<H+1));oe++)S(P[oe],H+1,Z)}(x,0,[3,11]),x}()}function rb(){this.jb=s(3),this.Wc=a([4,8],o0),this.Xc=a([4,17],o0)}function ib(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ad(){this.ld=this.La=this.dd=this.tc=0}function a0(){this.Na=this.la=0}function sb(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vh(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ob(){this.uc=this.M=this.Nb=0,this.wa=Array(new ad),this.Y=0,this.ya=Array(new Vh),this.aa=0,this.l=new ld}function l0(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ab(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new id,this.Kc=new sd,this.ed=new ib,this.Qa=new od,this.Ic=this.$c=this.Aa=0,this.D=new ob,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,de),this.ia=0,this.pb=o(4,sb),this.Pa=new rb,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new l0),this.Hd=0,this.rb=Array(new a0),this.sb=0,this.wa=Array(new ad),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vh),this.L=this.aa=0,this.gd=a([4,2],ad),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ld(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lb(){var x=new ab;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,hp||(hp=d0)),x}function Hn(x,S,P){return x.a==0&&(x.a=S,x.sc=P,x.cb=0),0}function c0(x,S,P){return 3<=P&&x[S+0]==157&&x[S+1]==1&&x[S+2]==42}function u0(x,S){if(x==null)return 0;if(x.a=0,x.sc="OK",S==null)return Hn(x,2,"null VP8Io passed to VP8GetHeaders()");var P=S.data,H=S.w,Z=S.ha;if(4>Z)return Hn(x,7,"Truncated header.");var ie=P[H+0]|P[H+1]<<8|P[H+2]<<16,oe=x.Od;if(oe.Rb=!(1&ie),oe.td=ie>>1&7,oe.yd=ie>>4&1,oe.ub=ie>>5,3<oe.td)return Hn(x,3,"Incorrect keyframe parameters.");if(!oe.yd)return Hn(x,4,"Frame not displayable.");H+=3,Z-=3;var ue=x.Kc;if(oe.Rb){if(7>Z)return Hn(x,7,"cannot parse picture header");if(!c0(P,H,Z))return Hn(x,3,"Bad code word");ue.c=16383&(P[H+4]<<8|P[H+3]),ue.Td=P[H+4]>>6,ue.i=16383&(P[H+6]<<8|P[H+5]),ue.Ud=P[H+6]>>6,H+=7,Z-=7,x.za=ue.c+15>>4,x.Ub=ue.i+15>>4,S.width=ue.c,S.height=ue.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((ie=x.Pa).jb,0,255,ie.jb.length),e((ie=x.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(oe.ub>Z)return Hn(x,7,"bad partition length");te(ie=x.m,P,H,oe.ub),H+=oe.ub,Z-=oe.ub,oe.Rb&&(ue.Ld=I(ie),ue.Kd=I(ie)),ue=x.Qa;var fe,ge=x.Pa;if(e(ie!=null),e(ue!=null),ue.Cb=I(ie),ue.Cb){if(ue.Bb=I(ie),I(ie)){for(ue.Fb=I(ie),fe=0;4>fe;++fe)ue.Zb[fe]=I(ie)?re(ie,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=I(ie)?re(ie,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)ge.jb[fe]=I(ie)?pe(ie,8):255}else ue.Bb=0;if(ie.Ka)return Hn(x,3,"cannot parse segment header");if((ue=x.ed).zd=I(ie),ue.Tb=pe(ie,6),ue.wb=pe(ie,3),ue.Pc=I(ie),ue.Pc&&I(ie)){for(ge=0;4>ge;++ge)I(ie)&&(ue.vd[ge]=re(ie,6));for(ge=0;4>ge;++ge)I(ie)&&(ue.od[ge]=re(ie,6))}if(x.L=ue.Tb==0?0:ue.zd?1:2,ie.Ka)return Hn(x,3,"cannot parse filter header");var Se=Z;if(Z=fe=H,H=fe+Se,ue=Se,x.Xb=(1<<pe(x.m,2))-1,Se<3*(ge=x.Xb))P=7;else{for(fe+=3*ge,ue-=3*ge,Se=0;Se<ge;++Se){var Te=P[Z+0]|P[Z+1]<<8|P[Z+2]<<16;Te>ue&&(Te=ue),te(x.Jc[+Se],P,fe,Te),fe+=Te,ue-=Te,Z+=3}te(x.Jc[+ge],P,fe,ue),P=fe<H?0:5}if(P!=0)return Hn(x,P,"cannot parse partitions");for(P=pe(fe=x.m,7),Z=I(fe)?re(fe,4):0,H=I(fe)?re(fe,4):0,ue=I(fe)?re(fe,4):0,ge=I(fe)?re(fe,4):0,fe=I(fe)?re(fe,4):0,Se=x.Qa,Te=0;4>Te;++Te){if(Se.Cb){var Pe=Se.Zb[Te];Se.Fb||(Pe+=P)}else{if(0<Te){x.pb[Te]=x.pb[0];continue}Pe=P}var Ee=x.pb[Te];Ee.Sc[0]=Rb[Ki(Pe+Z,127)],Ee.Sc[1]=Ib[Ki(Pe+0,127)],Ee.Eb[0]=2*Rb[Ki(Pe+H,127)],Ee.Eb[1]=101581*Ib[Ki(Pe+ue,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Rb[Ki(Pe+ge,117)],Ee.Qc[1]=Ib[Ki(Pe+fe,127)],Ee.lc=Pe+fe}if(!oe.Rb)return Hn(x,4,"Not a key frame.");for(I(ie),oe=x.Pa,P=0;4>P;++P){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(ue=0;11>ue;++ue)ge=ne(ie,vq[P][Z][H][ue])?pe(ie,8):gq[P][Z][H][ue],oe.Wc[P][Z].Yb[H][ue]=ge;for(Z=0;17>Z;++Z)oe.Xc[P][Z]=oe.Wc[P][wq[Z]]}return x.kc=I(ie),x.kc&&(x.Bd=pe(ie,8)),x.cb=1}function d0(x,S,P,H,Z,ie,oe){var ue=S[Z].Yb[P];for(P=0;16>Z;++Z){if(!ne(x,ue[P+0]))return Z;for(;!ne(x,ue[P+1]);)if(ue=S[++Z].Yb[0],P=0,Z==16)return 16;var fe=S[Z+1].Yb;if(ne(x,ue[P+2])){var ge=x,Se=0;if(ne(ge,(Pe=ue)[(Te=P)+3]))if(ne(ge,Pe[Te+6])){for(ue=0,Te=2*(Se=ne(ge,Pe[Te+8]))+(Pe=ne(ge,Pe[Te+9+Se])),Se=0,Pe=pq[Te];Pe[ue];++ue)Se+=Se+ne(ge,Pe[ue]);Se+=3+(8<<Te)}else ne(ge,Pe[Te+7])?(Se=7+2*ne(ge,165),Se+=ne(ge,145)):Se=5+ne(ge,159);else Se=ne(ge,Pe[Te+4])?3+ne(ge,Pe[Te+5]):2;ue=fe[2]}else Se=1,ue=fe[1];fe=oe+mq[Z],0>(ge=x).b&&O(ge);var Te,Pe=ge.b,Ee=(Te=ge.Ca>>1)-(ge.I>>Pe)>>31;--ge.b,ge.Ca+=Ee,ge.Ca|=1,ge.I-=(Te+1&Ee)<<Pe,ie[fe]=((Se^Ee)-Ee)*H[(0<Z)+0]}return 16}function Hh(x){var S=x.rb[x.sb-1];S.la=0,S.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function cb(x,S){if(x==null)return 0;if(S==null)return Hn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!u0(x,S))return 0;if(e(x.cb),S.ac==null||S.ac(S)){S.ob&&(x.L=0);var P=B0[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=S.v-P>>4,x.zb=S.j-P>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=S.o+15+P>>4,x.Hb=S.va+15+P>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var H=x.ed;for(P=0;4>P;++P){var Z;if(x.Qa.Cb){var ie=x.Qa.Lb[P];x.Qa.Fb||(ie+=H.Tb)}else ie=H.Tb;for(Z=0;1>=Z;++Z){var oe=x.gd[P][Z],ue=ie;if(H.Pc&&(ue+=H.vd[0],Z&&(ue+=H.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var fe=ue;0<H.wb&&(fe=4<H.wb?fe>>2:fe>>1)>9-H.wb&&(fe=9-H.wb),1>fe&&(fe=1),oe.dd=fe,oe.tc=2*ue+fe,oe.ld=40<=ue?2:15<=ue?1:0}else oe.tc=0;oe.La=Z}}}P=0}else Hn(x,6,"Frame setup failed"),P=x.a;if(P=P==0){if(P){x.$c=0,0<x.Aa||(x.Ic=Lq);e:{P=x.Ic,H=4*(fe=x.za);var ge=32*fe,Se=fe+1,Te=0<x.L?fe*(0<x.Aa?2:1):0,Pe=(x.Aa==2?2:1)*fe;if((oe=H+832+(Z=3*(16*P+B0[x.L])/2*ge)+(ie=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=oe)P=0;else{if(oe>x.Vb){if(x.Vb=0,x.Ec=s(oe),x.Fc=0,x.Ec==null){P=Hn(x,1,"no memory during frame initialization.");break e}x.Vb=oe}oe=x.Ec,ue=x.Fc,x.Ac=oe,x.Bc=ue,ue+=H,x.Gd=o(ge,l0),x.Hd=0,x.rb=o(Se+1,a0),x.sb=1,x.wa=Te?o(Te,ad):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=fe),e(!0),x.oc=oe,x.pc=ue,ue+=832,x.ya=o(Pe,Vh),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=fe),x.R=16*fe,x.B=8*fe,fe=(ge=B0[x.L])*x.R,ge=ge/2*x.B,x.sa=oe,x.ta=ue+fe,x.qa=x.sa,x.ra=x.ta+16*P*x.R+ge,x.Ha=x.qa,x.Ia=x.ra+8*P*x.B+ge,x.$c=0,ue+=Z,x.mb=ie?oe:null,x.nb=ie?ue:null,e(ue+ie<=x.Fc+x.Vb),Hh(x),i(x.Ac,x.Bc,0,H),P=1}}if(P){if(S.ka=0,S.y=x.sa,S.O=x.ta,S.f=x.qa,S.N=x.ra,S.ea=x.Ha,S.Vd=x.Ia,S.fa=x.R,S.Rc=x.B,S.F=null,S.J=0,!P0){for(P=-255;255>=P;++P)mr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)va[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)fp[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Ed[255+P]=0>P?0:255<P?255:P;P0=1}kd=fb,ya=ub,cp=h0,di=db,ws=p0,qn=f0,_d=Yh,T0=Ic,up=Nb,Dc=Xh,Fc=_b,ol=pd,Bc=Qh,Nd=k0,zc=S0,al=Io,dp=pa,xs=kb,eo[0]=Ro,eo[1]=hb,eo[2]=yb,eo[3]=vb,eo[4]=y0,eo[5]=fd,eo[6]=v0,eo[7]=Kh,eo[8]=xb,eo[9]=wb,ll[0]=m0,ll[1]=mb,ll[2]=ha,ll[3]=ud,ll[4]=Ur,ll[5]=gb,ll[6]=g0,wa[0]=tl,wa[1]=pb,wa[2]=bb,wa[3]=Gh,wa[4]=Rc,wa[5]=Sb,wa[6]=Jh,P=1}else P=0}P&&(P=function(Ee,Be){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Re,ke=Ee.Jc[Ee.M&Ee.Xb],_e=Ee.m,De=Ee;for(Re=0;Re<De.za;++Re){var Ue=_e,Fe=De,tt=Fe.Ac,Xe=Fe.Bc+4*Re,pt=Fe.zc,Qe=Fe.ya[Fe.aa+Re];if(Fe.Qa.Bb?Qe.$b=ne(Ue,Fe.Pa.jb[0])?2+ne(Ue,Fe.Pa.jb[2]):ne(Ue,Fe.Pa.jb[1]):Qe.$b=0,Fe.kc&&(Qe.Ad=ne(Ue,Fe.Bd)),Qe.Za=!ne(Ue,145)+0,Qe.Za){var Kt=Qe.Ob,Xt=0;for(Fe=0;4>Fe;++Fe){var qt,$t=pt[0+Fe];for(qt=0;4>qt;++qt){$t=yq[tt[Xe+qt]][$t];for(var an=XT[ne(Ue,$t[0])];0<an;)an=XT[2*an+ne(Ue,$t[an])];$t=-an,tt[Xe+qt]=$t}r(Kt,Xt,tt,Xe,4),Xt+=4,pt[0+Fe]=$t}}else $t=ne(Ue,156)?ne(Ue,128)?1:3:ne(Ue,163)?2:0,Qe.Ob[0]=$t,i(tt,Xe,$t,4),i(pt,0,$t,4);Qe.Dd=ne(Ue,142)?ne(Ue,114)?ne(Ue,183)?1:3:2:0}if(De.m.Ka)return Hn(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(De=ke,Ue=(_e=Ee).rb[_e.sb-1],tt=_e.rb[_e.sb+_e.ja],Re=_e.ya[_e.aa+_e.ja],Xe=_e.kc?Re.Ad:0)Ue.la=tt.la=0,Re.Za||(Ue.Na=tt.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var rn,Lt;if(Ue=tt,tt=De,Xe=_e.Pa.Xc,pt=_e.ya[_e.aa+_e.ja],Qe=_e.pb[pt.$b],Fe=pt.ad,Kt=0,Xt=_e.rb[_e.sb-1],$t=qt=0,i(Fe,Kt,0,384),pt.Za)var ir=0,ji=Xe[3];else{an=s(16);var sr=Ue.Na+Xt.Na;if(sr=hp(tt,Xe[1],sr,Qe.Eb,0,an,0),Ue.Na=Xt.Na=(0<sr)+0,1<sr)kd(an,0,Fe,Kt);else{var Li=an[0]+3>>3;for(an=0;256>an;an+=16)Fe[Kt+an]=Li}ir=1,ji=Xe[0]}var Qt=15&Ue.la,Ji=15&Xt.la;for(an=0;4>an;++an){var Yi=1&Ji;for(Li=Lt=0;4>Li;++Li)Qt=Qt>>1|(Yi=(sr=hp(tt,ji,sr=Yi+(1&Qt),Qe.Sc,ir,Fe,Kt))>ir)<<7,Lt=Lt<<2|(3<sr?3:1<sr?2:Fe[Kt+0]!=0),Kt+=16;Qt>>=4,Ji=Ji>>1|Yi<<7,qt=(qt<<8|Lt)>>>0}for(ji=Qt,ir=Ji>>4,rn=0;4>rn;rn+=2){for(Lt=0,Qt=Ue.la>>4+rn,Ji=Xt.la>>4+rn,an=0;2>an;++an){for(Yi=1&Ji,Li=0;2>Li;++Li)sr=Yi+(1&Qt),Qt=Qt>>1|(Yi=0<(sr=hp(tt,Xe[2],sr,Qe.Qc,0,Fe,Kt)))<<3,Lt=Lt<<2|(3<sr?3:1<sr?2:Fe[Kt+0]!=0),Kt+=16;Qt>>=2,Ji=Ji>>1|Yi<<5}$t|=Lt<<4*rn,ji|=Qt<<4<<rn,ir|=(240&Ji)<<rn}Ue.la=ji,Xt.la=ir,pt.Hc=qt,pt.Gc=$t,pt.ia=43690&$t?0:Qe.ia,Xe=!(qt|$t)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Re.$b][Re.Za],_e.wa[_e.Y+_e.ja].La|=!Xe),De.Ka)return Hn(Ee,7,"Premature end-of-file encountered.")}if(Hh(Ee),_e=Be,De=1,Re=(ke=Ee).D,Ue=0<ke.L&&ke.M>=ke.zb&&ke.M<=ke.Va,ke.Aa==0)e:{if(Re.M=ke.M,Re.uc=Ue,ip(ke,Re),De=1,Re=(Lt=ke.D).Nb,Ue=($t=B0[ke.L])*ke.R,tt=$t/2*ke.B,an=16*Re*ke.R,Li=8*Re*ke.B,Xe=ke.sa,pt=ke.ta-Ue+an,Qe=ke.qa,Fe=ke.ra-tt+Li,Kt=ke.Ha,Xt=ke.Ia-tt+Li,Ji=(Qt=Lt.M)==0,qt=Qt>=ke.Va-1,ke.Aa==2&&ip(ke,Lt),Lt.uc)for(Yi=(sr=ke).D.M,e(sr.D.uc),Lt=sr.yb;Lt<sr.Hb;++Lt){ir=Lt,ji=Yi;var xr=(Lr=(On=sr).D).Nb;rn=On.R;var Lr=Lr.wa[Lr.Y+ir],fi=On.sa,_s=On.ta+16*xr*rn+16*ir,Mo=Lr.dd,br=Lr.tc;if(br!=0)if(e(3<=br),On.L==1)0<ir&&al(fi,_s,rn,br+4),Lr.La&&xs(fi,_s,rn,br),0<ji&&zc(fi,_s,rn,br+4),Lr.La&&dp(fi,_s,rn,br);else{var xa=On.B,Uc=On.qa,Ad=On.ra+8*xr*xa+8*ir,ul=On.Ha,On=On.Ia+8*xr*xa+8*ir;xr=Lr.ld,0<ir&&(T0(fi,_s,rn,br+4,Mo,xr),Dc(Uc,Ad,ul,On,xa,br+4,Mo,xr)),Lr.La&&(ol(fi,_s,rn,br,Mo,xr),Nd(Uc,Ad,ul,On,xa,br,Mo,xr)),0<ji&&(_d(fi,_s,rn,br+4,Mo,xr),up(Uc,Ad,ul,On,xa,br+4,Mo,xr)),Lr.La&&(Fc(fi,_s,rn,br,Mo,xr),Bc(Uc,Ad,ul,On,xa,br,Mo,xr))}}if(ke.ia&&alert("todo:DitherRow"),_e.put!=null){if(Lt=16*Qt,Qt=16*(Qt+1),Ji?(_e.y=ke.sa,_e.O=ke.ta+an,_e.f=ke.qa,_e.N=ke.ra+Li,_e.ea=ke.Ha,_e.W=ke.Ia+Li):(Lt-=$t,_e.y=Xe,_e.O=pt,_e.f=Qe,_e.N=Fe,_e.ea=Kt,_e.W=Xt),qt||(Qt-=$t),Qt>_e.o&&(Qt=_e.o),_e.F=null,_e.J=null,ke.Fa!=null&&0<ke.Fa.length&&Lt<Qt&&(_e.J=np(ke,_e,Lt,Qt-Lt),_e.F=ke.mb,_e.F==null&&_e.F.length==0)){De=Hn(ke,3,"Could not decode alpha data.");break e}Lt<_e.j&&($t=_e.j-Lt,Lt=_e.j,e(!(1&$t)),_e.O+=ke.R*$t,_e.N+=ke.B*($t>>1),_e.W+=ke.B*($t>>1),_e.F!=null&&(_e.J+=_e.width*$t)),Lt<Qt&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Lt-_e.j,_e.U=_e.va-_e.v,_e.T=Qt-Lt,De=_e.put(_e))}Re+1!=ke.Ic||qt||(r(ke.sa,ke.ta-Ue,Xe,pt+16*ke.R,Ue),r(ke.qa,ke.ra-tt,Qe,Fe+8*ke.B,tt),r(ke.Ha,ke.Ia-tt,Kt,Xt+8*ke.B,tt))}if(!De)return Hn(Ee,6,"Output aborted.")}return 1}(x,S)),S.bc!=null&&S.bc(S),P&=1}return P?(x.cb=0,P):0}function Xs(x,S,P,H,Z){Z=x[S+P+32*H]+(Z>>3),x[S+P+32*H]=-256&Z?0>Z?0:255:Z}function cd(x,S,P,H,Z,ie){Xs(x,S,0,P,H+Z),Xs(x,S,1,P,H+ie),Xs(x,S,2,P,H-ie),Xs(x,S,3,P,H-Z)}function Ci(x){return(20091*x>>16)+x}function qh(x,S,P,H){var Z,ie=0,oe=s(16);for(Z=0;4>Z;++Z){var ue=x[S+0]+x[S+8],fe=x[S+0]-x[S+8],ge=(35468*x[S+4]>>16)-Ci(x[S+12]),Se=Ci(x[S+4])+(35468*x[S+12]>>16);oe[ie+0]=ue+Se,oe[ie+1]=fe+ge,oe[ie+2]=fe-ge,oe[ie+3]=ue-Se,ie+=4,S++}for(Z=ie=0;4>Z;++Z)ue=(x=oe[ie+0]+4)+oe[ie+8],fe=x-oe[ie+8],ge=(35468*oe[ie+4]>>16)-Ci(oe[ie+12]),Xs(P,H,0,0,ue+(Se=Ci(oe[ie+4])+(35468*oe[ie+12]>>16))),Xs(P,H,1,0,fe+ge),Xs(P,H,2,0,fe-ge),Xs(P,H,3,0,ue-Se),ie++,H+=32}function f0(x,S,P,H){var Z=x[S+0]+4,ie=35468*x[S+4]>>16,oe=Ci(x[S+4]),ue=35468*x[S+1]>>16;cd(P,H,0,Z+oe,x=Ci(x[S+1]),ue),cd(P,H,1,Z+ie,x,ue),cd(P,H,2,Z-ie,x,ue),cd(P,H,3,Z-oe,x,ue)}function ub(x,S,P,H,Z){qh(x,S,P,H),Z&&qh(x,S+16,P,H+4)}function h0(x,S,P,H){ya(x,S+0,P,H,1),ya(x,S+32,P,H+128,1)}function db(x,S,P,H){var Z;for(x=x[S+0]+4,Z=0;4>Z;++Z)for(S=0;4>S;++S)Xs(P,H,S,Z,x)}function p0(x,S,P,H){x[S+0]&&di(x,S+0,P,H),x[S+16]&&di(x,S+16,P,H+4),x[S+32]&&di(x,S+32,P,H+128),x[S+48]&&di(x,S+48,P,H+128+4)}function fb(x,S,P,H){var Z,ie=s(16);for(Z=0;4>Z;++Z){var oe=x[S+0+Z]+x[S+12+Z],ue=x[S+4+Z]+x[S+8+Z],fe=x[S+4+Z]-x[S+8+Z],ge=x[S+0+Z]-x[S+12+Z];ie[0+Z]=oe+ue,ie[8+Z]=oe-ue,ie[4+Z]=ge+fe,ie[12+Z]=ge-fe}for(Z=0;4>Z;++Z)oe=(x=ie[0+4*Z]+3)+ie[3+4*Z],ue=ie[1+4*Z]+ie[2+4*Z],fe=ie[1+4*Z]-ie[2+4*Z],ge=x-ie[3+4*Z],P[H+0]=oe+ue>>3,P[H+16]=ge+fe>>3,P[H+32]=oe-ue>>3,P[H+48]=ge-fe>>3,H+=64}function Wh(x,S,P){var H,Z=S-32,ie=Gi,oe=255-x[Z-1];for(H=0;H<P;++H){var ue,fe=ie,ge=oe+x[S-1];for(ue=0;ue<P;++ue)x[S+ue]=fe[ge+x[Z+ue]];S+=32}}function hb(x,S){Wh(x,S,4)}function pb(x,S){Wh(x,S,8)}function mb(x,S){Wh(x,S,16)}function ha(x,S){var P;for(P=0;16>P;++P)r(x,S+32*P,x,S-32,16)}function ud(x,S){var P;for(P=16;0<P;--P)i(x,S,x[S-1],16),S+=32}function dd(x,S,P){var H;for(H=0;16>H;++H)i(S,P+32*H,x,16)}function m0(x,S){var P,H=16;for(P=0;16>P;++P)H+=x[S-1+32*P]+x[S+P-32];dd(H>>5,x,S)}function Ur(x,S){var P,H=8;for(P=0;16>P;++P)H+=x[S-1+32*P];dd(H>>4,x,S)}function gb(x,S){var P,H=8;for(P=0;16>P;++P)H+=x[S+P-32];dd(H>>4,x,S)}function g0(x,S){dd(128,x,S)}function Nt(x,S,P){return x+2*S+P+2>>2}function yb(x,S){var P,H=S-32;for(H=new Uint8Array([Nt(x[H-1],x[H+0],x[H+1]),Nt(x[H+0],x[H+1],x[H+2]),Nt(x[H+1],x[H+2],x[H+3]),Nt(x[H+2],x[H+3],x[H+4])]),P=0;4>P;++P)r(x,S+32*P,H,0,H.length)}function vb(x,S){var P=x[S-1],H=x[S-1+32],Z=x[S-1+64],ie=x[S-1+96];ce(x,S+0,16843009*Nt(x[S-1-32],P,H)),ce(x,S+32,16843009*Nt(P,H,Z)),ce(x,S+64,16843009*Nt(H,Z,ie)),ce(x,S+96,16843009*Nt(Z,ie,ie))}function Ro(x,S){var P,H=4;for(P=0;4>P;++P)H+=x[S+P-32]+x[S-1+32*P];for(H>>=3,P=0;4>P;++P)i(x,S+32*P,H,4)}function y0(x,S){var P=x[S-1+0],H=x[S-1+32],Z=x[S-1+64],ie=x[S-1-32],oe=x[S+0-32],ue=x[S+1-32],fe=x[S+2-32],ge=x[S+3-32];x[S+0+96]=Nt(H,Z,x[S-1+96]),x[S+1+96]=x[S+0+64]=Nt(P,H,Z),x[S+2+96]=x[S+1+64]=x[S+0+32]=Nt(ie,P,H),x[S+3+96]=x[S+2+64]=x[S+1+32]=x[S+0+0]=Nt(oe,ie,P),x[S+3+64]=x[S+2+32]=x[S+1+0]=Nt(ue,oe,ie),x[S+3+32]=x[S+2+0]=Nt(fe,ue,oe),x[S+3+0]=Nt(ge,fe,ue)}function v0(x,S){var P=x[S+1-32],H=x[S+2-32],Z=x[S+3-32],ie=x[S+4-32],oe=x[S+5-32],ue=x[S+6-32],fe=x[S+7-32];x[S+0+0]=Nt(x[S+0-32],P,H),x[S+1+0]=x[S+0+32]=Nt(P,H,Z),x[S+2+0]=x[S+1+32]=x[S+0+64]=Nt(H,Z,ie),x[S+3+0]=x[S+2+32]=x[S+1+64]=x[S+0+96]=Nt(Z,ie,oe),x[S+3+32]=x[S+2+64]=x[S+1+96]=Nt(ie,oe,ue),x[S+3+64]=x[S+2+96]=Nt(oe,ue,fe),x[S+3+96]=Nt(ue,fe,fe)}function fd(x,S){var P=x[S-1+0],H=x[S-1+32],Z=x[S-1+64],ie=x[S-1-32],oe=x[S+0-32],ue=x[S+1-32],fe=x[S+2-32],ge=x[S+3-32];x[S+0+0]=x[S+1+64]=ie+oe+1>>1,x[S+1+0]=x[S+2+64]=oe+ue+1>>1,x[S+2+0]=x[S+3+64]=ue+fe+1>>1,x[S+3+0]=fe+ge+1>>1,x[S+0+96]=Nt(Z,H,P),x[S+0+64]=Nt(H,P,ie),x[S+0+32]=x[S+1+96]=Nt(P,ie,oe),x[S+1+32]=x[S+2+96]=Nt(ie,oe,ue),x[S+2+32]=x[S+3+96]=Nt(oe,ue,fe),x[S+3+32]=Nt(ue,fe,ge)}function Kh(x,S){var P=x[S+0-32],H=x[S+1-32],Z=x[S+2-32],ie=x[S+3-32],oe=x[S+4-32],ue=x[S+5-32],fe=x[S+6-32],ge=x[S+7-32];x[S+0+0]=P+H+1>>1,x[S+1+0]=x[S+0+64]=H+Z+1>>1,x[S+2+0]=x[S+1+64]=Z+ie+1>>1,x[S+3+0]=x[S+2+64]=ie+oe+1>>1,x[S+0+32]=Nt(P,H,Z),x[S+1+32]=x[S+0+96]=Nt(H,Z,ie),x[S+2+32]=x[S+1+96]=Nt(Z,ie,oe),x[S+3+32]=x[S+2+96]=Nt(ie,oe,ue),x[S+3+64]=Nt(oe,ue,fe),x[S+3+96]=Nt(ue,fe,ge)}function wb(x,S){var P=x[S-1+0],H=x[S-1+32],Z=x[S-1+64],ie=x[S-1+96];x[S+0+0]=P+H+1>>1,x[S+2+0]=x[S+0+32]=H+Z+1>>1,x[S+2+32]=x[S+0+64]=Z+ie+1>>1,x[S+1+0]=Nt(P,H,Z),x[S+3+0]=x[S+1+32]=Nt(H,Z,ie),x[S+3+32]=x[S+1+64]=Nt(Z,ie,ie),x[S+3+64]=x[S+2+64]=x[S+0+96]=x[S+1+96]=x[S+2+96]=x[S+3+96]=ie}function xb(x,S){var P=x[S-1+0],H=x[S-1+32],Z=x[S-1+64],ie=x[S-1+96],oe=x[S-1-32],ue=x[S+0-32],fe=x[S+1-32],ge=x[S+2-32];x[S+0+0]=x[S+2+32]=P+oe+1>>1,x[S+0+32]=x[S+2+64]=H+P+1>>1,x[S+0+64]=x[S+2+96]=Z+H+1>>1,x[S+0+96]=ie+Z+1>>1,x[S+3+0]=Nt(ue,fe,ge),x[S+2+0]=Nt(oe,ue,fe),x[S+1+0]=x[S+3+32]=Nt(P,oe,ue),x[S+1+32]=x[S+3+64]=Nt(H,P,oe),x[S+1+64]=x[S+3+96]=Nt(Z,H,P),x[S+1+96]=Nt(ie,Z,H)}function bb(x,S){var P;for(P=0;8>P;++P)r(x,S+32*P,x,S-32,8)}function Gh(x,S){var P;for(P=0;8>P;++P)i(x,S,x[S-1],8),S+=32}function Lc(x,S,P){var H;for(H=0;8>H;++H)i(S,P+32*H,x,8)}function tl(x,S){var P,H=8;for(P=0;8>P;++P)H+=x[S+P-32]+x[S-1+32*P];Lc(H>>4,x,S)}function Sb(x,S){var P,H=4;for(P=0;8>P;++P)H+=x[S+P-32];Lc(H>>3,x,S)}function Rc(x,S){var P,H=4;for(P=0;8>P;++P)H+=x[S-1+32*P];Lc(H>>3,x,S)}function Jh(x,S){Lc(128,x,S)}function hd(x,S,P){var H=x[S-P],Z=x[S+0],ie=3*(Z-H)+Cb[1020+x[S-2*P]-x[S+P]],oe=j0[112+(ie+4>>3)];x[S-P]=Gi[255+H+j0[112+(ie+3>>3)]],x[S+0]=Gi[255+Z-oe]}function w0(x,S,P,H){var Z=x[S+0],ie=x[S+P];return Ss[255+x[S-2*P]-x[S-P]]>H||Ss[255+ie-Z]>H}function x0(x,S,P,H){return 4*Ss[255+x[S-P]-x[S+0]]+Ss[255+x[S-2*P]-x[S+P]]<=H}function b0(x,S,P,H,Z){var ie=x[S-3*P],oe=x[S-2*P],ue=x[S-P],fe=x[S+0],ge=x[S+P],Se=x[S+2*P],Te=x[S+3*P];return 4*Ss[255+ue-fe]+Ss[255+oe-ge]>H?0:Ss[255+x[S-4*P]-ie]<=Z&&Ss[255+ie-oe]<=Z&&Ss[255+oe-ue]<=Z&&Ss[255+Te-Se]<=Z&&Ss[255+Se-ge]<=Z&&Ss[255+ge-fe]<=Z}function S0(x,S,P,H){var Z=2*H+1;for(H=0;16>H;++H)x0(x,S+H,P,Z)&&hd(x,S+H,P)}function Io(x,S,P,H){var Z=2*H+1;for(H=0;16>H;++H)x0(x,S+H*P,1,Z)&&hd(x,S+H*P,1)}function pa(x,S,P,H){var Z;for(Z=3;0<Z;--Z)S0(x,S+=4*P,P,H)}function kb(x,S,P,H){var Z;for(Z=3;0<Z;--Z)Io(x,S+=4,P,H)}function nl(x,S,P,H,Z,ie,oe,ue){for(ie=2*ie+1;0<Z--;){if(b0(x,S,P,ie,oe))if(w0(x,S,P,ue))hd(x,S,P);else{var fe=x,ge=S,Se=P,Te=fe[ge-2*Se],Pe=fe[ge-Se],Ee=fe[ge+0],Be=fe[ge+Se],Re=fe[ge+2*Se],ke=27*(De=Cb[1020+3*(Ee-Pe)+Cb[1020+Te-Be]])+63>>7,_e=18*De+63>>7,De=9*De+63>>7;fe[ge-3*Se]=Gi[255+fe[ge-3*Se]+De],fe[ge-2*Se]=Gi[255+Te+_e],fe[ge-Se]=Gi[255+Pe+ke],fe[ge+0]=Gi[255+Ee-ke],fe[ge+Se]=Gi[255+Be-_e],fe[ge+2*Se]=Gi[255+Re-De]}S+=H}}function Qs(x,S,P,H,Z,ie,oe,ue){for(ie=2*ie+1;0<Z--;){if(b0(x,S,P,ie,oe))if(w0(x,S,P,ue))hd(x,S,P);else{var fe=x,ge=S,Se=P,Te=fe[ge-Se],Pe=fe[ge+0],Ee=fe[ge+Se],Be=j0[112+((Re=3*(Pe-Te))+4>>3)],Re=j0[112+(Re+3>>3)],ke=Be+1>>1;fe[ge-2*Se]=Gi[255+fe[ge-2*Se]+ke],fe[ge-Se]=Gi[255+Te+Re],fe[ge+0]=Gi[255+Pe-Be],fe[ge+Se]=Gi[255+Ee-ke]}S+=H}}function Yh(x,S,P,H,Z,ie){nl(x,S,P,1,16,H,Z,ie)}function Ic(x,S,P,H,Z,ie){nl(x,S,1,P,16,H,Z,ie)}function _b(x,S,P,H,Z,ie){var oe;for(oe=3;0<oe;--oe)Qs(x,S+=4*P,P,1,16,H,Z,ie)}function pd(x,S,P,H,Z,ie){var oe;for(oe=3;0<oe;--oe)Qs(x,S+=4,1,P,16,H,Z,ie)}function Nb(x,S,P,H,Z,ie,oe,ue){nl(x,S,Z,1,8,ie,oe,ue),nl(P,H,Z,1,8,ie,oe,ue)}function Xh(x,S,P,H,Z,ie,oe,ue){nl(x,S,1,Z,8,ie,oe,ue),nl(P,H,1,Z,8,ie,oe,ue)}function Qh(x,S,P,H,Z,ie,oe,ue){Qs(x,S+4*Z,Z,1,8,ie,oe,ue),Qs(P,H+4*Z,Z,1,8,ie,oe,ue)}function k0(x,S,P,H,Z,ie,oe,ue){Qs(x,S+4,1,Z,8,ie,oe,ue),Qs(P,H+4,1,Z,8,ie,oe,ue)}function md(){this.ba=new Ei,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ep(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _0(){this.ua=0,this.Wa=new j,this.vb=new j,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new E,this.yc=new L}function Eb(){this.xb=this.a=0,this.l=new ld,this.ca=new Ei,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _0,this.ab=0,this.gc=o(4,ep),this.Oc=0}function gd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ld,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Oc(x,S,P,H,Z,ie,oe){for(x=x==null?0:x[S+0],S=0;S<oe;++S)Z[ie+S]=x+P[H+S]&255,x=Z[ie+S]}function tp(x,S,P,H,Z,ie,oe){var ue;if(x==null)Oc(null,null,P,H,Z,ie,oe);else for(ue=0;ue<oe;++ue)Z[ie+ue]=x[S+ue]+P[H+ue]&255}function rl(x,S,P,H,Z,ie,oe){if(x==null)Oc(null,null,P,H,Z,ie,oe);else{var ue,fe=x[S+0],ge=fe,Se=fe;for(ue=0;ue<oe;++ue)ge=Se+(fe=x[S+ue])-ge,Se=P[H+ue]+(-256&ge?0>ge?0:255:ge)&255,ge=fe,Z[ie+ue]=Se}}function np(x,S,P,H){var Z=S.width,ie=S.o;if(e(x!=null&&S!=null),0>P||0>=H||P+H>ie)return null;if(!x.Cc){if(x.ga==null){var oe;if(x.ga=new gd,(oe=x.ga==null)||(oe=S.width*S.o,e(x.Gb.length==0),x.Gb=s(oe),x.Uc=0,x.Gb==null?oe=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,oe=1),oe=!oe),!oe){oe=x.ga;var ue=x.Fa,fe=x.P,ge=x.qc,Se=x.mb,Te=x.nb,Pe=fe+1,Ee=ge-1,Be=oe.l;if(e(ue!=null&&Se!=null&&S!=null),cl[0]=null,cl[1]=Oc,cl[2]=tp,cl[3]=rl,oe.ca=Se,oe.tb=Te,oe.c=S.width,oe.i=S.height,e(0<oe.c&&0<oe.i),1>=ge)S=0;else if(oe.$a=ue[fe+0]>>0&3,oe.Z=ue[fe+0]>>2&3,oe.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||fe)S=0;else if(Be.put=Co,Be.ac=Pr,Be.bc=To,Be.ma=oe,Be.width=S.width,Be.height=S.height,Be.Da=S.Da,Be.v=S.v,Be.va=S.va,Be.j=S.j,Be.o=S.o,oe.$a)e:{e(oe.$a==1),S=ys();t:for(;;){if(S==null){S=0;break e}if(e(oe!=null),oe.mc=S,S.c=oe.c,S.i=oe.i,S.l=oe.l,S.l.ma=oe,S.l.width=oe.c,S.l.height=oe.i,S.a=0,K(S.m,ue,Pe,Ee),!Lo(oe.c,oe.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&fa(S.s)?(oe.ic=1,ue=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(ue),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(oe.ic=0,S=jc(S,oe.c)),!S))break t;S=1;break e}oe.mc=null,S=0}else S=Ee>=oe.c*oe.i;oe=!S}if(oe)return null;x.ga.Lc!=1?x.Ga=0:H=ie-P}e(x.ga!=null),e(P+H<=ie);e:{if(S=(ue=x.ga).c,ie=ue.l.o,ue.$a==0){if(Pe=x.rc,Ee=x.Vc,Be=x.Fa,fe=x.P+1+P*S,ge=x.mb,Se=x.nb+P*S,e(fe<=x.P+x.qc),ue.Z!=0)for(e(cl[ue.Z]!=null),oe=0;oe<H;++oe)cl[ue.Z](Pe,Ee,Be,fe,ge,Se,S),Pe=ge,Ee=Se,Se+=S,fe+=S;else for(oe=0;oe<H;++oe)r(ge,Se,Be,fe,S),Pe=ge,Ee=Se,Se+=S,fe+=S;x.rc=Pe,x.Vc=Ee}else{if(e(ue.mc!=null),S=P+H,e((oe=ue.mc)!=null),e(S<=oe.i),oe.C>=S)S=1;else if(ue.ic||Ce(),ue.ic){ue=oe.V,Pe=oe.Ba,Ee=oe.c;var Re=oe.i,ke=(Be=1,fe=oe.$/Ee,ge=oe.$%Ee,Se=oe.m,Te=oe.s,oe.$),_e=Ee*Re,De=Ee*S,Ue=Te.wc,Fe=ke<De?nr(Te,ge,fe):null;e(ke<=_e),e(S<=Re),e(fa(Te));t:for(;;){for(;!Se.h&&ke<De;){if(ge&Ue||(Fe=nr(Te,ge,fe)),e(Fe!=null),Q(Se),256>(Re=Ai(Fe.G[0],Fe.H[0],Se)))ue[Pe+ke]=Re,++ke,++ge>=Ee&&(ge=0,++fe<=S&&!(fe%16)&&Js(oe,fe));else{if(!(280>Re)){Be=0;break t}Re=Ks(Re-256,Se);var tt,Xe=Ai(Fe.G[4],Fe.H[4],Se);if(Q(Se),!(ke>=(Xe=Po(Ee,Xe=Ks(Xe,Se)))&&_e-ke>=Re)){Be=0;break t}for(tt=0;tt<Re;++tt)ue[Pe+ke+tt]=ue[Pe+ke+tt-Xe];for(ke+=Re,ge+=Re;ge>=Ee;)ge-=Ee,++fe<=S&&!(fe%16)&&Js(oe,fe);ke<De&&ge&Ue&&(Fe=nr(Te,ge,fe))}e(Se.h==J(Se))}Js(oe,fe>S?S:fe);break t}!Be||Se.h&&ke<_e?(Be=0,oe.a=Se.h?5:3):oe.$=ke,S=Be}else S=Ys(oe,oe.V,oe.Ba,oe.c,oe.i,S,rd);if(!S){H=0;break e}}P+H>=ie&&(x.Cc=1),H=1}if(!H)return null;if(x.Cc&&((H=x.ga)!=null&&(H.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+P*Z}function A(x,S,P,H,Z,ie){for(;0<Z--;){var oe,ue=x,fe=S+(P?1:0),ge=x,Se=S+(P?0:3);for(oe=0;oe<H;++oe){var Te=ge[Se+4*oe];Te!=255&&(Te*=32897,ue[fe+4*oe+0]=ue[fe+4*oe+0]*Te>>23,ue[fe+4*oe+1]=ue[fe+4*oe+1]*Te>>23,ue[fe+4*oe+2]=ue[fe+4*oe+2]*Te>>23)}S+=ie}}function ee(x,S,P,H,Z){for(;0<H--;){var ie;for(ie=0;ie<P;++ie){var oe=x[S+2*ie+0],ue=15&(ge=x[S+2*ie+1]),fe=4369*ue,ge=(240&ge|ge>>4)*fe>>16;x[S+2*ie+0]=(240&oe|oe>>4)*fe>>16&240|(15&oe|oe<<4)*fe>>16>>4&15,x[S+2*ie+1]=240&ge|ue}S+=Z}}function ve(x,S,P,H,Z,ie,oe,ue){var fe,ge,Se=255;for(ge=0;ge<Z;++ge){for(fe=0;fe<H;++fe){var Te=x[S+fe];ie[oe+4*fe]=Te,Se&=Te}S+=P,oe+=ue}return Se!=255}function be(x,S,P,H,Z){var ie;for(ie=0;ie<Z;++ie)P[H+ie]=x[S+ie]>>8}function Ce(){bs=A,dn=ee,fn=ve,Wn=be}function Oe(x,S,P){z[x]=function(H,Z,ie,oe,ue,fe,ge,Se,Te,Pe,Ee,Be,Re,ke,_e,De,Ue){var Fe,tt=Ue-1>>1,Xe=ue[fe+0]|ge[Se+0]<<16,pt=Te[Pe+0]|Ee[Be+0]<<16;e(H!=null);var Qe=3*Xe+pt+131074>>2;for(S(H[Z+0],255&Qe,Qe>>16,Re,ke),ie!=null&&(Qe=3*pt+Xe+131074>>2,S(ie[oe+0],255&Qe,Qe>>16,_e,De)),Fe=1;Fe<=tt;++Fe){var Kt=ue[fe+Fe]|ge[Se+Fe]<<16,Xt=Te[Pe+Fe]|Ee[Be+Fe]<<16,qt=Xe+Kt+pt+Xt+524296,$t=qt+2*(Kt+pt)>>3;Qe=$t+Xe>>1,Xe=(qt=qt+2*(Xe+Xt)>>3)+Kt>>1,S(H[Z+2*Fe-1],255&Qe,Qe>>16,Re,ke+(2*Fe-1)*P),S(H[Z+2*Fe-0],255&Xe,Xe>>16,Re,ke+(2*Fe-0)*P),ie!=null&&(Qe=qt+pt>>1,Xe=$t+Xt>>1,S(ie[oe+2*Fe-1],255&Qe,Qe>>16,_e,De+(2*Fe-1)*P),S(ie[oe+2*Fe+0],255&Xe,Xe>>16,_e,De+(2*Fe+0)*P)),Xe=Kt,pt=Xt}1&Ue||(Qe=3*Xe+pt+131074>>2,S(H[Z+Ue-1],255&Qe,Qe>>16,Re,ke+(Ue-1)*P),ie!=null&&(Qe=3*pt+Xe+131074>>2,S(ie[oe+Ue-1],255&Qe,Qe>>16,_e,De+(Ue-1)*P)))}}function Ve(){ks[L0]=bq,ks[R0]=ZT,ks[GT]=Sq,ks[I0]=e4,ks[O0]=t4,ks[Tb]=n4,ks[JT]=kq,ks[Pb]=ZT,ks[jb]=e4,ks[M0]=t4,ks[Lb]=n4}function et(x){return x&-16384?0>x?0:255:x>>_q}function dt(x,S){return et((19077*x>>8)+(26149*S>>8)-14234)}function Pt(x,S,P){return et((19077*x>>8)-(6419*S>>8)-(13320*P>>8)+8708)}function At(x,S){return et((19077*x>>8)+(33050*S>>8)-17685)}function Vt(x,S,P,H,Z){H[Z+0]=dt(x,P),H[Z+1]=Pt(x,S,P),H[Z+2]=At(x,S)}function En(x,S,P,H,Z){H[Z+0]=At(x,S),H[Z+1]=Pt(x,S,P),H[Z+2]=dt(x,P)}function In(x,S,P,H,Z){var ie=Pt(x,S,P);S=ie<<3&224|At(x,S)>>3,H[Z+0]=248&dt(x,P)|ie>>5,H[Z+1]=S}function rr(x,S,P,H,Z){var ie=240&At(x,S)|15;H[Z+0]=240&dt(x,P)|Pt(x,S,P)>>4,H[Z+1]=ie}function $r(x,S,P,H,Z){H[Z+0]=255,Vt(x,S,P,H,Z+1)}function wr(x,S,P,H,Z){En(x,S,P,H,Z),H[Z+3]=255}function Zs(x,S,P,H,Z){Vt(x,S,P,H,Z),H[Z+3]=255}function Ki(x,S){return 0>x?0:x>S?S:x}function Oo(x,S,P){z[x]=function(H,Z,ie,oe,ue,fe,ge,Se,Te){for(var Pe=Se+(-2&Te)*P;Se!=Pe;)S(H[Z+0],ie[oe+0],ue[fe+0],ge,Se),S(H[Z+1],ie[oe+0],ue[fe+0],ge,Se+P),Z+=2,++oe,++fe,Se+=2*P;1&Te&&S(H[Z+0],ie[oe+0],ue[fe+0],ge,Se)}}function N0(x,S,P){return P==0?x==0?S==0?6:5:S==0?4:0:P}function rp(x,S,P,H,Z){switch(x>>>30){case 3:ya(S,P,H,Z,0);break;case 2:qn(S,P,H,Z);break;case 1:di(S,P,H,Z)}}function ip(x,S){var P,H,Z=S.M,ie=S.Nb,oe=x.oc,ue=x.pc+40,fe=x.oc,ge=x.pc+584,Se=x.oc,Te=x.pc+600;for(P=0;16>P;++P)oe[ue+32*P-1]=129;for(P=0;8>P;++P)fe[ge+32*P-1]=129,Se[Te+32*P-1]=129;for(0<Z?oe[ue-1-32]=fe[ge-1-32]=Se[Te-1-32]=129:(i(oe,ue-32-1,127,21),i(fe,ge-32-1,127,9),i(Se,Te-32-1,127,9)),H=0;H<x.za;++H){var Pe=S.ya[S.aa+H];if(0<H){for(P=-1;16>P;++P)r(oe,ue+32*P-4,oe,ue+32*P+12,4);for(P=-1;8>P;++P)r(fe,ge+32*P-4,fe,ge+32*P+4,4),r(Se,Te+32*P-4,Se,Te+32*P+4,4)}var Ee=x.Gd,Be=x.Hd+H,Re=Pe.ad,ke=Pe.Hc;if(0<Z&&(r(oe,ue-32,Ee[Be].y,0,16),r(fe,ge-32,Ee[Be].f,0,8),r(Se,Te-32,Ee[Be].ea,0,8)),Pe.Za){var _e=oe,De=ue-32+16;for(0<Z&&(H>=x.za-1?i(_e,De,Ee[Be].y[15],4):r(_e,De,Ee[Be+1].y,0,4)),P=0;4>P;P++)_e[De+128+P]=_e[De+256+P]=_e[De+384+P]=_e[De+0+P];for(P=0;16>P;++P,ke<<=2)_e=oe,De=ue+i4[P],eo[Pe.Ob[P]](_e,De),rp(ke,Re,16*+P,_e,De)}else if(_e=N0(H,Z,Pe.Ob[0]),ll[_e](oe,ue),ke!=0)for(P=0;16>P;++P,ke<<=2)rp(ke,Re,16*+P,oe,ue+i4[P]);for(P=Pe.Gc,_e=N0(H,Z,Pe.Dd),wa[_e](fe,ge),wa[_e](Se,Te),ke=Re,_e=fe,De=ge,255&(Pe=P>>0)&&(170&Pe?cp(ke,256,_e,De):ws(ke,256,_e,De)),Pe=Se,ke=Te,255&(P>>=8)&&(170&P?cp(Re,320,Pe,ke):ws(Re,320,Pe,ke)),Z<x.Ub-1&&(r(Ee[Be].y,0,oe,ue+480,16),r(Ee[Be].f,0,fe,ge+224,8),r(Ee[Be].ea,0,Se,Te+224,8)),P=8*ie*x.B,Ee=x.sa,Be=x.ta+16*H+16*ie*x.R,Re=x.qa,Pe=x.ra+8*H+P,ke=x.Ha,_e=x.Ia+8*H+P,P=0;16>P;++P)r(Ee,Be+P*x.R,oe,ue+32*P,16);for(P=0;8>P;++P)r(Re,Pe+P*x.B,fe,ge+32*P,8),r(ke,_e+P*x.B,Se,Te+32*P,8)}}function yd(x,S,P,H,Z,ie,oe,ue,fe){var ge=[0],Se=[0],Te=0,Pe=fe!=null?fe.kd:0,Ee=fe??new Zh;if(x==null||12>P)return 7;Ee.data=x,Ee.w=S,Ee.ha=P,S=[S],P=[P],Ee.gb=[Ee.gb];e:{var Be=S,Re=P,ke=Ee.gb;if(e(x!=null),e(Re!=null),e(ke!=null),ke[0]=0,12<=Re[0]&&!n(x,Be[0],"RIFF")){if(n(x,Be[0]+8,"WEBP")){ke=3;break e}var _e=xe(x,Be[0]+4);if(12>_e||4294967286<_e){ke=3;break e}if(Pe&&_e>Re[0]-8){ke=7;break e}ke[0]=_e,Be[0]+=12,Re[0]-=12}ke=0}if(ke!=0)return ke;for(_e=0<Ee.gb[0],P=P[0];;){e:{var De=x;Re=S,ke=P;var Ue=ge,Fe=Se,tt=Be=[0];if((Qe=Te=[Te])[0]=0,8>ke[0])ke=7;else{if(!n(De,Re[0],"VP8X")){if(xe(De,Re[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Xe=xe(De,Re[0]+8),pt=1+se(De,Re[0]+12);if(2147483648<=pt*(De=1+se(De,Re[0]+15))){ke=3;break e}tt!=null&&(tt[0]=Xe),Ue!=null&&(Ue[0]=pt),Fe!=null&&(Fe[0]=De),Re[0]+=18,ke[0]-=18,Qe[0]=1}ke=0}}if(Te=Te[0],Be=Be[0],ke!=0)return ke;if(Re=!!(2&Be),!_e&&Te)return 3;if(ie!=null&&(ie[0]=!!(16&Be)),oe!=null&&(oe[0]=Re),ue!=null&&(ue[0]=0),oe=ge[0],Be=Se[0],Te&&Re&&fe==null){ke=0;break}if(4>P){ke=7;break}if(_e&&Te||!_e&&!Te&&!n(x,S[0],"ALPH")){P=[P],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{Xe=x,ke=S,_e=P;var Qe=Ee.gb;Ue=Ee.na,Fe=Ee.P,tt=Ee.Sa,pt=22,e(Xe!=null),e(_e!=null),De=ke[0];var Kt=_e[0];for(e(Ue!=null),e(tt!=null),Ue[0]=null,Fe[0]=null,tt[0]=0;;){if(ke[0]=De,_e[0]=Kt,8>Kt){ke=7;break e}var Xt=xe(Xe,De+4);if(4294967286<Xt){ke=3;break e}var qt=8+Xt+1&-2;if(pt+=qt,0<Qe&&pt>Qe){ke=3;break e}if(!n(Xe,De,"VP8 ")||!n(Xe,De,"VP8L")){ke=0;break e}if(Kt[0]<qt){ke=7;break e}n(Xe,De,"ALPH")||(Ue[0]=Xe,Fe[0]=De+8,tt[0]=Xt),De+=qt,Kt-=qt}}if(P=P[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],ke!=0)break}P=[P],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(Qe=x,ke=S,_e=P,Ue=Ee.gb[0],Fe=Ee.Ja,tt=Ee.xa,Xe=ke[0],De=!n(Qe,Xe,"VP8 "),pt=!n(Qe,Xe,"VP8L"),e(Qe!=null),e(_e!=null),e(Fe!=null),e(tt!=null),8>_e[0])ke=7;else{if(De||pt){if(Qe=xe(Qe,Xe+4),12<=Ue&&Qe>Ue-12){ke=3;break e}if(Pe&&Qe>_e[0]-8){ke=7;break e}Fe[0]=Qe,ke[0]+=8,_e[0]-=8,tt[0]=pt}else tt[0]=5<=_e[0]&&Qe[Xe+0]==47&&!(Qe[Xe+4]>>5),Fe[0]=_e[0];ke=0}if(P=P[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],S=S[0],ke!=0)break;if(4294967286<Ee.Ja)return 3;if(ue==null||Re||(ue[0]=Ee.xa?2:1),oe=[oe],Be=[Be],Ee.xa){if(5>P){ke=7;break}ue=oe,Pe=Be,Re=ie,x==null||5>P?x=0:5<=P&&x[S+0]==47&&!(x[S+4]>>5)?(_e=[0],Qe=[0],Ue=[0],K(Fe=new T,x,S,P),gt(Fe,_e,Qe,Ue)?(ue!=null&&(ue[0]=_e[0]),Pe!=null&&(Pe[0]=Qe[0]),Re!=null&&(Re[0]=Ue[0]),x=1):x=0):x=0}else{if(10>P){ke=7;break}ue=Be,x==null||10>P||!c0(x,S+3,P-3)?x=0:(Pe=x[S+0]|x[S+1]<<8|x[S+2]<<16,Re=16383&(x[S+7]<<8|x[S+6]),x=16383&(x[S+9]<<8|x[S+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ee.Ja||!Re||!x?x=0:(oe&&(oe[0]=Re),ue&&(ue[0]=x),x=1))}if(!x||(oe=oe[0],Be=Be[0],Te&&(ge[0]!=oe||Se[0]!=Be)))return 3;fe!=null&&(fe[0]=Ee,fe.offset=S-fe.w,e(4294967286>S-fe.w),e(fe.offset==fe.ha-P));break}return ke==0||ke==7&&Te&&fe==null?(ie!=null&&(ie[0]|=Ee.na!=null&&0<Ee.na.length),H!=null&&(H[0]=oe),Z!=null&&(Z[0]=Be),0):ke}function sp(x,S,P){var H=S.width,Z=S.height,ie=0,oe=0,ue=H,fe=Z;if(S.Da=x!=null&&0<x.Da,S.Da&&(ue=x.cd,fe=x.bd,ie=x.v,oe=x.j,11>P||(ie&=-2,oe&=-2),0>ie||0>oe||0>=ue||0>=fe||ie+ue>H||oe+fe>Z))return 0;if(S.v=ie,S.j=oe,S.va=ie+ue,S.o=oe+fe,S.U=ue,S.T=fe,S.da=x!=null&&0<x.da,S.da){if(!k(ue,fe,P=[x.ib],ie=[x.hb]))return 0;S.ib=P[0],S.hb=ie[0]}return S.ob=x!=null&&x.ob,S.Kb=x==null||!x.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*Z/4,S.Kb=0),1}function op(x){if(x==null)return 2;if(11>x.S){var S=x.f.RGBA;S.fb+=(x.height-1)*S.A,S.A=-S.A}else S=x.f.kb,x=x.height,S.O+=(x-1)*S.fa,S.fa=-S.fa,S.N+=(x-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(x-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(x-1)*S.lb,S.lb=-S.lb);return 0}function vd(x,S,P,H){if(H==null||0>=x||0>=S)return 2;if(P!=null){if(P.Da){var Z=P.cd,ie=P.bd,oe=-2&P.v,ue=-2&P.j;if(0>oe||0>ue||0>=Z||0>=ie||oe+Z>x||ue+ie>S)return 2;x=Z,S=ie}if(P.da){if(!k(x,S,Z=[P.ib],ie=[P.hb]))return 2;x=Z[0],S=ie[0]}}H.width=x,H.height=S;e:{var fe=H.width,ge=H.height;if(x=H.S,0>=fe||0>=ge||!(x>=L0&&13>x))x=2;else{if(0>=H.Rd&&H.sd==null){oe=ie=Z=S=0;var Se=(ue=fe*s4[x])*ge;if(11>x||(ie=(ge+1)/2*(S=(fe+1)/2),x==12&&(oe=(Z=fe)*ge)),(ge=s(Se+2*ie+oe))==null){x=1;break e}H.sd=ge,11>x?((fe=H.f.RGBA).eb=ge,fe.fb=0,fe.A=ue,fe.size=Se):((fe=H.f.kb).y=ge,fe.O=0,fe.fa=ue,fe.Fd=Se,fe.f=ge,fe.N=0+Se,fe.Ab=S,fe.Cd=ie,fe.ea=ge,fe.W=0+Se+ie,fe.Db=S,fe.Ed=ie,x==12&&(fe.F=ge,fe.J=0+Se+2*ie),fe.Tc=oe,fe.lb=Z)}if(S=1,Z=H.S,ie=H.width,oe=H.height,Z>=L0&&13>Z)if(11>Z)x=H.f.RGBA,S&=(ue=Math.abs(x.A))*(oe-1)+ie<=x.size,S&=ue>=ie*s4[Z],S&=x.eb!=null;else{x=H.f.kb,ue=(ie+1)/2,Se=(oe+1)/2,fe=Math.abs(x.fa),ge=Math.abs(x.Ab);var Te=Math.abs(x.Db),Pe=Math.abs(x.lb),Ee=Pe*(oe-1)+ie;S&=fe*(oe-1)+ie<=x.Fd,S&=ge*(Se-1)+ue<=x.Cd,S=(S&=Te*(Se-1)+ue<=x.Ed)&fe>=ie&ge>=ue&Te>=ue,S&=x.y!=null,S&=x.f!=null,S&=x.ea!=null,Z==12&&(S&=Pe>=ie,S&=Ee<=x.Tc,S&=x.F!=null)}else S=0;x=S?0:2}}return x!=0||P!=null&&P.fd&&(x=op(H)),x}var jr=64,wd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xd=24,bd=32,ap=8,Ti=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];le("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(x){return x},z.Predictor2=function(x,S,P){return S[P+0]},z.Predictor3=function(x,S,P){return S[P+1]},z.Predictor4=function(x,S,P){return S[P-1]},z.Predictor5=function(x,S,P){return he(he(x,S[P+1]),S[P+0])},z.Predictor6=function(x,S,P){return he(x,S[P-1])},z.Predictor7=function(x,S,P){return he(x,S[P+0])},z.Predictor8=function(x,S,P){return he(S[P-1],S[P+0])},z.Predictor9=function(x,S,P){return he(S[P+0],S[P+1])},z.Predictor10=function(x,S,P){return he(he(x,S[P-1]),he(S[P+0],S[P+1]))},z.Predictor11=function(x,S,P){var H=S[P+0];return 0>=je(H>>24&255,x>>24&255,(S=S[P-1])>>24&255)+je(H>>16&255,x>>16&255,S>>16&255)+je(H>>8&255,x>>8&255,S>>8&255)+je(255&H,255&x,255&S)?H:x},z.Predictor12=function(x,S,P){var H=S[P+0];return(Ne((x>>24&255)+(H>>24&255)-((S=S[P-1])>>24&255))<<24|Ne((x>>16&255)+(H>>16&255)-(S>>16&255))<<16|Ne((x>>8&255)+(H>>8&255)-(S>>8&255))<<8|Ne((255&x)+(255&H)-(255&S)))>>>0},z.Predictor13=function(x,S,P){var H=S[P-1];return(Le((x=he(x,S[P+0]))>>24&255,H>>24&255)<<24|Le(x>>16&255,H>>16&255)<<16|Le(x>>8&255,H>>8&255)<<8|Le(x>>0&255,H>>0&255))>>>0};var Ab=z.PredictorAdd0;z.PredictorAdd1=we,le("Predictor2","PredictorAdd2"),le("Predictor3","PredictorAdd3"),le("Predictor4","PredictorAdd4"),le("Predictor5","PredictorAdd5"),le("Predictor6","PredictorAdd6"),le("Predictor7","PredictorAdd7"),le("Predictor8","PredictorAdd8"),le("Predictor9","PredictorAdd9"),le("Predictor10","PredictorAdd10"),le("Predictor11","PredictorAdd11"),le("Predictor12","PredictorAdd12"),le("Predictor13","PredictorAdd13");var lp=z.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var E0,vs=z.ColorIndexInverseTransform,Sd=z.MapARGB,A0=z.VP8LColorIndexInverseTransformAlpha,C0=z.MapAlpha,il=z.VP8LPredictorsAdd=[];il.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var Mc,Pi,ui,sl,ma,ga,kd,ya,qn,cp,di,ws,_d,T0,up,Dc,Fc,ol,Bc,Nd,zc,al,dp,xs,bs,dn,fn,Wn,mr=s(511),va=s(2041),fp=s(225),Ed=s(767),P0=0,Cb=va,j0=fp,Gi=Ed,Ss=mr,L0=0,R0=1,GT=2,I0=3,O0=4,Tb=5,JT=6,Pb=7,jb=8,M0=9,Lb=10,aq=[2,3,7],lq=[3,3,11],YT=[280,256,256,256,40],cq=[0,1,1,1,0],uq=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dq=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fq=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hq=8,Rb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ib=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hp=null,pq=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mq=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],XT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gq=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yq=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vq=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wq=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ll=[],eo=[],wa=[],xq=1,QT=2,cl=[],ks=[];Oe("UpsampleRgbLinePair",Vt,3),Oe("UpsampleBgrLinePair",En,3),Oe("UpsampleRgbaLinePair",Zs,4),Oe("UpsampleBgraLinePair",wr,4),Oe("UpsampleArgbLinePair",$r,4),Oe("UpsampleRgba4444LinePair",rr,2),Oe("UpsampleRgb565LinePair",In,2);var bq=z.UpsampleRgbLinePair,Sq=z.UpsampleBgrLinePair,ZT=z.UpsampleRgbaLinePair,e4=z.UpsampleBgraLinePair,t4=z.UpsampleArgbLinePair,n4=z.UpsampleRgba4444LinePair,kq=z.UpsampleRgb565LinePair,D0=16,F0=1<<D0-1,pp=-227,Ob=482,_q=6,r4=0,Nq=s(256),Eq=s(256),Aq=s(256),Cq=s(256),Tq=s(Ob-pp),Pq=s(Ob-pp);Oo("YuvToRgbRow",Vt,3),Oo("YuvToBgrRow",En,3),Oo("YuvToRgbaRow",Zs,4),Oo("YuvToBgraRow",wr,4),Oo("YuvToArgbRow",$r,4),Oo("YuvToRgba4444Row",rr,2),Oo("YuvToRgb565Row",In,2);var i4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],B0=[0,2,8],jq=[8,7,6,4,4,2,2,2,1,1,1,1],Lq=1;this.WebPDecodeRGBA=function(x,S,P,H,Z){var ie=R0,oe=new md,ue=new Ei;oe.ba=ue,ue.S=ie,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,ge=ue.height,Se=new ci;if(Se==null||x==null)var Te=2;else e(Se!=null),Te=yd(x,S,P,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Te!=0?fe=0:(fe!=null&&(fe[0]=Se.width[0]),ge!=null&&(ge[0]=Se.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],H!=null&&(H[0]=ue.width),Z!=null&&(Z[0]=ue.height);e:{if(H=new ld,(Z=new Zh).data=x,Z.w=S,Z.ha=P,Z.kd=1,S=[0],e(Z!=null),((x=yd(Z.data,Z.w,Z.ha,null,null,null,S,null,Z))==0||x==7)&&S[0]&&(x=4),(S=x)==0){if(e(oe!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=Co,H.ac=Pr,H.bc=To,H.ma=oe,Z.xa){if((x=ys())==null){oe=1;break e}if(function(Pe,Ee){var Be=[0],Re=[0],ke=[0];t:for(;;){if(Pe==null)return 0;if(Ee==null)return Pe.a=2,0;if(Pe.l=Ee,Pe.a=0,K(Pe.m,Ee.data,Ee.w,Ee.ha),!gt(Pe.m,Be,Re,ke)){Pe.a=3;break t}if(Pe.xb=QT,Ee.width=Be[0],Ee.height=Re[0],!Lo(Be[0],Re[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(x,H)){if(H=(S=vd(H.width,H.height,oe.Oa,oe.ba))==0){t:{H=x;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((P=H.l)!=null),e((Z=P.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,e(H.ca!=null),!sp(Z.Oa,P,I0)){H.a=2;break n}if(!jc(H,P.width)||P.da)break n;if((P.da||jt(H.ca.S))&&Ce(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ce()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!U(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Ys(H,H.V,H.Ba,H.c,H.i,P.o,nd))break n;Z.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(S=x.a)}else S=x.a}else{if((x=new lb)==null){oe=1;break e}if(x.Fa=Z.na,x.P=Z.P,x.qc=Z.Sa,u0(x,H)){if((S=vd(H.width,H.height,oe.Oa,oe.ba))==0){if(x.Aa=0,P=oe.Oa,e((Z=x)!=null),P!=null){if(0<(fe=0>(fe=P.Md)?0:100<fe?255:255*fe/100)){for(ge=Se=0;4>ge;++ge)12>(Te=Z.pb[ge]).lc&&(Te.ia=fe*jq[0>Te.lc?0:Te.lc]>>3),Se|=Te.ia;Se&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=P.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}cb(x,H)||(S=x.a)}}else S=x.a}S==0&&oe.Oa!=null&&oe.Oa.fd&&(S=op(oe.ba))}oe=S}ie=oe!=0?null:11>ie?ue.f.RGBA.eb:ue.f.kb.y}else ie=null;return ie};var s4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(z,F){for(var G="",W=0;W<4;W++)G+=String.fromCharCode(z[F++]);return G}function u(z,F){return(z[F+0]<<0|z[F+1]<<8|z[F+2]<<16)>>>0}function d(z,F){return(z[F+0]<<0|z[F+1]<<8|z[F+2]<<16|z[F+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],g=new l,v=t,y=function(z,F){var G={},W=0,L=!1,V=0,E=0;if(G.frames=[],!function(R,J,ae,Q){for(var O=0;O<Q;O++)if(R[J+O]!=ae.charCodeAt(O))return!0;return!1}(z,F,"RIFF",4)){var te,pe;for(d(z,F+=4),F+=8;F<z.length;){var re=c(z,F),K=d(z,F+=4);F+=4;var Y=K+(1&K);switch(re){case"VP8 ":case"VP8L":G.frames[W]===void 0&&(G.frames[W]={}),(T=G.frames[W]).src_off=L?E:F-8,T.src_size=V+K+8,W++,L&&(L=!1,V=0,E=0);break;case"VP8X":(T=G.header={}).feature_flags=z[F];var q=F+4;T.canvas_width=1+u(z,q),q+=3,T.canvas_height=1+u(z,q),q+=3;break;case"ALPH":L=!0,V=Y+8,E=F-8;break;case"ANIM":(T=G.header).bgcolor=d(z,F),q=F+4,T.loop_count=(te=z)[(pe=q)+0]<<0|te[pe+1]<<8,q+=2;break;case"ANMF":var de,T;(T=G.frames[W]={}).offset_x=2*u(z,F),F+=3,T.offset_y=2*u(z,F),F+=3,T.width=1+u(z,F),F+=3,T.height=1+u(z,F),F+=3,T.duration=u(z,F),F+=3,de=z[F++],T.dispose=1&de,T.blend=de>>1&1}re!="ANMF"&&(F+=Y)}return G}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],f=[w.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var C=b[0],M=g.WebPDecodeRGBA(v,C.src_off,C.src_size,f,h);C.rgba=M,C.imgwidth=f[0],C.imgheight=h[0];for(var B=0;B<f[0]*h[0]*4;B++)m[B]=M[B];return this.width=f,this.height=h,this.data=m,this}(function(t){var e=function(){return typeof V_=="function"},n=function(h,f,m,g){var v=4,y=o;switch(g){case t.image_compression.FAST:v=1,y=s;break;case t.image_compression.MEDIUM:v=6,y=a;break;case t.image_compression.SLOW:v=9,y=l}h=r(h,f,m,y);var w=V_(h,{level:v});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(h,f,m,g){for(var v,y,w,b=h.length/f,N=new Uint8Array(h.length+b),C=u(),M=0;M<b;M+=1){if(w=M*f,v=h.subarray(w,w+f),g)N.set(g(v,m,y),w+M);else{for(var B,z=C.length,F=[];B<z;B+=1)F[B]=C[B](v,m,y);var G=d(F.concat());N.set(F[G],w+M)}y=v}return N},i=function(h){var f=Array.apply([],h);return f.unshift(0),f},s=function(h,f){var m,g=[],v=h.length;g[0]=1;for(var y=0;y<v;y+=1)m=h[y-f]||0,g[y+1]=h[y]-m+256&255;return g},o=function(h,f,m){var g,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)g=m&&m[w]||0,v[w+1]=h[w]-g+256&255;return v},a=function(h,f,m){var g,v,y=[],w=h.length;y[0]=3;for(var b=0;b<w;b+=1)g=h[b-f]||0,v=m&&m[b]||0,y[b+1]=h[b]+256-(g+v>>>1)&255;return y},l=function(h,f,m){var g,v,y,w,b=[],N=h.length;b[0]=4;for(var C=0;C<N;C+=1)g=h[C-f]||0,v=m&&m[C]||0,y=m&&m[C-f]||0,w=c(g,v,y),b[C+1]=h[C]-w+256&255;return b},c=function(h,f,m){if(h===f&&f===m)return h;var g=Math.abs(f-m),v=Math.abs(h-m),y=Math.abs(h+f-m-m);return g<=v&&g<=y?h:v<=y?f:m},u=function(){return[i,s,o,a,l]},d=function(h){var f=h.map(function(m){return m.reduce(function(g,v){return g+Math.abs(v)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(h,f,m,g){var v,y,w,b,N,C,M,B,z,F,G,W,L,V,E,te=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new Gue(h)).imgData,y=w.bits,v=w.colorSpace,N=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){z=(B=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,G=new Uint8Array(z*w.colors),F=new Uint8Array(z);var re,K=w.pixelBitlength-w.bits;for(V=0,E=0;V<z;V++){for(L=B[V],re=0;re<K;)G[E++]=L>>>re&255,re+=w.bits;F[V]=L>>>re&255}}if(w.bits===16){z=(B=new Uint32Array(w.decodePixels().buffer)).length,G=new Uint8Array(z*(32/w.pixelBitlength)*w.colors),F=new Uint8Array(z*(32/w.pixelBitlength)),W=w.colors>1,V=0,E=0;for(var Y=0;V<z;)L=B[V++],G[E++]=L>>>0&255,W&&(G[E++]=L>>>16&255,L=B[V++],G[E++]=L>>>0&255),F[Y++]=L>>>16&255;y=8}g!==t.image_compression.NONE&&e()?(h=n(G,w.width*w.colors,w.colors,g),M=n(F,w.width,1,g)):(h=G,M=F,te=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,C=w.palette,w.transparency.indexed)){var q=w.transparency.indexed,de=0;for(V=0,z=q.length;V<z;++V)de+=q[V];if((de/=255)===z-1&&q.indexOf(0)!==-1)b=[q.indexOf(0)];else if(de!==z){for(B=w.decodePixels(),F=new Uint8Array(B.length),V=0,z=B.length;V<z;V++)F[V]=q[B[V]];M=n(F,w.width,1)}}var T=function(R){var J;switch(R){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(g);return te===this.decode.FLATE_DECODE&&(pe="/Predictor "+T+" "),pe+="/Colors "+N+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:m,data:h,index:f,filter:te,decodeParameters:pe,transparency:b,palette:C,sMask:M,predictor:T,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(vt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new Jue(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new u5(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(vt.API),io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},io.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ln.log("bit decode error:"+n)}},io.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},io.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},io.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},io.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},io.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},io.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},io.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},io.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new io(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new u5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(vt.API),J6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new J6(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new u5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(vt.API),vt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],h=r[c+2],f=r[c+3];s[a++]=u,s[a++]=d,s[a++]=h,o[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Bd=vt.API,Ry=Bd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,f=t.length,m=0,g=a[0]||l,v=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=d&&tn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,v.push((a[r]||g)/l+h)),m=r;return v},q6=Bd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Bd.processArabic&&(t=Bd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Ry.apply(this,arguments).reduce(function(s,o){return s+o},0)},W6=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},K6=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],d=[u],h=n.textIndent||0,f=0,m=0,g=t.split(" "),v=Ry.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),w=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(C,M){return(M&&C.length?`
`:"")+C})):w.push(N[0])}),g=w,l=q6.apply(this,[y,n])}for(s=0,o=g.length;s<o;s++){var b=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),b=1),h+f+(m=(i=Ry.apply(this,[r,n])).reduce(function(N,C){return N+C},0))>e||b){if(m>e){for(a=W6.apply(this,[r,i,e-(h+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(N,C){return N+C},0)}else u=[r];d.push(u),h=m+l,f=v}else u.push(r),h+=f+m,f=v}return c=l?function(N,C){return(C?y:"")+N.join(" ")}:function(N){return N.join(" ")},d.map(c)},Bd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(K6.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var h,f,m,g,v=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),g="-"):(m=s(h).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(tn(h)!=="object")throw new Error("Don't know what to do with value type "+tn(h)+".");m=o(h)}v.push(f+m)}return v.push("}"),v.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,m,g,v={},y=1,w=v,b=[],N="",C="",M=d.length-1,B=1;B<M;B+=1)(g=d[B])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([w,m]),w={},m=void 0):g=="}"?((f=b.pop())[0][f[1]]=w,m=void 0,w=f[0]):g=="-"?y=-1:m===void 0?n.hasOwnProperty(g)?(N+=n[g],m=parseInt(N,16)*y,y=1,N=""):N+=g:n.hasOwnProperty(g)?(C+=n[g],w[m]=parseInt(C,16)*y,y=1,m=void 0,C=""):C+=g;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(vt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(xm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(vt),function(t){function e(){return(wt.canvg?Promise.resolve(wt.canvg):Bs(()=>import("./index.es-C0Ih2R9L.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}vt.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(d,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),vt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},vt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function h(m,g){var v,y=!1;for(v=0;v<m.length;v+=1)m[v]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(tn(t)==="object"){for(i in t)if(s=t[i],h(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&h(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(vt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(a=Object.keys(s).sort(function(f,m){return f-m})).length;d<h;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ef(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ef(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+ef(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ef(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ef(a.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,m=d.fonts,g=f,v="",y=0,w="",b=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(w=a,g=f,Array.isArray(a)&&(w=a[0]),y=0;y<w.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var N="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?N=h(v,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(N=n(v,m[g])),d.isHex=!0,{text:N,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(vt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var N=function(W){var L=W.charCodeAt(),V=L>>8,E=g[V];return E!==void 0?d[256*E+(255&L)]:V===252||V===253?"AL":y.test(V)?"L":V===8?"R":"N"},C=function(W){for(var L,V=0;V<W.length;V++){if((L=N(W.charAt(V)))==="L")return!1;if(L==="R")return!0}return!1},M=function(W,L,V,E){var te,pe,re,K,Y=L[E];switch(Y){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Y="AN");break;case"AL":w=!0,Y="R";break;case"WS":Y="N";break;case"CS":E<1||E+1>=L.length||(te=V[E-1])!=="EN"&&te!=="AN"||(pe=L[E+1])!=="EN"&&pe!=="AN"?Y="N":w&&(pe="AN"),Y=pe===te?pe:"N";break;case"ES":Y=(te=E>0?V[E-1]:"B")==="EN"&&E+1<L.length&&L[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&V[E-1]==="EN"){Y="EN";break}if(w){Y="N";break}for(re=E+1,K=L.length;re<K&&L[re]==="ET";)re++;Y=re<K&&L[re]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(K=L.length,re=E+1;re<K&&L[re]==="NSM";)re++;if(re<K){var q=W[E],de=q>=1425&&q<=2303||q===64286;if(te=L[re],de&&(te==="R"||te==="AL")){Y="R";break}}}Y=E<1||(te=L[E-1])==="B"?"N":V[E-1];break;case"B":w=!1,i=!0,Y=b;break;case"S":s=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Y="N"}return Y},B=function(W,L,V){var E=W.split("");return V&&z(E,V,{hiLevel:b}),E.reverse(),L&&L.reverse(),E.join("")},z=function(W,L,V){var E,te,pe,re,K,Y=-1,q=W.length,de=0,T=[],R=b?f:h,J=[];for(w=!1,i=!1,s=!1,te=0;te<q;te++)J[te]=N(W[te]);for(pe=0;pe<q;pe++){if(K=de,T[pe]=M(W,J,T,pe),E=240&(de=R[K][m[T[pe]]]),de&=15,L[pe]=re=R[de][5],E>0)if(E===16){for(te=Y;te<pe;te++)L[te]=1;Y=-1}else Y=-1;if(R[de][6])Y===-1&&(Y=pe);else if(Y>-1){for(te=Y;te<pe;te++)L[te]=re;Y=-1}J[pe]==="B"&&(L[pe]=0),V.hiLevel|=re}s&&function(ae,Q,O){for(var I=0;I<O;I++)if(ae[I]==="S"){Q[I]=b;for(var ne=I-1;ne>=0&&ae[ne]==="WS";ne--)Q[ne]=b}}(J,L,q)},F=function(W,L,V,E,te){if(!(te.hiLevel<W)){if(W===1&&b===1&&!i)return L.reverse(),void(V&&V.reverse());for(var pe,re,K,Y,q=L.length,de=0;de<q;){if(E[de]>=W){for(K=de+1;K<q&&E[K]>=W;)K++;for(Y=de,re=K-1;Y<re;Y++,re--)pe=L[Y],L[Y]=L[re],L[re]=pe,V&&(pe=V[Y],V[Y]=V[re],V[re]=pe);de=K}de++}}},G=function(W,L,V){var E=W.split(""),te={hiLevel:b};return V||(V=[]),z(E,V,te),function(pe,re,K){if(K.hiLevel!==0&&u)for(var Y,q=0;q<pe.length;q++)re[q]===1&&(Y=v.indexOf(pe[q]))>=0&&(pe[q]=v[Y+1])}(E,V,te),F(2,E,L,V,te),F(1,E,L,V,te),E.join("")};return this.__bidiEngine__.doBidiReorder=function(W,L,V){if(function(te,pe){if(pe)for(var re=0;re<te.length;re++)pe[re]=re;a===void 0&&(a=C(te)),c===void 0&&(c=C(te))}(W,L),o||!l||c)if(o&&l&&a^c)b=a?1:0,W=B(W,L,V);else if(!o&&l&&c)b=a?1:0,W=G(W,L,V),W=B(W,L);else if(!o||a||l||c){if(o&&!l&&a^c)W=B(W,L),a?(b=0,W=G(W,L,V)):(b=1,W=G(W,L,V),W=B(W,L));else if(o&&a&&!l&&c)b=1,W=G(W,L,V),W=B(W,L);else if(!o&&!l&&a^c){var E=u;a?(b=1,W=G(W,L,V),b=0,u=!1,W=G(W,L,V),u=E):(b=0,W=G(W,L,V),W=B(W,L),b=1,u=!1,W=G(W,L,V),u=E,W=B(W,L))}}else b=0,W=G(W,L,V);else b=a?1:0,W=G(W,L,V);return W},this.__bidiEngine__.setOptions=function(W){W&&(o=W.isInputVisual,l=W.isOutputVisual,a=W.isInputRtl,c=W.isOutputRtl,u=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new dc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ude(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Yue(this.contents),this.head=new Que(this),this.name=new rde(this),this.cmap=new vz(this),this.toUnicode={},this.hhea=new Zue(this),this.maxp=new ide(this),this.hmtx=new sde(this),this.post=new tde(this),this.os2=new ede(this),this.loca=new cde(this),this.glyf=new ode(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ao,dc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Yue=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,d,h,f,m,g;for(g in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(i=new dc).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,m=[],n)for(h=n[g],i.writeString(g),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),m=m.concat(h),g==="head"&&(a=c),c+=h.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=wz.call(n);n.length%4;)n.push(0);for(s=new dc(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Xue={}.hasOwnProperty,ca=function(t,e){for(var n in e)Xue.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ao=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Que=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new dc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Y6=function(){function t(e,n){var r,i,s,o,a,l,c,u,d,h,f,m,g,v,y,w,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var N,C;for(C=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)C.push(e.readUInt16());return C}(),e.pos+=2,g=function(){var N,C;for(C=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)C.push(e.readUInt16());return C}(),c=function(){var N,C;for(C=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)C.push(e.readUInt16());return C}(),u=function(){var N,C;for(C=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,a=function(){var N,C;for(C=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)C.push(e.readUInt16());return C}(),l=y=0,b=s.length;y<b;l=++y)for(v=s[l],r=w=m=g[l];m<=v?w<=v:w>=v;r=m<=v?++w:--w)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-m)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,d,h,f,m,g,v,y,w,b,N,C,M,B,z,F,G,W,L,V,E,te,pe,re,K,Y,q,de,T,R,J,ae,Q,O,I,ne,ce,X,se;switch(E=new dc,o=Object.keys(e).sort(function(xe,U){return xe-U}),n){case"macroman":for(g=0,v=function(){var xe=[];for(m=0;m<256;++m)xe.push(0);return xe}(),w={0:0},s={},te=0,Y=o.length;te<Y;te++)w[ne=e[i=o[te]]]==null&&(w[ne]=++g),s[i]={old:e[i],new:w[e[i]]},v[i]=w[e[i]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(v),{charMap:s,subtable:E.data,maxGlyphID:g+1};case"unicode":for(L=[],d=[],b=0,w={},r={},y=c=null,pe=0,q=o.length;pe<q;pe++)w[C=e[i=o[pe]]]==null&&(w[C]=++b),r[i]={old:C,new:w[C]},a=w[C]-i,y!=null&&a===c||(y&&d.push(y),L.push(i),c=a),y=i;for(y&&d.push(y),d.push(65535),L.push(65535),G=2*(F=L.length),z=2*Math.pow(Math.log(F)/Math.LN2,2),h=Math.log(z/2)/Math.LN2,B=2*F-z,l=[],M=[],f=[],m=re=0,de=L.length;re<de;m=++re){if(W=L[m],u=d[m],W===65535){l.push(0),M.push(0);break}if(W-(V=r[W].new)>=32768)for(l.push(0),M.push(2*(f.length+F-m)),i=K=W;W<=u?K<=u:K>=u;i=W<=u?++K:--K)f.push(r[i].new);else l.push(V-W),M.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*F+2*f.length),E.writeUInt16(0),E.writeUInt16(G),E.writeUInt16(z),E.writeUInt16(h),E.writeUInt16(B),O=0,T=d.length;O<T;O++)i=d[O],E.writeUInt16(i);for(E.writeUInt16(0),I=0,R=L.length;I<R;I++)i=L[I],E.writeUInt16(i);for(ce=0,J=l.length;ce<J;ce++)a=l[ce],E.writeUInt16(a);for(X=0,ae=M.length;X<ae;X++)N=M[X],E.writeUInt16(N);for(se=0,Q=f.length;se<Q;se++)g=f[se],E.writeUInt16(g);return{charMap:r,subtable:E.data,maxGlyphID:b+1}}},t}(),vz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Y6(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Y6.encode(n,r),(s=new dc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Zue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),ede=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),tde=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),nde=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rde=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,u,d,h,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,h=i.length;d<h;o=++d)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new nde(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),ide=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),sde=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)o=h[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),wz=[].slice,ode=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,u,d,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new dc(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new lde(l,u,h,c,d):new ade(l,a,u,h,c,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),ade=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),lde=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new dc(wz.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),cde=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ao),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),ude=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,d,h,f,m,g,v,y;for(i in r=vz.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},y=r.charMap)f[(l=y[i]).old]=l.new;for(m in h=r.maxGlyphID,o)m in f||(f[m]=h++);return u=function(w){var b,N;for(b in N={},w)N[w[b]]=b;return N}(f),d=Object.keys(u).sort(function(w,b){return w-b}),g=function(){var w,b,N;for(N=[],w=0,b=d.length;w<b;w++)a=d[w],N.push(u[a]);return N}(),s=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(s.offsets,g),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();vt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();var dde=Object.defineProperty,fde=Object.defineProperties,hde=Object.getOwnPropertyDescriptors,X6=Object.getOwnPropertySymbols,pde=Object.prototype.hasOwnProperty,mde=Object.prototype.propertyIsEnumerable,Y_=(t,e,n)=>e in t?dde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gt=(t,e)=>{for(var n in e||(e={}))pde.call(e,n)&&Y_(t,n,e[n]);if(X6)for(var n of X6(e))mde.call(e,n)&&Y_(t,n,e[n]);return t},fg=(t,e)=>fde(t,hde(e)),ze=(t,e,n)=>(Y_(t,typeof e!="symbol"?e+"":e,n),n),Iy=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});class F1{constructor(e){ze(this,"rootKey"),this.rootKey=e}}const gde=Object.seal({});class $e extends F1{constructor(e){super(e),ze(this,"root"),this.root=new Array}prepForXml(e){var n;e.stack.push(this);const r=this.root.map(i=>i instanceof F1?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((n=r[0])!=null&&n._attr)?r[0]:r:gde}}addChildElement(e){return this.root.push(e),this}}class kx extends $e{prepForXml(e){const n=super.prepForXml(e);if(n&&(typeof n[this.rootKey]!="object"||Object.keys(n[this.rootKey]).length))return n}}class St extends F1{constructor(e){super("_attr"),ze(this,"xmlKeys"),this.root=e}prepForXml(e){const n={};return Object.keys(this.root).forEach(r=>{const i=this.root[r];if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[r]||r;n[s]=i}}),{_attr:n}}}class Gg extends F1{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:s})=>fg(Gt({},r),{[i]:s}),{})}}}class Zn extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bz={},yC={exports:{}},Ff=typeof Reflect=="object"?Reflect:null,Q6=Ff&&typeof Ff.apply=="function"?Ff.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Iv;Ff&&typeof Ff.ownKeys=="function"?Iv=Ff.ownKeys:Object.getOwnPropertySymbols?Iv=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Iv=function(e){return Object.getOwnPropertyNames(e)};function yde(t){console&&console.warn&&console.warn(t)}var Sz=Number.isNaN||function(e){return e!==e};function sn(){sn.init.call(this)}yC.exports=sn;yC.exports.once=bde;sn.EventEmitter=sn;sn.prototype._events=void 0;sn.prototype._eventsCount=0;sn.prototype._maxListeners=void 0;var Z6=10;function _x(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(sn,"defaultMaxListeners",{enumerable:!0,get:function(){return Z6},set:function(t){if(typeof t!="number"||t<0||Sz(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Z6=t}});sn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};sn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Sz(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function kz(t){return t._maxListeners===void 0?sn.defaultMaxListeners:t._maxListeners}sn.prototype.getMaxListeners=function(){return kz(this)};sn.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Q6(l,this,n);else for(var c=l.length,u=Cz(l,c),r=0;r<c;++r)Q6(u[r],this,n);return!0};function _z(t,e,n,r){var i,s,o;if(_x(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=kz(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,yde(a)}return t}sn.prototype.addListener=function(e,n){return _z(this,e,n,!1)};sn.prototype.on=sn.prototype.addListener;sn.prototype.prependListener=function(e,n){return _z(this,e,n,!0)};function vde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nz(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=vde.bind(r);return i.listener=n,r.wrapFn=i,i}sn.prototype.once=function(e,n){return _x(n),this.on(e,Nz(this,e,n)),this};sn.prototype.prependOnceListener=function(e,n){return _x(n),this.prependListener(e,Nz(this,e,n)),this};sn.prototype.removeListener=function(e,n){var r,i,s,o,a;if(_x(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():wde(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};sn.prototype.off=sn.prototype.removeListener;sn.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function Ez(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?xde(i):Cz(i,i.length)}sn.prototype.listeners=function(e){return Ez(this,e,!0)};sn.prototype.rawListeners=function(e){return Ez(this,e,!1)};sn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Az.call(t,e)};sn.prototype.listenerCount=Az;function Az(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}sn.prototype.eventNames=function(){return this._eventsCount>0?Iv(this._events):[]};function Cz(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function wde(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function xde(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function bde(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}Tz(t,e,s,{once:!0}),e!=="error"&&Sde(t,i,{once:!0})})}function Sde(t,e,n){typeof t.on=="function"&&Tz(t,"error",e,n)}function Tz(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var vC=yC.exports,X_={exports:{}};typeof Object.create=="function"?X_.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:X_.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Ju=X_.exports;function kde(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pz={exports:{}},er=Pz.exports={},qo,Wo;function Q_(){throw new Error("setTimeout has not been defined")}function Z_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?qo=setTimeout:qo=Q_}catch{qo=Q_}try{typeof clearTimeout=="function"?Wo=clearTimeout:Wo=Z_}catch{Wo=Z_}})();function jz(t){if(qo===setTimeout)return setTimeout(t,0);if((qo===Q_||!qo)&&setTimeout)return qo=setTimeout,setTimeout(t,0);try{return qo(t,0)}catch{try{return qo.call(null,t,0)}catch{return qo.call(this,t,0)}}}function _de(t){if(Wo===clearTimeout)return clearTimeout(t);if((Wo===Z_||!Wo)&&clearTimeout)return Wo=clearTimeout,clearTimeout(t);try{return Wo(t)}catch{try{return Wo.call(null,t)}catch{return Wo.call(this,t)}}}var Ma=[],Bf=!1,fu,Ov=-1;function Nde(){!Bf||!fu||(Bf=!1,fu.length?Ma=fu.concat(Ma):Ov=-1,Ma.length&&Lz())}function Lz(){if(!Bf){var t=jz(Nde);Bf=!0;for(var e=Ma.length;e;){for(fu=Ma,Ma=[];++Ov<e;)fu&&fu[Ov].run();Ov=-1,e=Ma.length}fu=null,Bf=!1,_de(t)}}er.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ma.push(new Rz(t,e)),Ma.length===1&&!Bf&&jz(Lz)};function Rz(t,e){this.fun=t,this.array=e}Rz.prototype.run=function(){this.fun.apply(null,this.array)};er.title="browser";er.browser=!0;er.env={};er.argv=[];er.version="";er.versions={};function Za(){}er.on=Za;er.addListener=Za;er.once=Za;er.off=Za;er.removeListener=Za;er.removeAllListeners=Za;er.emit=Za;er.prependListener=Za;er.prependOnceListener=Za;er.listeners=function(t){return[]};er.binding=function(t){throw new Error("process.binding is not supported")};er.cwd=function(){return"/"};er.chdir=function(t){throw new Error("process.chdir is not supported")};er.umask=function(){return 0};var Ede=Pz.exports;const Ft=kde(Ede);var d5,eL;function Iz(){return eL||(eL=1,d5=vC.EventEmitter),d5}var f5={},Lp={},tL;function Ade(){if(tL)return Lp;tL=1,Lp.byteLength=a,Lp.toByteArray=c,Lp.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(f){var m=f.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");g===-1&&(g=m);var v=g===m?0:4-g%4;return[g,v]}function a(f){var m=o(f),g=m[0],v=m[1];return(g+v)*3/4-v}function l(f,m,g){return(m+g)*3/4-g}function c(f){var m,g=o(f),v=g[0],y=g[1],w=new n(l(f,v,y)),b=0,N=y>0?v-4:v,C;for(C=0;C<N;C+=4)m=e[f.charCodeAt(C)]<<18|e[f.charCodeAt(C+1)]<<12|e[f.charCodeAt(C+2)]<<6|e[f.charCodeAt(C+3)],w[b++]=m>>16&255,w[b++]=m>>8&255,w[b++]=m&255;return y===2&&(m=e[f.charCodeAt(C)]<<2|e[f.charCodeAt(C+1)]>>4,w[b++]=m&255),y===1&&(m=e[f.charCodeAt(C)]<<10|e[f.charCodeAt(C+1)]<<4|e[f.charCodeAt(C+2)]>>2,w[b++]=m>>8&255,w[b++]=m&255),w}function u(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function d(f,m,g){for(var v,y=[],w=m;w<g;w+=3)v=(f[w]<<16&16711680)+(f[w+1]<<8&65280)+(f[w+2]&255),y.push(u(v));return y.join("")}function h(f){for(var m,g=f.length,v=g%3,y=[],w=16383,b=0,N=g-v;b<N;b+=w)y.push(d(f,b,b+w>N?N:b+w));return v===1?(m=f[g-1],y.push(t[m>>2]+t[m<<4&63]+"==")):v===2&&(m=(f[g-2]<<8)+f[g-1],y.push(t[m>>10]+t[m>>4&63]+t[m<<2&63]+"=")),y.join("")}return Lp}var Oy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var nL;function Cde(){return nL||(nL=1,Oy.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=s*256+t[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(f?-1:1)*o*Math.pow(2,s-r)},Oy.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,m=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=a&255,f+=m,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+f]=o&255,f+=m,o/=256,c-=8);t[n+f-m]|=g*128}),Oy}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var rL;function Nx(){return rL||(rL=1,function(t){var e=Ade(),n=Cde(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var j=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(j,k),j.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(j){if(j>i)throw new RangeError('The value "'+j+'" is invalid for option "size"');var k=new Uint8Array(j);return Object.setPrototypeOf(k,a.prototype),k}function a(j,k,_){if(typeof j=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(j)}return l(j,k,_)}a.poolSize=8192;function l(j,k,_){if(typeof j=="string")return h(j,k);if(ArrayBuffer.isView(j))return m(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(xe(j,ArrayBuffer)||j&&xe(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(j,SharedArrayBuffer)||j&&xe(j.buffer,SharedArrayBuffer)))return g(j,k,_);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var D=j.valueOf&&j.valueOf();if(D!=null&&D!==j)return a.from(D,k,_);var le=v(j);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return a.from(j[Symbol.toPrimitive]("string"),k,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}a.from=function(j,k,_){return l(j,k,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function u(j,k,_){return c(j),j<=0?o(j):k!==void 0?typeof _=="string"?o(j).fill(k,_):o(j).fill(k):o(j)}a.alloc=function(j,k,_){return u(j,k,_)};function d(j){return c(j),o(j<0?0:y(j)|0)}a.allocUnsafe=function(j){return d(j)},a.allocUnsafeSlow=function(j){return d(j)};function h(j,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var _=b(j,k)|0,D=o(_),le=D.write(j,k);return le!==_&&(D=D.slice(0,le)),D}function f(j){for(var k=j.length<0?0:y(j.length)|0,_=o(k),D=0;D<k;D+=1)_[D]=j[D]&255;return _}function m(j){if(xe(j,Uint8Array)){var k=new Uint8Array(j);return g(k.buffer,k.byteOffset,k.byteLength)}return f(j)}function g(j,k,_){if(k<0||j.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<k+(_||0))throw new RangeError('"length" is outside of buffer bounds');var D;return k===void 0&&_===void 0?D=new Uint8Array(j):_===void 0?D=new Uint8Array(j,k):D=new Uint8Array(j,k,_),Object.setPrototypeOf(D,a.prototype),D}function v(j){if(a.isBuffer(j)){var k=y(j.length)|0,_=o(k);return _.length===0||j.copy(_,0,0,k),_}if(j.length!==void 0)return typeof j.length!="number"||U(j.length)?o(0):f(j);if(j.type==="Buffer"&&Array.isArray(j.data))return f(j.data)}function y(j){if(j>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return j|0}function w(j){return+j!=j&&(j=0),a.alloc(+j)}a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,_){if(xe(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),xe(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(k)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===_)return 0;for(var D=k.length,le=_.length,ye=0,he=Math.min(D,le);ye<he;++ye)if(k[ye]!==_[ye]){D=k[ye],le=_[ye];break}return D<le?-1:le<D?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,_){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);var D;if(_===void 0)for(_=0,D=0;D<k.length;++D)_+=k[D].length;var le=a.allocUnsafe(_),ye=0;for(D=0;D<k.length;++D){var he=k[D];if(xe(he,Uint8Array))ye+he.length>le.length?a.from(he).copy(le,ye):Uint8Array.prototype.set.call(le,he,ye);else if(a.isBuffer(he))he.copy(le,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=he.length}return le};function b(j,k){if(a.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||xe(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);var _=j.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&_===0)return 0;for(var le=!1;;)switch(k){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return I(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return X(j).length;default:if(le)return D?-1:I(j).length;k=(""+k).toLowerCase(),le=!0}}a.byteLength=b;function N(j,k,_){var D=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,k>>>=0,_<=k))return"";for(j||(j="utf8");;)switch(j){case"hex":return Y(this,k,_);case"utf8":case"utf-8":return E(this,k,_);case"ascii":return re(this,k,_);case"latin1":case"binary":return K(this,k,_);case"base64":return V(this,k,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,k,_);default:if(D)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function C(j,k,_){var D=j[k];j[k]=j[_],j[_]=D}a.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<k;_+=2)C(this,_,_+1);return this},a.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<k;_+=4)C(this,_,_+3),C(this,_+1,_+2);return this},a.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<k;_+=8)C(this,_,_+7),C(this,_+1,_+6),C(this,_+2,_+5),C(this,_+3,_+4);return this},a.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?E(this,0,k):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:a.compare(this,k)===0},a.prototype.inspect=function(){var k="",_=t.INSPECT_MAX_BYTES;return k=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(k+=" ... "),"<Buffer "+k+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(k,_,D,le,ye){if(xe(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(_===void 0&&(_=0),D===void 0&&(D=k?k.length:0),le===void 0&&(le=0),ye===void 0&&(ye=this.length),_<0||D>k.length||le<0||ye>this.length)throw new RangeError("out of range index");if(le>=ye&&_>=D)return 0;if(le>=ye)return-1;if(_>=D)return 1;if(_>>>=0,D>>>=0,le>>>=0,ye>>>=0,this===k)return 0;for(var he=ye-le,Ne=D-_,Le=Math.min(he,Ne),je=this.slice(le,ye),we=k.slice(_,D),Ae=0;Ae<Le;++Ae)if(je[Ae]!==we[Ae]){he=je[Ae],Ne=we[Ae];break}return he<Ne?-1:Ne<he?1:0};function M(j,k,_,D,le){if(j.length===0)return-1;if(typeof _=="string"?(D=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,U(_)&&(_=le?0:j.length-1),_<0&&(_=j.length+_),_>=j.length){if(le)return-1;_=j.length-1}else if(_<0)if(le)_=0;else return-1;if(typeof k=="string"&&(k=a.from(k,D)),a.isBuffer(k))return k.length===0?-1:B(j,k,_,D,le);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(j,k,_):Uint8Array.prototype.lastIndexOf.call(j,k,_):B(j,[k],_,D,le);throw new TypeError("val must be string, number or Buffer")}function B(j,k,_,D,le){var ye=1,he=j.length,Ne=k.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(j.length<2||k.length<2)return-1;ye=2,he/=2,Ne/=2,_/=2}function Le(qe,Ze){return ye===1?qe[Ze]:qe.readUInt16BE(Ze*ye)}var je;if(le){var we=-1;for(je=_;je<he;je++)if(Le(j,je)===Le(k,we===-1?0:je-we)){if(we===-1&&(we=je),je-we+1===Ne)return we*ye}else we!==-1&&(je-=je-we),we=-1}else for(_+Ne>he&&(_=he-Ne),je=_;je>=0;je--){for(var Ae=!0,Me=0;Me<Ne;Me++)if(Le(j,je+Me)!==Le(k,Me)){Ae=!1;break}if(Ae)return je}return-1}a.prototype.includes=function(k,_,D){return this.indexOf(k,_,D)!==-1},a.prototype.indexOf=function(k,_,D){return M(this,k,_,D,!0)},a.prototype.lastIndexOf=function(k,_,D){return M(this,k,_,D,!1)};function z(j,k,_,D){_=Number(_)||0;var le=j.length-_;D?(D=Number(D),D>le&&(D=le)):D=le;var ye=k.length;D>ye/2&&(D=ye/2);for(var he=0;he<D;++he){var Ne=parseInt(k.substr(he*2,2),16);if(U(Ne))return he;j[_+he]=Ne}return he}function F(j,k,_,D){return se(I(k,j.length-_),j,_,D)}function G(j,k,_,D){return se(ne(k),j,_,D)}function W(j,k,_,D){return se(X(k),j,_,D)}function L(j,k,_,D){return se(ce(k,j.length-_),j,_,D)}a.prototype.write=function(k,_,D,le){if(_===void 0)le="utf8",D=this.length,_=0;else if(D===void 0&&typeof _=="string")le=_,D=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(D)?(D=D>>>0,le===void 0&&(le="utf8")):(le=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-_;if((D===void 0||D>ye)&&(D=ye),k.length>0&&(D<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");for(var he=!1;;)switch(le){case"hex":return z(this,k,_,D);case"utf8":case"utf-8":return F(this,k,_,D);case"ascii":case"latin1":case"binary":return G(this,k,_,D);case"base64":return W(this,k,_,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,k,_,D);default:if(he)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),he=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(j,k,_){return k===0&&_===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(k,_))}function E(j,k,_){_=Math.min(j.length,_);for(var D=[],le=k;le<_;){var ye=j[le],he=null,Ne=ye>239?4:ye>223?3:ye>191?2:1;if(le+Ne<=_){var Le,je,we,Ae;switch(Ne){case 1:ye<128&&(he=ye);break;case 2:Le=j[le+1],(Le&192)===128&&(Ae=(ye&31)<<6|Le&63,Ae>127&&(he=Ae));break;case 3:Le=j[le+1],je=j[le+2],(Le&192)===128&&(je&192)===128&&(Ae=(ye&15)<<12|(Le&63)<<6|je&63,Ae>2047&&(Ae<55296||Ae>57343)&&(he=Ae));break;case 4:Le=j[le+1],je=j[le+2],we=j[le+3],(Le&192)===128&&(je&192)===128&&(we&192)===128&&(Ae=(ye&15)<<18|(Le&63)<<12|(je&63)<<6|we&63,Ae>65535&&Ae<1114112&&(he=Ae))}}he===null?(he=65533,Ne=1):he>65535&&(he-=65536,D.push(he>>>10&1023|55296),he=56320|he&1023),D.push(he),le+=Ne}return pe(D)}var te=4096;function pe(j){var k=j.length;if(k<=te)return String.fromCharCode.apply(String,j);for(var _="",D=0;D<k;)_+=String.fromCharCode.apply(String,j.slice(D,D+=te));return _}function re(j,k,_){var D="";_=Math.min(j.length,_);for(var le=k;le<_;++le)D+=String.fromCharCode(j[le]&127);return D}function K(j,k,_){var D="";_=Math.min(j.length,_);for(var le=k;le<_;++le)D+=String.fromCharCode(j[le]);return D}function Y(j,k,_){var D=j.length;(!k||k<0)&&(k=0),(!_||_<0||_>D)&&(_=D);for(var le="",ye=k;ye<_;++ye)le+=me[j[ye]];return le}function q(j,k,_){for(var D=j.slice(k,_),le="",ye=0;ye<D.length-1;ye+=2)le+=String.fromCharCode(D[ye]+D[ye+1]*256);return le}a.prototype.slice=function(k,_){var D=this.length;k=~~k,_=_===void 0?D:~~_,k<0?(k+=D,k<0&&(k=0)):k>D&&(k=D),_<0?(_+=D,_<0&&(_=0)):_>D&&(_=D),_<k&&(_=k);var le=this.subarray(k,_);return Object.setPrototypeOf(le,a.prototype),le};function de(j,k,_){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+k>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(k,_,D){k=k>>>0,_=_>>>0,D||de(k,_,this.length);for(var le=this[k],ye=1,he=0;++he<_&&(ye*=256);)le+=this[k+he]*ye;return le},a.prototype.readUintBE=a.prototype.readUIntBE=function(k,_,D){k=k>>>0,_=_>>>0,D||de(k,_,this.length);for(var le=this[k+--_],ye=1;_>0&&(ye*=256);)le+=this[k+--_]*ye;return le},a.prototype.readUint8=a.prototype.readUInt8=function(k,_){return k=k>>>0,_||de(k,1,this.length),this[k]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(k,_){return k=k>>>0,_||de(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(k,_){return k=k>>>0,_||de(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(k,_){return k=k>>>0,_||de(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(k,_){return k=k>>>0,_||de(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readIntLE=function(k,_,D){k=k>>>0,_=_>>>0,D||de(k,_,this.length);for(var le=this[k],ye=1,he=0;++he<_&&(ye*=256);)le+=this[k+he]*ye;return ye*=128,le>=ye&&(le-=Math.pow(2,8*_)),le},a.prototype.readIntBE=function(k,_,D){k=k>>>0,_=_>>>0,D||de(k,_,this.length);for(var le=_,ye=1,he=this[k+--le];le>0&&(ye*=256);)he+=this[k+--le]*ye;return ye*=128,he>=ye&&(he-=Math.pow(2,8*_)),he},a.prototype.readInt8=function(k,_){return k=k>>>0,_||de(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},a.prototype.readInt16LE=function(k,_){k=k>>>0,_||de(k,2,this.length);var D=this[k]|this[k+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(k,_){k=k>>>0,_||de(k,2,this.length);var D=this[k+1]|this[k]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(k,_){return k=k>>>0,_||de(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,_){return k=k>>>0,_||de(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readFloatLE=function(k,_){return k=k>>>0,_||de(k,4,this.length),n.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,_){return k=k>>>0,_||de(k,4,this.length),n.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,_){return k=k>>>0,_||de(k,8,this.length),n.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,_){return k=k>>>0,_||de(k,8,this.length),n.read(this,k,!1,52,8)};function T(j,k,_,D,le,ye){if(!a.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>le||k<ye)throw new RangeError('"value" argument is out of bounds');if(_+D>j.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(k,_,D,le){if(k=+k,_=_>>>0,D=D>>>0,!le){var ye=Math.pow(2,8*D)-1;T(this,k,_,D,ye,0)}var he=1,Ne=0;for(this[_]=k&255;++Ne<D&&(he*=256);)this[_+Ne]=k/he&255;return _+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(k,_,D,le){if(k=+k,_=_>>>0,D=D>>>0,!le){var ye=Math.pow(2,8*D)-1;T(this,k,_,D,ye,0)}var he=D-1,Ne=1;for(this[_+he]=k&255;--he>=0&&(Ne*=256);)this[_+he]=k/Ne&255;return _+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,1,255,0),this[_]=k&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,2,65535,0),this[_]=k&255,this[_+1]=k>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,2,65535,0),this[_]=k>>>8,this[_+1]=k&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,4,4294967295,0),this[_+3]=k>>>24,this[_+2]=k>>>16,this[_+1]=k>>>8,this[_]=k&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,4,4294967295,0),this[_]=k>>>24,this[_+1]=k>>>16,this[_+2]=k>>>8,this[_+3]=k&255,_+4},a.prototype.writeIntLE=function(k,_,D,le){if(k=+k,_=_>>>0,!le){var ye=Math.pow(2,8*D-1);T(this,k,_,D,ye-1,-ye)}var he=0,Ne=1,Le=0;for(this[_]=k&255;++he<D&&(Ne*=256);)k<0&&Le===0&&this[_+he-1]!==0&&(Le=1),this[_+he]=(k/Ne>>0)-Le&255;return _+D},a.prototype.writeIntBE=function(k,_,D,le){if(k=+k,_=_>>>0,!le){var ye=Math.pow(2,8*D-1);T(this,k,_,D,ye-1,-ye)}var he=D-1,Ne=1,Le=0;for(this[_+he]=k&255;--he>=0&&(Ne*=256);)k<0&&Le===0&&this[_+he+1]!==0&&(Le=1),this[_+he]=(k/Ne>>0)-Le&255;return _+D},a.prototype.writeInt8=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,1,127,-128),k<0&&(k=255+k+1),this[_]=k&255,_+1},a.prototype.writeInt16LE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,2,32767,-32768),this[_]=k&255,this[_+1]=k>>>8,_+2},a.prototype.writeInt16BE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,2,32767,-32768),this[_]=k>>>8,this[_+1]=k&255,_+2},a.prototype.writeInt32LE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,4,2147483647,-2147483648),this[_]=k&255,this[_+1]=k>>>8,this[_+2]=k>>>16,this[_+3]=k>>>24,_+4},a.prototype.writeInt32BE=function(k,_,D){return k=+k,_=_>>>0,D||T(this,k,_,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[_]=k>>>24,this[_+1]=k>>>16,this[_+2]=k>>>8,this[_+3]=k&255,_+4};function R(j,k,_,D,le,ye){if(_+D>j.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function J(j,k,_,D,le){return k=+k,_=_>>>0,le||R(j,k,_,4),n.write(j,k,_,D,23,4),_+4}a.prototype.writeFloatLE=function(k,_,D){return J(this,k,_,!0,D)},a.prototype.writeFloatBE=function(k,_,D){return J(this,k,_,!1,D)};function ae(j,k,_,D,le){return k=+k,_=_>>>0,le||R(j,k,_,8),n.write(j,k,_,D,52,8),_+8}a.prototype.writeDoubleLE=function(k,_,D){return ae(this,k,_,!0,D)},a.prototype.writeDoubleBE=function(k,_,D){return ae(this,k,_,!1,D)},a.prototype.copy=function(k,_,D,le){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(D||(D=0),!le&&le!==0&&(le=this.length),_>=k.length&&(_=k.length),_||(_=0),le>0&&le<D&&(le=D),le===D||k.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),k.length-_<le-D&&(le=k.length-_+D);var ye=le-D;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,D,le):Uint8Array.prototype.set.call(k,this.subarray(D,le),_),ye},a.prototype.fill=function(k,_,D,le){if(typeof k=="string"){if(typeof _=="string"?(le=_,_=0,D=this.length):typeof D=="string"&&(le=D,D=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!a.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(k.length===1){var ye=k.charCodeAt(0);(le==="utf8"&&ye<128||le==="latin1")&&(k=ye)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(_<0||this.length<_||this.length<D)throw new RangeError("Out of range index");if(D<=_)return this;_=_>>>0,D=D===void 0?this.length:D>>>0,k||(k=0);var he;if(typeof k=="number")for(he=_;he<D;++he)this[he]=k;else{var Ne=a.isBuffer(k)?k:a.from(k,le),Le=Ne.length;if(Le===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(he=0;he<D-_;++he)this[he+_]=Ne[he%Le]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function O(j){if(j=j.split("=")[0],j=j.trim().replace(Q,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function I(j,k){k=k||1/0;for(var _,D=j.length,le=null,ye=[],he=0;he<D;++he){if(_=j.charCodeAt(he),_>55295&&_<57344){if(!le){if(_>56319){(k-=3)>-1&&ye.push(239,191,189);continue}else if(he+1===D){(k-=3)>-1&&ye.push(239,191,189);continue}le=_;continue}if(_<56320){(k-=3)>-1&&ye.push(239,191,189),le=_;continue}_=(le-55296<<10|_-56320)+65536}else le&&(k-=3)>-1&&ye.push(239,191,189);if(le=null,_<128){if((k-=1)<0)break;ye.push(_)}else if(_<2048){if((k-=2)<0)break;ye.push(_>>6|192,_&63|128)}else if(_<65536){if((k-=3)<0)break;ye.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((k-=4)<0)break;ye.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return ye}function ne(j){for(var k=[],_=0;_<j.length;++_)k.push(j.charCodeAt(_)&255);return k}function ce(j,k){for(var _,D,le,ye=[],he=0;he<j.length&&!((k-=2)<0);++he)_=j.charCodeAt(he),D=_>>8,le=_%256,ye.push(le),ye.push(D);return ye}function X(j){return e.toByteArray(O(j))}function se(j,k,_,D){for(var le=0;le<D&&!(le+_>=k.length||le>=j.length);++le)k[le+_]=j[le];return le}function xe(j,k){return j instanceof k||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===k.name}function U(j){return j!==j}var me=function(){for(var j="0123456789abcdef",k=new Array(256),_=0;_<16;++_)for(var D=_*16,le=0;le<16;++le)k[D+le]=j[_]+j[le];return k}()}(f5)),f5}var h5={},p5={},m5,iL;function Oz(){return iL||(iL=1,m5=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),m5}var g5,sL;function wC(){if(sL)return g5;sL=1;var t=Oz();return g5=function(){return t()&&!!Symbol.toStringTag},g5}var y5,oL;function Tde(){if(oL)return y5;oL=1;var t=typeof Symbol<"u"&&Symbol,e=Oz();return y5=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},y5}var v5,aL;function Pde(){if(aL)return v5;aL=1;var t={foo:{}},e=Object;return v5=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},v5}var w5,lL;function jde(){if(lL)return w5;lL=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,c){for(var u=[],d=0;d<l.length;d+=1)u[d]=l[d];for(var h=0;h<c.length;h+=1)u[h+l.length]=c[h];return u},s=function(l,c){for(var u=[],d=c,h=0;d<l.length;d+=1,h+=1)u[h]=l[d];return u},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return w5=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var u=s(arguments,1),d,h=function(){if(this instanceof d){var y=c.apply(this,i(u,arguments));return Object(y)===y?y:this}return c.apply(l,i(u,arguments))},f=n(0,c.length-u.length),m=[],g=0;g<f;g++)m[g]="$"+g;if(d=Function("binder","return function ("+o(m,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var v=function(){};v.prototype=c.prototype,d.prototype=new v,v.prototype=null}return d},w5}var x5,cL;function xC(){if(cL)return x5;cL=1;var t=jde();return x5=Function.prototype.bind||t,x5}var b5,uL;function Lde(){if(uL)return b5;uL=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=xC();return b5=n.call(t,e),b5}var S5,dL;function Ih(){if(dL)return S5;dL=1;var t,e=SyntaxError,n=Function,r=TypeError,i=function(L){try{return n('"use strict"; return ('+L+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var o=function(){throw new r},a=s?function(){try{return arguments.callee,o}catch{try{return s(arguments,"callee").get}catch{return o}}}():o,l=Tde()(),c=Pde()(),u=Object.getPrototypeOf||(c?function(L){return L.__proto__}:null),d={},h=typeof Uint8Array>"u"||!u?t:u(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":l&&u?u([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":d,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&u?u(u([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l||!u?t:u(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l||!u?t:u(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&u?u(""[Symbol.iterator]()):t,"%Symbol%":l?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":a,"%TypedArray%":h,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(u)try{null.error}catch(L){var m=u(u(L));f["%Error.prototype%"]=m}var g=function L(V){var E;if(V==="%AsyncFunction%")E=i("async function () {}");else if(V==="%GeneratorFunction%")E=i("function* () {}");else if(V==="%AsyncGeneratorFunction%")E=i("async function* () {}");else if(V==="%AsyncGenerator%"){var te=L("%AsyncGeneratorFunction%");te&&(E=te.prototype)}else if(V==="%AsyncIteratorPrototype%"){var pe=L("%AsyncGenerator%");pe&&u&&(E=u(pe.prototype))}return f[V]=E,E},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=xC(),w=Lde(),b=y.call(Function.call,Array.prototype.concat),N=y.call(Function.apply,Array.prototype.splice),C=y.call(Function.call,String.prototype.replace),M=y.call(Function.call,String.prototype.slice),B=y.call(Function.call,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,G=function(V){var E=M(V,0,1),te=M(V,-1);if(E==="%"&&te!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(te==="%"&&E!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var pe=[];return C(V,z,function(re,K,Y,q){pe[pe.length]=Y?C(q,F,"$1"):K||re}),pe},W=function(V,E){var te=V,pe;if(w(v,te)&&(pe=v[te],te="%"+pe[0]+"%"),w(f,te)){var re=f[te];if(re===d&&(re=g(te)),typeof re>"u"&&!E)throw new r("intrinsic "+V+" exists, but is not available. Please file an issue!");return{alias:pe,name:te,value:re}}throw new e("intrinsic "+V+" does not exist!")};return S5=function(V,E){if(typeof V!="string"||V.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof E!="boolean")throw new r('"allowMissing" argument must be a boolean');if(B(/^%?[^%]*%?$/,V)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var te=G(V),pe=te.length>0?te[0]:"",re=W("%"+pe+"%",E),K=re.name,Y=re.value,q=!1,de=re.alias;de&&(pe=de[0],N(te,b([0,1],de)));for(var T=1,R=!0;T<te.length;T+=1){var J=te[T],ae=M(J,0,1),Q=M(J,-1);if((ae==='"'||ae==="'"||ae==="`"||Q==='"'||Q==="'"||Q==="`")&&ae!==Q)throw new e("property names with quotes must have matching quotes");if((J==="constructor"||!R)&&(q=!0),pe+="."+J,K="%"+pe+"%",w(f,K))Y=f[K];else if(Y!=null){if(!(J in Y)){if(!E)throw new r("base intrinsic for "+V+" exists, but the property is not available.");return}if(s&&T+1>=te.length){var O=s(Y,J);R=!!O,R&&"get"in O&&!("originalValue"in O.get)?Y=O.get:Y=Y[J]}else R=w(Y,J),Y=Y[J];R&&!q&&(f[K]=Y)}}return Y},S5}var k5={exports:{}},_5,fL;function Mz(){if(fL)return _5;fL=1;var t=Ih(),e=t("%Object.defineProperty%",!0),n=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},_5=n,_5}var N5,hL;function bC(){if(hL)return N5;hL=1;var t=Ih(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return N5=e,N5}var E5,pL;function Rde(){if(pL)return E5;pL=1;var t=Mz()(),e=Ih(),n=t&&e("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch{n=!1}var r=e("%SyntaxError%"),i=e("%TypeError%"),s=bC();return E5=function(a,l,c){if(!a||typeof a!="object"&&typeof a!="function")throw new i("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,m=!!s&&s(a,l);if(n)n(a,l,{configurable:h===null&&m?m.configurable:!h,enumerable:u===null&&m?m.enumerable:!u,value:c,writable:d===null&&m?m.writable:!d});else if(f||!u&&!d&&!h)a[l]=c;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},E5}var A5,mL;function Ide(){if(mL)return A5;mL=1;var t=Ih(),e=Rde(),n=Mz()(),r=bC(),i=t("%TypeError%"),s=t("%Math.floor%");return A5=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,d=!0;if("length"in a&&r){var h=r(a,"length");h&&!h.configurable&&(u=!1),h&&!h.writable&&(d=!1)}return(u||d||!c)&&(n?e(a,"length",l,!0,!0):e(a,"length",l)),a},A5}var gL;function Dz(){return gL||(gL=1,function(t){var e=xC(),n=Ih(),r=Ide(),i=n("%TypeError%"),s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(o,s),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var f=a(e,o,arguments);return r(f,1+c(0,h.length-(arguments.length-1)),!0)};var u=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u}(k5)),k5.exports}var C5,yL;function Fz(){if(yL)return C5;yL=1;var t=Ih(),e=Dz(),n=e(t("String.prototype.indexOf"));return C5=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e(o):o},C5}var T5,vL;function Ode(){if(vL)return T5;vL=1;var t=wC()(),e=Fz(),n=e("Object.prototype.toString"),r=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:n(a)==="[object Arguments]"},i=function(a){return r(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&n(a)!=="[object Array]"&&n(a.callee)==="[object Function]"},s=function(){return r(arguments)}();return r.isLegacyArguments=i,T5=s?r:i,T5}var P5,wL;function Mde(){if(wL)return P5;wL=1;var t=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=wC()(),i=Object.getPrototypeOf,s=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},o;return P5=function(l){if(typeof l!="function")return!1;if(n.test(e.call(l)))return!0;if(!r){var c=t.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var u=s();o=u?i(u):!1}return i(l)===o},P5}var j5,xL;function Dde(){if(xL)return j5;xL=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(w){w!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(b){try{var N=t.call(b);return i.test(N)}catch{return!1}},o=function(b){try{return s(b)?!1:(t.call(b),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",d="[object HTMLAllCollection]",h="[object HTML document.all class]",f="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var y=document.all;a.call(y)===a.call(document.all)&&(v=function(b){if((g||!b)&&(typeof b>"u"||typeof b=="object"))try{var N=a.call(b);return(N===d||N===h||N===f||N===l)&&b("")==null}catch{}return!1})}return j5=e?function(b){if(v(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{e(b,null,n)}catch(N){if(N!==r)return!1}return!s(b)&&o(b)}:function(b){if(v(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(m)return o(b);if(s(b))return!1;var N=a.call(b);return N!==c&&N!==u&&!/^\[object HTML/.test(N)?!1:o(b)},j5}var L5,bL;function Fde(){if(bL)return L5;bL=1;var t=Dde(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(l,c,u){for(var d=0,h=l.length;d<h;d++)n.call(l,d)&&(u==null?c(l[d],d,l):c.call(u,l[d],d,l))},i=function(l,c,u){for(var d=0,h=l.length;d<h;d++)u==null?c(l.charAt(d),d,l):c.call(u,l.charAt(d),d,l)},s=function(l,c,u){for(var d in l)n.call(l,d)&&(u==null?c(l[d],d,l):c.call(u,l[d],d,l))},o=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=u),e.call(l)==="[object Array]"?r(l,c,d):typeof l=="string"?i(l,c,d):s(l,c,d)};return L5=o,L5}var R5,SL;function Bde(){if(SL)return R5;SL=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?Yo:globalThis;return R5=function(){for(var r=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(r[r.length]=t[i]);return r},R5}var I5,kL;function Bz(){if(kL)return I5;kL=1;var t=Fde(),e=Bde(),n=Dz(),r=Fz(),i=bC(),s=r("Object.prototype.toString"),o=wC()(),a=typeof globalThis>"u"?Yo:globalThis,l=e(),c=r("String.prototype.slice"),u=Object.getPrototypeOf,d=r("Array.prototype.indexOf",!0)||function(v,y){for(var w=0;w<v.length;w+=1)if(v[w]===y)return w;return-1},h={__proto__:null};o&&i&&u?t(l,function(g){var v=new a[g];if(Symbol.toStringTag in v){var y=u(v),w=i(y,Symbol.toStringTag);if(!w){var b=u(y);w=i(b,Symbol.toStringTag)}h["$"+g]=n(w.get)}}):t(l,function(g){var v=new a[g],y=v.slice||v.set;y&&(h["$"+g]=n(y))});var f=function(v){var y=!1;return t(h,function(w,b){if(!y)try{"$"+w(v)===b&&(y=c(b,1))}catch{}}),y},m=function(v){var y=!1;return t(h,function(w,b){if(!y)try{w(v),y=c(b,1)}catch{}}),y};return I5=function(v){if(!v||typeof v!="object")return!1;if(!o){var y=c(s(v),8,-1);return d(l,y)>-1?y:y!=="Object"?!1:m(v)}return i?f(v):null},I5}var O5,_L;function zde(){if(_L)return O5;_L=1;var t=Bz();return O5=function(n){return!!t(n)},O5}var NL;function Ude(){return NL||(NL=1,function(t){var e=Ode(),n=Mde(),r=Bz(),i=zde();function s(D){return D.call.bind(D)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(o)var h=s(BigInt.prototype.valueOf);if(a)var f=s(Symbol.prototype.valueOf);function m(D,le){if(typeof D!="object")return!1;try{return le(D),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function g(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}t.isPromise=g;function v(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):i(D)||R(D)}t.isArrayBufferView=v;function y(D){return r(D)==="Uint8Array"}t.isUint8Array=y;function w(D){return r(D)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function b(D){return r(D)==="Uint16Array"}t.isUint16Array=b;function N(D){return r(D)==="Uint32Array"}t.isUint32Array=N;function C(D){return r(D)==="Int8Array"}t.isInt8Array=C;function M(D){return r(D)==="Int16Array"}t.isInt16Array=M;function B(D){return r(D)==="Int32Array"}t.isInt32Array=B;function z(D){return r(D)==="Float32Array"}t.isFloat32Array=z;function F(D){return r(D)==="Float64Array"}t.isFloat64Array=F;function G(D){return r(D)==="BigInt64Array"}t.isBigInt64Array=G;function W(D){return r(D)==="BigUint64Array"}t.isBigUint64Array=W;function L(D){return l(D)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function V(D){return typeof Map>"u"?!1:L.working?L(D):D instanceof Map}t.isMap=V;function E(D){return l(D)==="[object Set]"}E.working=typeof Set<"u"&&E(new Set);function te(D){return typeof Set>"u"?!1:E.working?E(D):D instanceof Set}t.isSet=te;function pe(D){return l(D)==="[object WeakMap]"}pe.working=typeof WeakMap<"u"&&pe(new WeakMap);function re(D){return typeof WeakMap>"u"?!1:pe.working?pe(D):D instanceof WeakMap}t.isWeakMap=re;function K(D){return l(D)==="[object WeakSet]"}K.working=typeof WeakSet<"u"&&K(new WeakSet);function Y(D){return K(D)}t.isWeakSet=Y;function q(D){return l(D)==="[object ArrayBuffer]"}q.working=typeof ArrayBuffer<"u"&&q(new ArrayBuffer);function de(D){return typeof ArrayBuffer>"u"?!1:q.working?q(D):D instanceof ArrayBuffer}t.isArrayBuffer=de;function T(D){return l(D)==="[object DataView]"}T.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&T(new DataView(new ArrayBuffer(1),0,1));function R(D){return typeof DataView>"u"?!1:T.working?T(D):D instanceof DataView}t.isDataView=R;var J=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(D){return l(D)==="[object SharedArrayBuffer]"}function Q(D){return typeof J>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new J)),ae.working?ae(D):D instanceof J)}t.isSharedArrayBuffer=Q;function O(D){return l(D)==="[object AsyncFunction]"}t.isAsyncFunction=O;function I(D){return l(D)==="[object Map Iterator]"}t.isMapIterator=I;function ne(D){return l(D)==="[object Set Iterator]"}t.isSetIterator=ne;function ce(D){return l(D)==="[object Generator]"}t.isGeneratorObject=ce;function X(D){return l(D)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=X;function se(D){return m(D,c)}t.isNumberObject=se;function xe(D){return m(D,u)}t.isStringObject=xe;function U(D){return m(D,d)}t.isBooleanObject=U;function me(D){return o&&m(D,h)}t.isBigIntObject=me;function j(D){return a&&m(D,f)}t.isSymbolObject=j;function k(D){return se(D)||xe(D)||U(D)||me(D)||j(D)}t.isBoxedPrimitive=k;function _(D){return typeof Uint8Array<"u"&&(de(D)||Q(D))}t.isAnyArrayBuffer=_,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(t,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})}(p5)),p5}var M5,EL;function $de(){return EL||(EL=1,M5=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),M5}var AL;function zz(){return AL||(AL=1,function(t){var e=Object.getOwnPropertyDescriptors||function(R){for(var J=Object.keys(R),ae={},Q=0;Q<J.length;Q++)ae[J[Q]]=Object.getOwnPropertyDescriptor(R,J[Q]);return ae},n=/%[sdj%]/g;t.format=function(T){if(!C(T)){for(var R=[],J=0;J<arguments.length;J++)R.push(o(arguments[J]));return R.join(" ")}for(var J=1,ae=arguments,Q=ae.length,O=String(T).replace(n,function(ne){if(ne==="%%")return"%";if(J>=Q)return ne;switch(ne){case"%s":return String(ae[J++]);case"%d":return Number(ae[J++]);case"%j":try{return JSON.stringify(ae[J++])}catch{return"[Circular]"}default:return ne}}),I=ae[J];J<Q;I=ae[++J])w(I)||!F(I)?O+=" "+I:O+=" "+o(I);return O},t.deprecate=function(T,R){if(typeof Ft<"u"&&Ft.noDeprecation===!0)return T;if(typeof Ft>"u")return function(){return t.deprecate(T,R).apply(this,arguments)};var J=!1;function ae(){if(!J){if(Ft.throwDeprecation)throw new Error(R);Ft.traceDeprecation?console.trace(R):console.error(R),J=!0}return T.apply(this,arguments)}return ae};var r={},i=/^$/;if(Ft.env.NODE_DEBUG){var s=Ft.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(T){if(T=T.toUpperCase(),!r[T])if(i.test(T)){var R=Ft.pid;r[T]=function(){var J=t.format.apply(t,arguments);console.error("%s %d: %s",T,R,J)}}else r[T]=function(){};return r[T]};function o(T,R){var J={seen:[],stylize:l};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),y(R)?J.showHidden=R:R&&t._extend(J,R),B(J.showHidden)&&(J.showHidden=!1),B(J.depth)&&(J.depth=2),B(J.colors)&&(J.colors=!1),B(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=a),u(J,T,J.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(T,R){var J=o.styles[R];return J?"\x1B["+o.colors[J][0]+"m"+T+"\x1B["+o.colors[J][1]+"m":T}function l(T,R){return T}function c(T){var R={};return T.forEach(function(J,ae){R[J]=!0}),R}function u(T,R,J){if(T.customInspect&&R&&L(R.inspect)&&R.inspect!==t.inspect&&!(R.constructor&&R.constructor.prototype===R)){var ae=R.inspect(J,T);return C(ae)||(ae=u(T,ae,J)),ae}var Q=d(T,R);if(Q)return Q;var O=Object.keys(R),I=c(O);if(T.showHidden&&(O=Object.getOwnPropertyNames(R)),W(R)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return h(R);if(O.length===0){if(L(R)){var ne=R.name?": "+R.name:"";return T.stylize("[Function"+ne+"]","special")}if(z(R))return T.stylize(RegExp.prototype.toString.call(R),"regexp");if(G(R))return T.stylize(Date.prototype.toString.call(R),"date");if(W(R))return h(R)}var ce="",X=!1,se=["{","}"];if(v(R)&&(X=!0,se=["[","]"]),L(R)){var xe=R.name?": "+R.name:"";ce=" [Function"+xe+"]"}if(z(R)&&(ce=" "+RegExp.prototype.toString.call(R)),G(R)&&(ce=" "+Date.prototype.toUTCString.call(R)),W(R)&&(ce=" "+h(R)),O.length===0&&(!X||R.length==0))return se[0]+ce+se[1];if(J<0)return z(R)?T.stylize(RegExp.prototype.toString.call(R),"regexp"):T.stylize("[Object]","special");T.seen.push(R);var U;return X?U=f(T,R,J,I,O):U=O.map(function(me){return m(T,R,J,I,me,X)}),T.seen.pop(),g(U,ce,se)}function d(T,R){if(B(R))return T.stylize("undefined","undefined");if(C(R)){var J="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return T.stylize(J,"string")}if(N(R))return T.stylize(""+R,"number");if(y(R))return T.stylize(""+R,"boolean");if(w(R))return T.stylize("null","null")}function h(T){return"["+Error.prototype.toString.call(T)+"]"}function f(T,R,J,ae,Q){for(var O=[],I=0,ne=R.length;I<ne;++I)K(R,String(I))?O.push(m(T,R,J,ae,String(I),!0)):O.push("");return Q.forEach(function(ce){ce.match(/^\d+$/)||O.push(m(T,R,J,ae,ce,!0))}),O}function m(T,R,J,ae,Q,O){var I,ne,ce;if(ce=Object.getOwnPropertyDescriptor(R,Q)||{value:R[Q]},ce.get?ce.set?ne=T.stylize("[Getter/Setter]","special"):ne=T.stylize("[Getter]","special"):ce.set&&(ne=T.stylize("[Setter]","special")),K(ae,Q)||(I="["+Q+"]"),ne||(T.seen.indexOf(ce.value)<0?(w(J)?ne=u(T,ce.value,null):ne=u(T,ce.value,J-1),ne.indexOf(`
`)>-1&&(O?ne=ne.split(`
`).map(function(X){return"  "+X}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(X){return"   "+X}).join(`
`))):ne=T.stylize("[Circular]","special")),B(I)){if(O&&Q.match(/^\d+$/))return ne;I=JSON.stringify(""+Q),I.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.slice(1,-1),I=T.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=T.stylize(I,"string"))}return I+": "+ne}function g(T,R,J){var ae=T.reduce(function(Q,O){return O.indexOf(`
`)>=0,Q+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?J[0]+(R===""?"":R+`
 `)+" "+T.join(`,
  `)+" "+J[1]:J[0]+R+" "+T.join(", ")+" "+J[1]}t.types=Ude();function v(T){return Array.isArray(T)}t.isArray=v;function y(T){return typeof T=="boolean"}t.isBoolean=y;function w(T){return T===null}t.isNull=w;function b(T){return T==null}t.isNullOrUndefined=b;function N(T){return typeof T=="number"}t.isNumber=N;function C(T){return typeof T=="string"}t.isString=C;function M(T){return typeof T=="symbol"}t.isSymbol=M;function B(T){return T===void 0}t.isUndefined=B;function z(T){return F(T)&&E(T)==="[object RegExp]"}t.isRegExp=z,t.types.isRegExp=z;function F(T){return typeof T=="object"&&T!==null}t.isObject=F;function G(T){return F(T)&&E(T)==="[object Date]"}t.isDate=G,t.types.isDate=G;function W(T){return F(T)&&(E(T)==="[object Error]"||T instanceof Error)}t.isError=W,t.types.isNativeError=W;function L(T){return typeof T=="function"}t.isFunction=L;function V(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T>"u"}t.isPrimitive=V,t.isBuffer=$de();function E(T){return Object.prototype.toString.call(T)}function te(T){return T<10?"0"+T.toString(10):T.toString(10)}var pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function re(){var T=new Date,R=[te(T.getHours()),te(T.getMinutes()),te(T.getSeconds())].join(":");return[T.getDate(),pe[T.getMonth()],R].join(" ")}t.log=function(){console.log("%s - %s",re(),t.format.apply(t,arguments))},t.inherits=Ju,t._extend=function(T,R){if(!R||!F(R))return T;for(var J=Object.keys(R),ae=J.length;ae--;)T[J[ae]]=R[J[ae]];return T};function K(T,R){return Object.prototype.hasOwnProperty.call(T,R)}var Y=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');if(Y&&R[Y]){var J=R[Y];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,Y,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var ae,Q,O=new Promise(function(ce,X){ae=ce,Q=X}),I=[],ne=0;ne<arguments.length;ne++)I.push(arguments[ne]);I.push(function(ce,X){ce?Q(ce):ae(X)});try{R.apply(this,I)}catch(ce){Q(ce)}return O}return Object.setPrototypeOf(J,Object.getPrototypeOf(R)),Y&&Object.defineProperty(J,Y,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,e(R))},t.promisify.custom=Y;function q(T,R){if(!T){var J=new Error("Promise was rejected with a falsy value");J.reason=T,T=J}return R(T)}function de(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var J=[],ae=0;ae<arguments.length;ae++)J.push(arguments[ae]);var Q=J.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var O=this,I=function(){return Q.apply(O,arguments)};T.apply(this,J).then(function(ne){Ft.nextTick(I.bind(null,null,ne))},function(ne){Ft.nextTick(q.bind(null,ne,I))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(T)),Object.defineProperties(R,e(T)),R}t.callbackify=de}(h5)),h5}var D5,CL;function Vde(){if(CL)return D5;CL=1;function t(h,f){var m=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);f&&(g=g.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),m.push.apply(m,g)}return m}function e(h){for(var f=1;f<arguments.length;f++){var m=arguments[f]!=null?arguments[f]:{};f%2?t(Object(m),!0).forEach(function(g){n(h,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(m,g))})}return h}function n(h,f,m){return f in h?Object.defineProperty(h,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[f]=m,h}function r(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function i(h,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function s(h,f,m){return f&&i(h.prototype,f),h}var o=Nx(),a=o.Buffer,l=zz(),c=l.inspect,u=c&&c.custom||"inspect";function d(h,f,m){a.prototype.copy.call(h,f,m)}return D5=function(){function h(){r(this,h),this.head=null,this.tail=null,this.length=0}return s(h,[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,v=""+g.data;g=g.next;)v+=m+g.data;return v}},{key:"concat",value:function(m){if(this.length===0)return a.alloc(0);for(var g=a.allocUnsafe(m>>>0),v=this.head,y=0;v;)d(v.data,g,y),y+=v.data.length,v=v.next;return g}},{key:"consume",value:function(m,g){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?v=this.shift():v=g?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,v=1,y=g.data;for(m-=y.length;g=g.next;){var w=g.data,b=m>w.length?w.length:m;if(b===w.length?y+=w:y+=w.slice(0,m),m-=b,m===0){b===w.length?(++v,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=w.slice(b));break}++v}return this.length-=v,y}},{key:"_getBuffer",value:function(m){var g=a.allocUnsafe(m),v=this.head,y=1;for(v.data.copy(g),m-=v.data.length;v=v.next;){var w=v.data,b=m>w.length?w.length:m;if(w.copy(g,g.length-m,0,b),m-=b,m===0){b===w.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(b));break}++y}return this.length-=y,g}},{key:u,value:function(m,g){return c(this,e({},g,{depth:0,customInspect:!1}))}}]),h}(),D5}var F5,TL;function Uz(){if(TL)return F5;TL=1;function t(o,a){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ft.nextTick(i,this,o)):Ft.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!a&&d?l._writableState?l._writableState.errorEmitted?Ft.nextTick(n,l):(l._writableState.errorEmitted=!0,Ft.nextTick(e,l,d)):Ft.nextTick(e,l,d):a?(Ft.nextTick(n,l),a(d)):Ft.nextTick(n,l)}),this)}function e(o,a){i(o,a),n(o)}function n(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var l=o._readableState,c=o._writableState;l&&l.autoDestroy||c&&c.autoDestroy?o.destroy(a):o.emit("error",a)}return F5={destroy:t,undestroy:r,errorOrDestroy:s},F5}var B5={},PL;function Oh(){if(PL)return B5;PL=1;function t(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var e={};function n(a,l,c){c||(c=Error);function u(h,f,m){return typeof l=="string"?l:l(h,f,m)}var d=function(h){t(f,h);function f(m,g,v){return h.call(this,u(m,g,v))||this}return f}(c);d.prototype.name=c.name,d.prototype.code=a,e[a]=d}function r(a,l){if(Array.isArray(a)){var c=a.length;return a=a.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function i(a,l,c){return a.substr(0,l.length)===l}function s(a,l,c){return(c===void 0||c>a.length)&&(c=a.length),a.substring(c-l.length,c)===l}function o(a,l,c){return typeof c!="number"&&(c=0),c+l.length>a.length?!1:a.indexOf(l,c)!==-1}return n("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(a,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var d;if(s(a," argument"))d="The ".concat(a," ").concat(u," ").concat(r(l,"type"));else{var h=o(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(h," ").concat(u," ").concat(r(l,"type"))}return d+=". Received type ".concat(typeof c),d},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),B5.codes=e,B5}var z5,jL;function $z(){if(jL)return z5;jL=1;var t=Oh().codes.ERR_INVALID_OPT_VALUE;function e(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function n(r,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=o?s:"highWaterMark";throw new t(l,a)}return Math.floor(a)}return r.objectMode?16:16*1024}return z5={getHighWaterMark:n},z5}var U5,LL;function Hde(){if(LL)return U5;LL=1,U5=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return s}function e(n){try{if(!Yo.localStorage)return!1}catch{return!1}var r=Yo.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return U5}var $5,RL;function Vz(){if(RL)return $5;RL=1,$5=z;function t(Q){var O=this;this.next=null,this.entry=null,this.finish=function(){ae(O,Q)}}var e;z.WritableState=M;var n={deprecate:Hde()},r=Iz(),i=Nx().Buffer,s=Yo.Uint8Array||function(){};function o(Q){return i.from(Q)}function a(Q){return i.isBuffer(Q)||Q instanceof s}var l=Uz(),c=$z(),u=c.getHighWaterMark,d=Oh().codes,h=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,b=d.ERR_UNKNOWN_ENCODING,N=l.errorOrDestroy;Ju(z,r);function C(){}function M(Q,O,I){e=e||ch(),Q=Q||{},typeof I!="boolean"&&(I=O instanceof e),this.objectMode=!!Q.objectMode,I&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=u(this,Q,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=Q.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){pe(O,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}M.prototype.getBuffer=function(){for(var O=this.bufferedRequest,I=[];O;)I.push(O),O=O.next;return I},function(){try{Object.defineProperty(M.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(O){return B.call(this,O)?!0:this!==z?!1:O&&O._writableState instanceof M}})):B=function(O){return O instanceof this};function z(Q){e=e||ch();var O=this instanceof e;if(!O&&!B.call(z,this))return new z(Q);this._writableState=new M(Q,this,O),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),r.call(this)}z.prototype.pipe=function(){N(this,new g)};function F(Q,O){var I=new w;N(Q,I),Ft.nextTick(O,I)}function G(Q,O,I,ne){var ce;return I===null?ce=new y:typeof I!="string"&&!O.objectMode&&(ce=new h("chunk",["string","Buffer"],I)),ce?(N(Q,ce),Ft.nextTick(ne,ce),!1):!0}z.prototype.write=function(Q,O,I){var ne=this._writableState,ce=!1,X=!ne.objectMode&&a(Q);return X&&!i.isBuffer(Q)&&(Q=o(Q)),typeof O=="function"&&(I=O,O=null),X?O="buffer":O||(O=ne.defaultEncoding),typeof I!="function"&&(I=C),ne.ending?F(this,I):(X||G(this,ne,Q,I))&&(ne.pendingcb++,ce=L(this,ne,X,Q,O,I)),ce},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&Y(this,Q))},z.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new b(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(Q,O,I){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,I)),O}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function L(Q,O,I,ne,ce,X){if(!I){var se=W(O,ne,ce);ne!==se&&(I=!0,ce="buffer",ne=se)}var xe=O.objectMode?1:ne.length;O.length+=xe;var U=O.length<O.highWaterMark;if(U||(O.needDrain=!0),O.writing||O.corked){var me=O.lastBufferedRequest;O.lastBufferedRequest={chunk:ne,encoding:ce,isBuf:I,callback:X,next:null},me?me.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else V(Q,O,!1,xe,ne,ce,X);return U}function V(Q,O,I,ne,ce,X,se){O.writelen=ne,O.writecb=se,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new v("write")):I?Q._writev(ce,O.onwrite):Q._write(ce,X,O.onwrite),O.sync=!1}function E(Q,O,I,ne,ce){--O.pendingcb,I?(Ft.nextTick(ce,ne),Ft.nextTick(R,Q,O),Q._writableState.errorEmitted=!0,N(Q,ne)):(ce(ne),Q._writableState.errorEmitted=!0,N(Q,ne),R(Q,O))}function te(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function pe(Q,O){var I=Q._writableState,ne=I.sync,ce=I.writecb;if(typeof ce!="function")throw new m;if(te(I),O)E(Q,I,ne,O,ce);else{var X=q(I)||Q.destroyed;!X&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&Y(Q,I),ne?Ft.nextTick(re,Q,I,X,ce):re(Q,I,X,ce)}}function re(Q,O,I,ne){I||K(Q,O),O.pendingcb--,ne(),R(Q,O)}function K(Q,O){O.length===0&&O.needDrain&&(O.needDrain=!1,Q.emit("drain"))}function Y(Q,O){O.bufferProcessing=!0;var I=O.bufferedRequest;if(Q._writev&&I&&I.next){var ne=O.bufferedRequestCount,ce=new Array(ne),X=O.corkedRequestsFree;X.entry=I;for(var se=0,xe=!0;I;)ce[se]=I,I.isBuf||(xe=!1),I=I.next,se+=1;ce.allBuffers=xe,V(Q,O,!0,O.length,ce,"",X.finish),O.pendingcb++,O.lastBufferedRequest=null,X.next?(O.corkedRequestsFree=X.next,X.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;I;){var U=I.chunk,me=I.encoding,j=I.callback,k=O.objectMode?1:U.length;if(V(Q,O,!1,k,U,me,j),I=I.next,O.bufferedRequestCount--,O.writing)break}I===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=I,O.bufferProcessing=!1}z.prototype._write=function(Q,O,I){I(new f("_write()"))},z.prototype._writev=null,z.prototype.end=function(Q,O,I){var ne=this._writableState;return typeof Q=="function"?(I=Q,Q=null,O=null):typeof O=="function"&&(I=O,O=null),Q!=null&&this.write(Q,O),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||J(this,ne,I),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function q(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function de(Q,O){Q._final(function(I){O.pendingcb--,I&&N(Q,I),O.prefinished=!0,Q.emit("prefinish"),R(Q,O)})}function T(Q,O){!O.prefinished&&!O.finalCalled&&(typeof Q._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,Ft.nextTick(de,Q,O)):(O.prefinished=!0,Q.emit("prefinish")))}function R(Q,O){var I=q(O);if(I&&(T(Q,O),O.pendingcb===0&&(O.finished=!0,Q.emit("finish"),O.autoDestroy))){var ne=Q._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&Q.destroy()}return I}function J(Q,O,I){O.ending=!0,R(Q,O),I&&(O.finished?Ft.nextTick(I):Q.once("finish",I)),O.ended=!0,Q.writable=!1}function ae(Q,O,I){var ne=Q.entry;for(Q.entry=null;ne;){var ce=ne.callback;O.pendingcb--,ce(I),ne=ne.next}O.corkedRequestsFree.next=Q}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(Q,O){O(Q)},$5}var V5,IL;function ch(){if(IL)return V5;IL=1;var t=Object.keys||function(c){var u=[];for(var d in c)u.push(d);return u};V5=o;var e=Hz(),n=Vz();Ju(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),n.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Ft.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),V5}var H5={},My={exports:{}},OL;function qde(){return OL||(OL=1,function(t,e){var n=Nx(),r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(My,My.exports)),My.exports}var ML;function eN(){if(ML)return H5;ML=1;var t=qde().Buffer,e=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(y){if(!y)return"utf8";for(var w;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(w)return;y=(""+y).toLowerCase(),w=!0}}function r(y){var w=n(y);if(typeof w!="string"&&(t.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return w||y}H5.StringDecoder=i;function i(y){this.encoding=r(y);var w;switch(this.encoding){case"utf16le":this.text=d,this.end=h,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=f,this.end=m,w=3;break;default:this.write=g,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}i.prototype.write=function(y){if(y.length===0)return"";var w,b;if(this.lastNeed){if(w=this.fillLast(y),w===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<y.length?w?w+this.text(y,b):this.text(y,b):w||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function s(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,w,b){var N=w.length-1;if(N<b)return 0;var C=s(w[N]);return C>=0?(C>0&&(y.lastNeed=C-1),C):--N<b||C===-2?0:(C=s(w[N]),C>=0?(C>0&&(y.lastNeed=C-2),C):--N<b||C===-2?0:(C=s(w[N]),C>=0?(C>0&&(C===2?C=0:y.lastNeed=C-3),C):0))}function a(y,w,b){if((w[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return y.lastNeed=2,""}}function l(y){var w=this.lastTotal-this.lastNeed,b=a(this,y);if(b!==void 0)return b;if(this.lastNeed<=y.length)return y.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,w,0,y.length),this.lastNeed-=y.length}function c(y,w){var b=o(this,y,w);if(!this.lastNeed)return y.toString("utf8",w);this.lastTotal=b;var N=y.length-(b-this.lastNeed);return y.copy(this.lastChar,0,N),y.toString("utf8",w,N)}function u(y){var w=y&&y.length?this.write(y):"";return this.lastNeed?w+"":w}function d(y,w){if((y.length-w)%2===0){var b=y.toString("utf16le",w);if(b){var N=b.charCodeAt(b.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",w,y.length-1)}function h(y){var w=y&&y.length?this.write(y):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,b)}return w}function f(y,w){var b=(y.length-w)%3;return b===0?y.toString("base64",w):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",w,y.length-b))}function m(y){var w=y&&y.length?this.write(y):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function g(y){return y.toString(this.encoding)}function v(y){return y&&y.length?this.write(y):""}return H5}var q5,DL;function SC(){if(DL)return q5;DL=1;var t=Oh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];s.apply(this,l)}}}function n(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||n);var l=o.readable||o.readable!==!1&&s.readable,c=o.writable||o.writable!==!1&&s.writable,u=function(){s.writable||h()},d=s._writableState&&s._writableState.finished,h=function(){c=!1,d=!0,l||a.call(s)},f=s._readableState&&s._readableState.endEmitted,m=function(){l=!1,f=!0,c||a.call(s)},g=function(b){a.call(s,b)},v=function(){var b;if(l&&!f)return(!s._readableState||!s._readableState.ended)&&(b=new t),a.call(s,b);if(c&&!d)return(!s._writableState||!s._writableState.ended)&&(b=new t),a.call(s,b)},y=function(){s.req.on("finish",h)};return r(s)?(s.on("complete",h),s.on("abort",v),s.req?y():s.on("request",y)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",m),s.on("finish",h),o.error!==!1&&s.on("error",g),s.on("close",v),function(){s.removeListener("complete",h),s.removeListener("abort",v),s.removeListener("request",y),s.req&&s.req.removeListener("finish",h),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",h),s.removeListener("end",m),s.removeListener("error",g),s.removeListener("close",v)}}return q5=i,q5}var W5,FL;function Wde(){if(FL)return W5;FL=1;var t;function e(y,w,b){return w in y?Object.defineProperty(y,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[w]=b,y}var n=SC(),r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(y,w){return{value:y,done:w}}function d(y){var w=y[r];if(w!==null){var b=y[c].read();b!==null&&(y[a]=null,y[r]=null,y[i]=null,w(u(b,!1)))}}function h(y){Ft.nextTick(d,y)}function f(y,w){return function(b,N){y.then(function(){if(w[o]){b(u(void 0,!0));return}w[l](b,N)},N)}}var m=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var w=this,b=this[s];if(b!==null)return Promise.reject(b);if(this[o])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(B,z){Ft.nextTick(function(){w[s]?z(w[s]):B(u(void 0,!0))})});var N=this[a],C;if(N)C=new Promise(f(N,this));else{var M=this[c].read();if(M!==null)return Promise.resolve(u(M,!1));C=new Promise(this[l])}return this[a]=C,C}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(b,N){w[c].destroy(null,function(C){if(C){N(C);return}b(u(void 0,!0))})})}),t),m),v=function(w){var b,N=Object.create(g,(b={},e(b,c,{value:w,writable:!0}),e(b,r,{value:null,writable:!0}),e(b,i,{value:null,writable:!0}),e(b,s,{value:null,writable:!0}),e(b,o,{value:w._readableState.endEmitted,writable:!0}),e(b,l,{value:function(M,B){var z=N[c].read();z?(N[a]=null,N[r]=null,N[i]=null,M(u(z,!1))):(N[r]=M,N[i]=B)},writable:!0}),b));return N[a]=null,n(w,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=N[i];M!==null&&(N[a]=null,N[r]=null,N[i]=null,M(C)),N[s]=C;return}var B=N[r];B!==null&&(N[a]=null,N[r]=null,N[i]=null,B(u(void 0,!0))),N[o]=!0}),w.on("readable",h.bind(null,N)),N};return W5=v,W5}var K5,BL;function Kde(){return BL||(BL=1,K5=function(){throw new Error("Readable.from is not available in the browser")}),K5}var G5,zL;function Hz(){if(zL)return G5;zL=1,G5=F;var t;F.ReadableState=z,vC.EventEmitter;var e=function(se,xe){return se.listeners(xe).length},n=Iz(),r=Nx().Buffer,i=Yo.Uint8Array||function(){};function s(X){return r.from(X)}function o(X){return r.isBuffer(X)||X instanceof i}var a=zz(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var c=Vde(),u=Uz(),d=$z(),h=d.getHighWaterMark,f=Oh().codes,m=f.ERR_INVALID_ARG_TYPE,g=f.ERR_STREAM_PUSH_AFTER_EOF,v=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,b,N;Ju(F,n);var C=u.errorOrDestroy,M=["error","close","destroy","pause","resume"];function B(X,se,xe){if(typeof X.prependListener=="function")return X.prependListener(se,xe);!X._events||!X._events[se]?X.on(se,xe):Array.isArray(X._events[se])?X._events[se].unshift(xe):X._events[se]=[xe,X._events[se]]}function z(X,se,xe){t=t||ch(),X=X||{},typeof xe!="boolean"&&(xe=se instanceof t),this.objectMode=!!X.objectMode,xe&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=h(this,X,"readableHighWaterMark",xe),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(w||(w=eN().StringDecoder),this.decoder=new w(X.encoding),this.encoding=X.encoding)}function F(X){if(t=t||ch(),!(this instanceof F))return new F(X);var se=this instanceof t;this._readableState=new z(X,this,se),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),n.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(se){this._readableState&&(this._readableState.destroyed=se)}}),F.prototype.destroy=u.destroy,F.prototype._undestroy=u.undestroy,F.prototype._destroy=function(X,se){se(X)},F.prototype.push=function(X,se){var xe=this._readableState,U;return xe.objectMode?U=!0:typeof X=="string"&&(se=se||xe.defaultEncoding,se!==xe.encoding&&(X=r.from(X,se),se=""),U=!0),G(this,X,se,!1,U)},F.prototype.unshift=function(X){return G(this,X,null,!0,!1)};function G(X,se,xe,U,me){l("readableAddChunk",se);var j=X._readableState;if(se===null)j.reading=!1,pe(X,j);else{var k;if(me||(k=L(j,se)),k)C(X,k);else if(j.objectMode||se&&se.length>0)if(typeof se!="string"&&!j.objectMode&&Object.getPrototypeOf(se)!==r.prototype&&(se=s(se)),U)j.endEmitted?C(X,new y):W(X,j,se,!0);else if(j.ended)C(X,new g);else{if(j.destroyed)return!1;j.reading=!1,j.decoder&&!xe?(se=j.decoder.write(se),j.objectMode||se.length!==0?W(X,j,se,!1):Y(X,j)):W(X,j,se,!1)}else U||(j.reading=!1,Y(X,j))}return!j.ended&&(j.length<j.highWaterMark||j.length===0)}function W(X,se,xe,U){se.flowing&&se.length===0&&!se.sync?(se.awaitDrain=0,X.emit("data",xe)):(se.length+=se.objectMode?1:xe.length,U?se.buffer.unshift(xe):se.buffer.push(xe),se.needReadable&&re(X)),Y(X,se)}function L(X,se){var xe;return!o(se)&&typeof se!="string"&&se!==void 0&&!X.objectMode&&(xe=new m("chunk",["string","Buffer","Uint8Array"],se)),xe}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(X){w||(w=eN().StringDecoder);var se=new w(X);this._readableState.decoder=se,this._readableState.encoding=this._readableState.decoder.encoding;for(var xe=this._readableState.buffer.head,U="";xe!==null;)U+=se.write(xe.data),xe=xe.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var V=1073741824;function E(X){return X>=V?X=V:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function te(X,se){return X<=0||se.length===0&&se.ended?0:se.objectMode?1:X!==X?se.flowing&&se.length?se.buffer.head.data.length:se.length:(X>se.highWaterMark&&(se.highWaterMark=E(X)),X<=se.length?X:se.ended?se.length:(se.needReadable=!0,0))}F.prototype.read=function(X){l("read",X),X=parseInt(X,10);var se=this._readableState,xe=X;if(X!==0&&(se.emittedReadable=!1),X===0&&se.needReadable&&((se.highWaterMark!==0?se.length>=se.highWaterMark:se.length>0)||se.ended))return l("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?I(this):re(this),null;if(X=te(X,se),X===0&&se.ended)return se.length===0&&I(this),null;var U=se.needReadable;l("need readable",U),(se.length===0||se.length-X<se.highWaterMark)&&(U=!0,l("length less than watermark",U)),se.ended||se.reading?(U=!1,l("reading or ended",U)):U&&(l("do read"),se.reading=!0,se.sync=!0,se.length===0&&(se.needReadable=!0),this._read(se.highWaterMark),se.sync=!1,se.reading||(X=te(xe,se)));var me;return X>0?me=O(X,se):me=null,me===null?(se.needReadable=se.length<=se.highWaterMark,X=0):(se.length-=X,se.awaitDrain=0),se.length===0&&(se.ended||(se.needReadable=!0),xe!==X&&se.ended&&I(this)),me!==null&&this.emit("data",me),me};function pe(X,se){if(l("onEofChunk"),!se.ended){if(se.decoder){var xe=se.decoder.end();xe&&xe.length&&(se.buffer.push(xe),se.length+=se.objectMode?1:xe.length)}se.ended=!0,se.sync?re(X):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,K(X)))}}function re(X){var se=X._readableState;l("emitReadable",se.needReadable,se.emittedReadable),se.needReadable=!1,se.emittedReadable||(l("emitReadable",se.flowing),se.emittedReadable=!0,Ft.nextTick(K,X))}function K(X){var se=X._readableState;l("emitReadable_",se.destroyed,se.length,se.ended),!se.destroyed&&(se.length||se.ended)&&(X.emit("readable"),se.emittedReadable=!1),se.needReadable=!se.flowing&&!se.ended&&se.length<=se.highWaterMark,Q(X)}function Y(X,se){se.readingMore||(se.readingMore=!0,Ft.nextTick(q,X,se))}function q(X,se){for(;!se.reading&&!se.ended&&(se.length<se.highWaterMark||se.flowing&&se.length===0);){var xe=se.length;if(l("maybeReadMore read 0"),X.read(0),xe===se.length)break}se.readingMore=!1}F.prototype._read=function(X){C(this,new v("_read()"))},F.prototype.pipe=function(X,se){var xe=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=X;break;case 1:U.pipes=[U.pipes,X];break;default:U.pipes.push(X);break}U.pipesCount+=1,l("pipe count=%d opts=%j",U.pipesCount,se);var me=(!se||se.end!==!1)&&X!==Ft.stdout&&X!==Ft.stderr,j=me?_:we;U.endEmitted?Ft.nextTick(j):xe.once("end",j),X.on("unpipe",k);function k(Ae,Me){l("onunpipe"),Ae===xe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,ye())}function _(){l("onend"),X.end()}var D=de(xe);X.on("drain",D);var le=!1;function ye(){l("cleanup"),X.removeListener("close",Le),X.removeListener("finish",je),X.removeListener("drain",D),X.removeListener("error",Ne),X.removeListener("unpipe",k),xe.removeListener("end",_),xe.removeListener("end",we),xe.removeListener("data",he),le=!0,U.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&D()}xe.on("data",he);function he(Ae){l("ondata");var Me=X.write(Ae);l("dest.write",Me),Me===!1&&((U.pipesCount===1&&U.pipes===X||U.pipesCount>1&&ce(U.pipes,X)!==-1)&&!le&&(l("false write response, pause",U.awaitDrain),U.awaitDrain++),xe.pause())}function Ne(Ae){l("onerror",Ae),we(),X.removeListener("error",Ne),e(X,"error")===0&&C(X,Ae)}B(X,"error",Ne);function Le(){X.removeListener("finish",je),we()}X.once("close",Le);function je(){l("onfinish"),X.removeListener("close",Le),we()}X.once("finish",je);function we(){l("unpipe"),xe.unpipe(X)}return X.emit("pipe",xe),U.flowing||(l("pipe resume"),xe.resume()),X};function de(X){return function(){var xe=X._readableState;l("pipeOnDrain",xe.awaitDrain),xe.awaitDrain&&xe.awaitDrain--,xe.awaitDrain===0&&e(X,"data")&&(xe.flowing=!0,Q(X))}}F.prototype.unpipe=function(X){var se=this._readableState,xe={hasUnpiped:!1};if(se.pipesCount===0)return this;if(se.pipesCount===1)return X&&X!==se.pipes?this:(X||(X=se.pipes),se.pipes=null,se.pipesCount=0,se.flowing=!1,X&&X.emit("unpipe",this,xe),this);if(!X){var U=se.pipes,me=se.pipesCount;se.pipes=null,se.pipesCount=0,se.flowing=!1;for(var j=0;j<me;j++)U[j].emit("unpipe",this,{hasUnpiped:!1});return this}var k=ce(se.pipes,X);return k===-1?this:(se.pipes.splice(k,1),se.pipesCount-=1,se.pipesCount===1&&(se.pipes=se.pipes[0]),X.emit("unpipe",this,xe),this)},F.prototype.on=function(X,se){var xe=n.prototype.on.call(this,X,se),U=this._readableState;return X==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):X==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,l("on readable",U.length,U.reading),U.length?re(this):U.reading||Ft.nextTick(R,this)),xe},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(X,se){var xe=n.prototype.removeListener.call(this,X,se);return X==="readable"&&Ft.nextTick(T,this),xe},F.prototype.removeAllListeners=function(X){var se=n.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&Ft.nextTick(T,this),se};function T(X){var se=X._readableState;se.readableListening=X.listenerCount("readable")>0,se.resumeScheduled&&!se.paused?se.flowing=!0:X.listenerCount("data")>0&&X.resume()}function R(X){l("readable nexttick read 0"),X.read(0)}F.prototype.resume=function(){var X=this._readableState;return X.flowing||(l("resume"),X.flowing=!X.readableListening,J(this,X)),X.paused=!1,this};function J(X,se){se.resumeScheduled||(se.resumeScheduled=!0,Ft.nextTick(ae,X,se))}function ae(X,se){l("resume",se.reading),se.reading||X.read(0),se.resumeScheduled=!1,X.emit("resume"),Q(X),se.flowing&&!se.reading&&X.read(0)}F.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(X){var se=X._readableState;for(l("flow",se.flowing);se.flowing&&X.read()!==null;);}F.prototype.wrap=function(X){var se=this,xe=this._readableState,U=!1;X.on("end",function(){if(l("wrapped end"),xe.decoder&&!xe.ended){var k=xe.decoder.end();k&&k.length&&se.push(k)}se.push(null)}),X.on("data",function(k){if(l("wrapped data"),xe.decoder&&(k=xe.decoder.write(k)),!(xe.objectMode&&k==null)&&!(!xe.objectMode&&(!k||!k.length))){var _=se.push(k);_||(U=!0,X.pause())}});for(var me in X)this[me]===void 0&&typeof X[me]=="function"&&(this[me]=function(_){return function(){return X[_].apply(X,arguments)}}(me));for(var j=0;j<M.length;j++)X.on(M[j],this.emit.bind(this,M[j]));return this._read=function(k){l("wrapped _read",k),U&&(U=!1,X.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=Wde()),b(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(se){this._readableState&&(this._readableState.flowing=se)}}),F._fromList=O,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(X,se){if(se.length===0)return null;var xe;return se.objectMode?xe=se.buffer.shift():!X||X>=se.length?(se.decoder?xe=se.buffer.join(""):se.buffer.length===1?xe=se.buffer.first():xe=se.buffer.concat(se.length),se.buffer.clear()):xe=se.buffer.consume(X,se.decoder),xe}function I(X){var se=X._readableState;l("endReadable",se.endEmitted),se.endEmitted||(se.ended=!0,Ft.nextTick(ne,se,X))}function ne(X,se){if(l("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,se.readable=!1,se.emit("end"),X.autoDestroy)){var xe=se._writableState;(!xe||xe.autoDestroy&&xe.finished)&&se.destroy()}}typeof Symbol=="function"&&(F.from=function(X,se){return N===void 0&&(N=Kde()),N(F,X,se)});function ce(X,se){for(var xe=0,U=X.length;xe<U;xe++)if(X[xe]===se)return xe;return-1}return G5}var J5,UL;function qz(){if(UL)return J5;UL=1,J5=a;var t=Oh().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=ch();Ju(a,s);function o(u,d){var h=this._transformState;h.transforming=!1;var f=h.writecb;if(f===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,d!=null&&this.push(d),f(u);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function a(u){if(!(this instanceof a))return new a(u);s.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,h){c(u,d,h)}):c(this,null,null)}a.prototype.push=function(u,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,d)},a.prototype._transform=function(u,d,h){h(new e("_transform()"))},a.prototype._write=function(u,d,h){var f=this._transformState;if(f.writecb=h,f.writechunk=u,f.writeencoding=d,!f.transforming){var m=this._readableState;(f.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},a.prototype._read=function(u){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},a.prototype._destroy=function(u,d){s.prototype._destroy.call(this,u,function(h){d(h)})};function c(u,d,h){if(d)return u.emit("error",d);if(h!=null&&u.push(h),u._writableState.length)throw new i;if(u._transformState.transforming)throw new r;return u.push(null)}return J5}var Y5,$L;function Gde(){if($L)return Y5;$L=1,Y5=e;var t=qz();Ju(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},Y5}var X5,VL;function Jde(){if(VL)return X5;VL=1;var t;function e(h){var f=!1;return function(){f||(f=!0,h.apply(void 0,arguments))}}var n=Oh().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,f,m,g){g=e(g);var v=!1;h.on("close",function(){v=!0}),t===void 0&&(t=SC()),t(h,{readable:f,writable:m},function(w){if(w)return g(w);v=!0,g()});var y=!1;return function(w){if(!v&&!y){if(y=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();g(w||new i("pipe"))}}}function l(h){h()}function c(h,f){return h.pipe(f)}function u(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function d(){for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];var g=u(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new r("streams");var v,y=f.map(function(w,b){var N=b<f.length-1,C=b>0;return a(w,N,C,function(M){v||(v=M),M&&y.forEach(l),!N&&(y.forEach(l),g(v))})});return f.reduce(c)}return X5=d,X5}var kC=Ws,_C=vC.EventEmitter,Yde=Ju;Yde(Ws,_C);Ws.Readable=Hz();Ws.Writable=Vz();Ws.Duplex=ch();Ws.Transform=qz();Ws.PassThrough=Gde();Ws.finished=SC();Ws.pipeline=Jde();Ws.Stream=Ws;function Ws(){_C.call(this)}Ws.prototype.pipe=function(t,e){var n=this;function r(u){t.writable&&t.write(u)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",o),n.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){if(c(),_C.listenerCount(this,"error")===0)throw u}n.on("error",l),t.on("error",l);function c(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",o),n.removeListener("close",a),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t};(function(t){(function(e){e.parser=function(O,I){return new r(O,I)},e.SAXParser=r,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(O,I){if(!(this instanceof r))return new r(O,I);var ne=this;s(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=I||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!O,ne.noscript=!!(O||ne.opt.noscript),ne.state=F.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(g)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),W(ne,"onready")}Object.create||(Object.create=function(O){function I(){}I.prototype=O;var ne=new I;return ne}),Object.keys||(Object.keys=function(O){var I=[];for(var ne in O)O.hasOwnProperty(ne)&&I.push(ne);return I});function i(O){for(var I=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,ce=0,X=n.length;ce<X;ce++){var se=O[n[ce]].length;if(se>I)switch(n[ce]){case"textNode":V(O);break;case"cdata":L(O,"oncdata",O.cdata),O.cdata="";break;case"script":L(O,"onscript",O.script),O.script="";break;default:te(O,"Max buffer length exceeded: "+n[ce])}ne=Math.max(ne,se)}var xe=e.MAX_BUFFER_LENGTH-ne;O.bufferCheckPosition=xe+O.position}function s(O){for(var I=0,ne=n.length;I<ne;I++)O[n[I]]=""}function o(O){V(O),O.cdata!==""&&(L(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(L(O,"onscript",O.script),O.script="")}r.prototype={end:function(){pe(this)},write:Q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=kC.Stream}catch{a=function(){}}var l=e.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function c(O,I){return new u(O,I)}function u(O,I){if(!(this instanceof u))return new u(O,I);a.apply(this),this._parser=new r(O,I),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(ce){ne.emit("error",ce),ne._parser.error=null},this._decoder=null,l.forEach(function(ce){Object.defineProperty(ne,"on"+ce,{get:function(){return ne._parser["on"+ce]},set:function(X){if(!X)return ne.removeAllListeners(ce),ne._parser["on"+ce]=X,X;ne.on(ce,X)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(O){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(O)){if(!this._decoder){var I=eN().StringDecoder;this._decoder=new I("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},u.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},u.prototype.on=function(O,I){var ne=this;return!ne._parser["on"+O]&&l.indexOf(O)!==-1&&(ne._parser["on"+O]=function(){var ce=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ce.splice(0,0,O),ne.emit.apply(ne,ce)}),a.prototype.on.call(ne,O,I)};var d="[CDATA[",h="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",g={xml:f,xmlns:m},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(O){return O===" "||O===`
`||O==="\r"||O==="	"}function C(O){return O==='"'||O==="'"}function M(O){return O===">"||N(O)}function B(O,I){return O.test(I)}function z(O,I){return!B(O,I)}var F=0;e.STATE={BEGIN:F++,BEGIN_WHITESPACE:F++,TEXT:F++,TEXT_ENTITY:F++,OPEN_WAKA:F++,SGML_DECL:F++,SGML_DECL_QUOTED:F++,DOCTYPE:F++,DOCTYPE_QUOTED:F++,DOCTYPE_DTD:F++,DOCTYPE_DTD_QUOTED:F++,COMMENT_STARTING:F++,COMMENT:F++,COMMENT_ENDING:F++,COMMENT_ENDED:F++,CDATA:F++,CDATA_ENDING:F++,CDATA_ENDING_2:F++,PROC_INST:F++,PROC_INST_BODY:F++,PROC_INST_ENDING:F++,OPEN_TAG:F++,OPEN_TAG_SLASH:F++,ATTRIB:F++,ATTRIB_NAME:F++,ATTRIB_NAME_SAW_WHITE:F++,ATTRIB_VALUE:F++,ATTRIB_VALUE_QUOTED:F++,ATTRIB_VALUE_CLOSED:F++,ATTRIB_VALUE_UNQUOTED:F++,ATTRIB_VALUE_ENTITY_Q:F++,ATTRIB_VALUE_ENTITY_U:F++,CLOSE_TAG:F++,CLOSE_TAG_SAW_WHITE:F++,SCRIPT:F++,SCRIPT_ENDING:F++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(O){var I=e.ENTITIES[O],ne=typeof I=="number"?String.fromCharCode(I):I;e.ENTITIES[O]=ne});for(var G in e.STATE)e.STATE[e.STATE[G]]=G;F=e.STATE;function W(O,I,ne){O[I]&&O[I](ne)}function L(O,I,ne){O.textNode&&V(O),W(O,I,ne)}function V(O){O.textNode=E(O.opt,O.textNode),O.textNode&&W(O,"ontext",O.textNode),O.textNode=""}function E(O,I){return O.trim&&(I=I.trim()),O.normalize&&(I=I.replace(/\s+/g," ")),I}function te(O,I){return V(O),O.trackPosition&&(I+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),I=new Error(I),O.error=I,W(O,"onerror",I),O}function pe(O){return O.sawRoot&&!O.closedRoot&&re(O,"Unclosed root tag"),O.state!==F.BEGIN&&O.state!==F.BEGIN_WHITESPACE&&O.state!==F.TEXT&&te(O,"Unexpected end"),V(O),O.c="",O.closed=!0,W(O,"onend"),r.call(O,O.strict,O.opt),O}function re(O,I){if(typeof O!="object"||!(O instanceof r))throw new Error("bad call to strictFail");O.strict&&te(O,I)}function K(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var I=O.tags[O.tags.length-1]||O,ne=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(ne.ns=I.ns),O.attribList.length=0,L(O,"onopentagstart",ne)}function Y(O,I){var ne=O.indexOf(":"),ce=ne<0?["",O]:O.split(":"),X=ce[0],se=ce[1];return I&&O==="xmlns"&&(X="xmlns",se=""),{prefix:X,local:se}}function q(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName)){O.attribName=O.attribValue="";return}if(O.opt.xmlns){var I=Y(O.attribName,!0),ne=I.prefix,ce=I.local;if(ne==="xmlns")if(ce==="xml"&&O.attribValue!==f)re(O,"xml: prefix must be bound to "+f+`
Actual: `+O.attribValue);else if(ce==="xmlns"&&O.attribValue!==m)re(O,"xmlns: prefix must be bound to "+m+`
Actual: `+O.attribValue);else{var X=O.tag,se=O.tags[O.tags.length-1]||O;X.ns===se.ns&&(X.ns=Object.create(se.ns)),X.ns[ce]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,L(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}function de(O,I){if(O.opt.xmlns){var ne=O.tag,ce=Y(O.tagName);ne.prefix=ce.prefix,ne.local=ce.local,ne.uri=ne.ns[ce.prefix]||"",ne.prefix&&!ne.uri&&(re(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),ne.uri=ce.prefix);var X=O.tags[O.tags.length-1]||O;ne.ns&&X.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(he){L(O,"onopennamespace",{prefix:he,uri:ne.ns[he]})});for(var se=0,xe=O.attribList.length;se<xe;se++){var U=O.attribList[se],me=U[0],j=U[1],k=Y(me,!0),_=k.prefix,D=k.local,le=_===""?"":ne.ns[_]||"",ye={name:me,value:j,prefix:_,local:D,uri:le};_&&_!=="xmlns"&&!le&&(re(O,"Unbound namespace prefix: "+JSON.stringify(_)),ye.uri=_),O.tag.attributes[me]=ye,L(O,"onattribute",ye)}O.attribList.length=0}O.tag.isSelfClosing=!!I,O.sawRoot=!0,O.tags.push(O.tag),L(O,"onopentag",O.tag),I||(!O.noscript&&O.tagName.toLowerCase()==="script"?O.state=F.SCRIPT:O.state=F.TEXT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function T(O){if(!O.tagName){re(O,"Weird empty close tag."),O.textNode+="</>",O.state=F.TEXT;return}if(O.script){if(O.tagName!=="script"){O.script+="</"+O.tagName+">",O.tagName="",O.state=F.SCRIPT;return}L(O,"onscript",O.script),O.script=""}var I=O.tags.length,ne=O.tagName;O.strict||(ne=ne[O.looseCase]());for(var ce=ne;I--;){var X=O.tags[I];if(X.name!==ce)re(O,"Unexpected close tag");else break}if(I<0){re(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",O.state=F.TEXT;return}O.tagName=ne;for(var se=O.tags.length;se-- >I;){var xe=O.tag=O.tags.pop();O.tagName=O.tag.name,L(O,"onclosetag",O.tagName);var U={};for(var me in xe.ns)U[me]=xe.ns[me];var j=O.tags[O.tags.length-1]||O;O.opt.xmlns&&xe.ns!==j.ns&&Object.keys(xe.ns).forEach(function(k){var _=xe.ns[k];L(O,"onclosenamespace",{prefix:k,uri:_})})}I===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=F.TEXT}function R(O){var I=O.entity,ne=I.toLowerCase(),ce,X="";return O.ENTITIES[I]?O.ENTITIES[I]:O.ENTITIES[ne]?O.ENTITIES[ne]:(I=ne,I.charAt(0)==="#"&&(I.charAt(1)==="x"?(I=I.slice(2),ce=parseInt(I,16),X=ce.toString(16)):(I=I.slice(1),ce=parseInt(I,10),X=ce.toString(10))),I=I.replace(/^0+/,""),isNaN(ce)||X.toLowerCase()!==I?(re(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(ce))}function J(O,I){I==="<"?(O.state=F.OPEN_WAKA,O.startTagPosition=O.position):N(I)||(re(O,"Non-whitespace before first tag."),O.textNode=I,O.state=F.TEXT)}function ae(O,I){var ne="";return I<O.length&&(ne=O.charAt(I)),ne}function Q(O){var I=this;if(this.error)throw this.error;if(I.closed)return te(I,"Cannot write after close. Assign an onready handler.");if(O===null)return pe(I);typeof O=="object"&&(O=O.toString());for(var ne=0,ce="";ce=ae(O,ne++),I.c=ce,!!ce;)switch(I.trackPosition&&(I.position++,ce===`
`?(I.line++,I.column=0):I.column++),I.state){case F.BEGIN:if(I.state=F.BEGIN_WHITESPACE,ce==="\uFEFF")continue;J(I,ce);continue;case F.BEGIN_WHITESPACE:J(I,ce);continue;case F.TEXT:if(I.sawRoot&&!I.closedRoot){for(var X=ne-1;ce&&ce!=="<"&&ce!=="&";)ce=ae(O,ne++),ce&&I.trackPosition&&(I.position++,ce===`
`?(I.line++,I.column=0):I.column++);I.textNode+=O.substring(X,ne-1)}ce==="<"&&!(I.sawRoot&&I.closedRoot&&!I.strict)?(I.state=F.OPEN_WAKA,I.startTagPosition=I.position):(!N(ce)&&(!I.sawRoot||I.closedRoot)&&re(I,"Text data outside of root node."),ce==="&"?I.state=F.TEXT_ENTITY:I.textNode+=ce);continue;case F.SCRIPT:ce==="<"?I.state=F.SCRIPT_ENDING:I.script+=ce;continue;case F.SCRIPT_ENDING:ce==="/"?I.state=F.CLOSE_TAG:(I.script+="<"+ce,I.state=F.SCRIPT);continue;case F.OPEN_WAKA:if(ce==="!")I.state=F.SGML_DECL,I.sgmlDecl="";else if(!N(ce))if(B(v,ce))I.state=F.OPEN_TAG,I.tagName=ce;else if(ce==="/")I.state=F.CLOSE_TAG,I.tagName="";else if(ce==="?")I.state=F.PROC_INST,I.procInstName=I.procInstBody="";else{if(re(I,"Unencoded <"),I.startTagPosition+1<I.position){var se=I.position-I.startTagPosition;ce=new Array(se).join(" ")+ce}I.textNode+="<"+ce,I.state=F.TEXT}continue;case F.SGML_DECL:(I.sgmlDecl+ce).toUpperCase()===d?(L(I,"onopencdata"),I.state=F.CDATA,I.sgmlDecl="",I.cdata=""):I.sgmlDecl+ce==="--"?(I.state=F.COMMENT,I.comment="",I.sgmlDecl=""):(I.sgmlDecl+ce).toUpperCase()===h?(I.state=F.DOCTYPE,(I.doctype||I.sawRoot)&&re(I,"Inappropriately located doctype declaration"),I.doctype="",I.sgmlDecl=""):ce===">"?(L(I,"onsgmldeclaration",I.sgmlDecl),I.sgmlDecl="",I.state=F.TEXT):(C(ce)&&(I.state=F.SGML_DECL_QUOTED),I.sgmlDecl+=ce);continue;case F.SGML_DECL_QUOTED:ce===I.q&&(I.state=F.SGML_DECL,I.q=""),I.sgmlDecl+=ce;continue;case F.DOCTYPE:ce===">"?(I.state=F.TEXT,L(I,"ondoctype",I.doctype),I.doctype=!0):(I.doctype+=ce,ce==="["?I.state=F.DOCTYPE_DTD:C(ce)&&(I.state=F.DOCTYPE_QUOTED,I.q=ce));continue;case F.DOCTYPE_QUOTED:I.doctype+=ce,ce===I.q&&(I.q="",I.state=F.DOCTYPE);continue;case F.DOCTYPE_DTD:I.doctype+=ce,ce==="]"?I.state=F.DOCTYPE:C(ce)&&(I.state=F.DOCTYPE_DTD_QUOTED,I.q=ce);continue;case F.DOCTYPE_DTD_QUOTED:I.doctype+=ce,ce===I.q&&(I.state=F.DOCTYPE_DTD,I.q="");continue;case F.COMMENT:ce==="-"?I.state=F.COMMENT_ENDING:I.comment+=ce;continue;case F.COMMENT_ENDING:ce==="-"?(I.state=F.COMMENT_ENDED,I.comment=E(I.opt,I.comment),I.comment&&L(I,"oncomment",I.comment),I.comment=""):(I.comment+="-"+ce,I.state=F.COMMENT);continue;case F.COMMENT_ENDED:ce!==">"?(re(I,"Malformed comment"),I.comment+="--"+ce,I.state=F.COMMENT):I.state=F.TEXT;continue;case F.CDATA:ce==="]"?I.state=F.CDATA_ENDING:I.cdata+=ce;continue;case F.CDATA_ENDING:ce==="]"?I.state=F.CDATA_ENDING_2:(I.cdata+="]"+ce,I.state=F.CDATA);continue;case F.CDATA_ENDING_2:ce===">"?(I.cdata&&L(I,"oncdata",I.cdata),L(I,"onclosecdata"),I.cdata="",I.state=F.TEXT):ce==="]"?I.cdata+="]":(I.cdata+="]]"+ce,I.state=F.CDATA);continue;case F.PROC_INST:ce==="?"?I.state=F.PROC_INST_ENDING:N(ce)?I.state=F.PROC_INST_BODY:I.procInstName+=ce;continue;case F.PROC_INST_BODY:if(!I.procInstBody&&N(ce))continue;ce==="?"?I.state=F.PROC_INST_ENDING:I.procInstBody+=ce;continue;case F.PROC_INST_ENDING:ce===">"?(L(I,"onprocessinginstruction",{name:I.procInstName,body:I.procInstBody}),I.procInstName=I.procInstBody="",I.state=F.TEXT):(I.procInstBody+="?"+ce,I.state=F.PROC_INST_BODY);continue;case F.OPEN_TAG:B(y,ce)?I.tagName+=ce:(K(I),ce===">"?de(I):ce==="/"?I.state=F.OPEN_TAG_SLASH:(N(ce)||re(I,"Invalid character in tag name"),I.state=F.ATTRIB));continue;case F.OPEN_TAG_SLASH:ce===">"?(de(I,!0),T(I)):(re(I,"Forward-slash in opening tag not followed by >"),I.state=F.ATTRIB);continue;case F.ATTRIB:if(N(ce))continue;ce===">"?de(I):ce==="/"?I.state=F.OPEN_TAG_SLASH:B(v,ce)?(I.attribName=ce,I.attribValue="",I.state=F.ATTRIB_NAME):re(I,"Invalid attribute name");continue;case F.ATTRIB_NAME:ce==="="?I.state=F.ATTRIB_VALUE:ce===">"?(re(I,"Attribute without value"),I.attribValue=I.attribName,q(I),de(I)):N(ce)?I.state=F.ATTRIB_NAME_SAW_WHITE:B(y,ce)?I.attribName+=ce:re(I,"Invalid attribute name");continue;case F.ATTRIB_NAME_SAW_WHITE:if(ce==="=")I.state=F.ATTRIB_VALUE;else{if(N(ce))continue;re(I,"Attribute without value"),I.tag.attributes[I.attribName]="",I.attribValue="",L(I,"onattribute",{name:I.attribName,value:""}),I.attribName="",ce===">"?de(I):B(v,ce)?(I.attribName=ce,I.state=F.ATTRIB_NAME):(re(I,"Invalid attribute name"),I.state=F.ATTRIB)}continue;case F.ATTRIB_VALUE:if(N(ce))continue;C(ce)?(I.q=ce,I.state=F.ATTRIB_VALUE_QUOTED):(re(I,"Unquoted attribute value"),I.state=F.ATTRIB_VALUE_UNQUOTED,I.attribValue=ce);continue;case F.ATTRIB_VALUE_QUOTED:if(ce!==I.q){ce==="&"?I.state=F.ATTRIB_VALUE_ENTITY_Q:I.attribValue+=ce;continue}q(I),I.q="",I.state=F.ATTRIB_VALUE_CLOSED;continue;case F.ATTRIB_VALUE_CLOSED:N(ce)?I.state=F.ATTRIB:ce===">"?de(I):ce==="/"?I.state=F.OPEN_TAG_SLASH:B(v,ce)?(re(I,"No whitespace between attributes"),I.attribName=ce,I.attribValue="",I.state=F.ATTRIB_NAME):re(I,"Invalid attribute name");continue;case F.ATTRIB_VALUE_UNQUOTED:if(!M(ce)){ce==="&"?I.state=F.ATTRIB_VALUE_ENTITY_U:I.attribValue+=ce;continue}q(I),ce===">"?de(I):I.state=F.ATTRIB;continue;case F.CLOSE_TAG:if(I.tagName)ce===">"?T(I):B(y,ce)?I.tagName+=ce:I.script?(I.script+="</"+I.tagName,I.tagName="",I.state=F.SCRIPT):(N(ce)||re(I,"Invalid tagname in closing tag"),I.state=F.CLOSE_TAG_SAW_WHITE);else{if(N(ce))continue;z(v,ce)?I.script?(I.script+="</"+ce,I.state=F.SCRIPT):re(I,"Invalid tagname in closing tag."):I.tagName=ce}continue;case F.CLOSE_TAG_SAW_WHITE:if(N(ce))continue;ce===">"?T(I):re(I,"Invalid characters in closing tag");continue;case F.TEXT_ENTITY:case F.ATTRIB_VALUE_ENTITY_Q:case F.ATTRIB_VALUE_ENTITY_U:var xe,U;switch(I.state){case F.TEXT_ENTITY:xe=F.TEXT,U="textNode";break;case F.ATTRIB_VALUE_ENTITY_Q:xe=F.ATTRIB_VALUE_QUOTED,U="attribValue";break;case F.ATTRIB_VALUE_ENTITY_U:xe=F.ATTRIB_VALUE_UNQUOTED,U="attribValue";break}ce===";"?(I[U]+=R(I),I.entity="",I.state=xe):B(I.entity.length?b:w,ce)?I.entity+=ce:(re(I,"Invalid character in entity name"),I[U]+="&"+I.entity+ce,I.entity="",I.state=xe);continue;default:throw new Error(I,"Unknown state: "+I.state)}return I.position>=I.bufferCheckPosition&&i(I),I}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var O=String.fromCharCode,I=Math.floor,ne=function(){var ce=16384,X=[],se,xe,U=-1,me=arguments.length;if(!me)return"";for(var j="";++U<me;){var k=Number(arguments[U]);if(!isFinite(k)||k<0||k>1114111||I(k)!==k)throw RangeError("Invalid code point: "+k);k<=65535?X.push(k):(k-=65536,se=(k>>10)+55296,xe=k%1024+56320,X.push(se,xe)),(U+1===me||X.length>ce)&&(j+=O.apply(null,X),X.length=0)}return j};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(t)})(bz);var NC={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},Xde=NC.isArray,EC={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!Xde(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},Qde=bz,Zt=EC,zf=NC.isArray,Ie,kt;function Zde(t){return Ie=Zt.copyOptions(t),Zt.ensureFlagExists("ignoreDeclaration",Ie),Zt.ensureFlagExists("ignoreInstruction",Ie),Zt.ensureFlagExists("ignoreAttributes",Ie),Zt.ensureFlagExists("ignoreText",Ie),Zt.ensureFlagExists("ignoreComment",Ie),Zt.ensureFlagExists("ignoreCdata",Ie),Zt.ensureFlagExists("ignoreDoctype",Ie),Zt.ensureFlagExists("compact",Ie),Zt.ensureFlagExists("alwaysChildren",Ie),Zt.ensureFlagExists("addParent",Ie),Zt.ensureFlagExists("trim",Ie),Zt.ensureFlagExists("nativeType",Ie),Zt.ensureFlagExists("nativeTypeAttributes",Ie),Zt.ensureFlagExists("sanitize",Ie),Zt.ensureFlagExists("instructionHasAttributes",Ie),Zt.ensureFlagExists("captureSpacesBetweenElements",Ie),Zt.ensureAlwaysArrayExists(Ie),Zt.ensureKeyExists("declaration",Ie),Zt.ensureKeyExists("instruction",Ie),Zt.ensureKeyExists("attributes",Ie),Zt.ensureKeyExists("text",Ie),Zt.ensureKeyExists("comment",Ie),Zt.ensureKeyExists("cdata",Ie),Zt.ensureKeyExists("doctype",Ie),Zt.ensureKeyExists("type",Ie),Zt.ensureKeyExists("name",Ie),Zt.ensureKeyExists("elements",Ie),Zt.ensureKeyExists("parent",Ie),Ie}function Wz(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return n==="true"?!0:n==="false"?!1:t}function Jg(t,e){var n;if(Ie.compact){if(!kt[Ie[t+"Key"]]&&(zf(Ie.alwaysArray)?Ie.alwaysArray.indexOf(Ie[t+"Key"])!==-1:Ie.alwaysArray)&&(kt[Ie[t+"Key"]]=[]),kt[Ie[t+"Key"]]&&!zf(kt[Ie[t+"Key"]])&&(kt[Ie[t+"Key"]]=[kt[Ie[t+"Key"]]]),t+"Fn"in Ie&&typeof e=="string"&&(e=Ie[t+"Fn"](e,kt)),t==="instruction"&&("instructionFn"in Ie||"instructionNameFn"in Ie)){for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in Ie)e[n]=Ie.instructionFn(e[n],n,kt);else{var r=e[n];delete e[n],e[Ie.instructionNameFn(n,r,kt)]=r}}zf(kt[Ie[t+"Key"]])?kt[Ie[t+"Key"]].push(e):kt[Ie[t+"Key"]]=e}else{kt[Ie.elementsKey]||(kt[Ie.elementsKey]=[]);var i={};if(i[Ie.typeKey]=t,t==="instruction"){for(n in e)if(e.hasOwnProperty(n))break;i[Ie.nameKey]="instructionNameFn"in Ie?Ie.instructionNameFn(n,e,kt):n,Ie.instructionHasAttributes?(i[Ie.attributesKey]=e[n][Ie.attributesKey],"instructionFn"in Ie&&(i[Ie.attributesKey]=Ie.instructionFn(i[Ie.attributesKey],n,kt))):("instructionFn"in Ie&&(e[n]=Ie.instructionFn(e[n],n,kt)),i[Ie.instructionKey]=e[n])}else t+"Fn"in Ie&&(e=Ie[t+"Fn"](e,kt)),i[Ie[t+"Key"]]=e;Ie.addParent&&(i[Ie.parentKey]=kt),kt[Ie.elementsKey].push(i)}}function Kz(t){if("attributesFn"in Ie&&t&&(t=Ie.attributesFn(t,kt)),(Ie.trim||"attributeValueFn"in Ie||"attributeNameFn"in Ie||Ie.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(Ie.trim&&(t[e]=t[e].trim()),Ie.nativeTypeAttributes&&(t[e]=Wz(t[e])),"attributeValueFn"in Ie&&(t[e]=Ie.attributeValueFn(t[e],e,kt)),"attributeNameFn"in Ie)){var n=t[e];delete t[e],t[Ie.attributeNameFn(e,t[e],kt)]=n}}return t}function efe(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||Ie.instructionHasAttributes)){for(var n=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,r;(r=n.exec(t.body))!==null;)e[r[1]]=r[2]||r[3]||r[4];e=Kz(e)}if(t.name.toLowerCase()==="xml"){if(Ie.ignoreDeclaration)return;kt[Ie.declarationKey]={},Object.keys(e).length&&(kt[Ie.declarationKey][Ie.attributesKey]=e),Ie.addParent&&(kt[Ie.declarationKey][Ie.parentKey]=kt)}else{if(Ie.ignoreInstruction)return;Ie.trim&&(t.body=t.body.trim());var i={};Ie.instructionHasAttributes&&Object.keys(e).length?(i[t.name]={},i[t.name][Ie.attributesKey]=e):i[t.name]=t.body,Jg("instruction",i)}}function tfe(t,e){var n;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=Kz(e),"elementNameFn"in Ie&&(t=Ie.elementNameFn(t,kt)),Ie.compact){if(n={},!Ie.ignoreAttributes&&e&&Object.keys(e).length){n[Ie.attributesKey]={};var r;for(r in e)e.hasOwnProperty(r)&&(n[Ie.attributesKey][r]=e[r])}!(t in kt)&&(zf(Ie.alwaysArray)?Ie.alwaysArray.indexOf(t)!==-1:Ie.alwaysArray)&&(kt[t]=[]),kt[t]&&!zf(kt[t])&&(kt[t]=[kt[t]]),zf(kt[t])?kt[t].push(n):kt[t]=n}else kt[Ie.elementsKey]||(kt[Ie.elementsKey]=[]),n={},n[Ie.typeKey]="element",n[Ie.nameKey]=t,!Ie.ignoreAttributes&&e&&Object.keys(e).length&&(n[Ie.attributesKey]=e),Ie.alwaysChildren&&(n[Ie.elementsKey]=[]),kt[Ie.elementsKey].push(n);n[Ie.parentKey]=kt,kt=n}function nfe(t){Ie.ignoreText||!t.trim()&&!Ie.captureSpacesBetweenElements||(Ie.trim&&(t=t.trim()),Ie.nativeType&&(t=Wz(t)),Ie.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Jg("text",t))}function rfe(t){Ie.ignoreComment||(Ie.trim&&(t=t.trim()),Jg("comment",t))}function ife(t){var e=kt[Ie.parentKey];Ie.addParent||delete kt[Ie.parentKey],kt=e}function sfe(t){Ie.ignoreCdata||(Ie.trim&&(t=t.trim()),Jg("cdata",t))}function ofe(t){Ie.ignoreDoctype||(t=t.replace(/^ /,""),Ie.trim&&(t=t.trim()),Jg("doctype",t))}function afe(t){t.note=t}var Gz=function(t,e){var n=Qde.parser(!0,{}),r={};if(kt=r,Ie=Zde(e),n.opt={strictEntities:!0},n.onopentag=tfe,n.ontext=nfe,n.oncomment=rfe,n.onclosetag=ife,n.onerror=afe,n.oncdata=sfe,n.ondoctype=ofe,n.onprocessinginstruction=efe,n.write(t).close(),r[Ie.elementsKey]){var i=r[Ie.elementsKey];delete r[Ie.elementsKey],r[Ie.elementsKey]=i,delete r.text}return r},HL=EC,lfe=Gz;function cfe(t){var e=HL.copyOptions(t);return HL.ensureSpacesExists(e),e}var ufe=function(t,e){var n,r,i,s;return n=cfe(e),r=lfe(t,n),s="compact"in n&&n.compact?"_parent":"parent","addParent"in n&&n.addParent?i=JSON.stringify(r,function(o,a){return o===s?"_":a},n.spaces):i=JSON.stringify(r,null,n.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},hn=EC,dfe=NC.isArray,ri,ii;function ffe(t){var e=hn.copyOptions(t);return hn.ensureFlagExists("ignoreDeclaration",e),hn.ensureFlagExists("ignoreInstruction",e),hn.ensureFlagExists("ignoreAttributes",e),hn.ensureFlagExists("ignoreText",e),hn.ensureFlagExists("ignoreComment",e),hn.ensureFlagExists("ignoreCdata",e),hn.ensureFlagExists("ignoreDoctype",e),hn.ensureFlagExists("compact",e),hn.ensureFlagExists("indentText",e),hn.ensureFlagExists("indentCdata",e),hn.ensureFlagExists("indentAttributes",e),hn.ensureFlagExists("indentInstruction",e),hn.ensureFlagExists("fullTagEmptyElement",e),hn.ensureFlagExists("noQuotesForNativeAttributes",e),hn.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),hn.ensureKeyExists("declaration",e),hn.ensureKeyExists("instruction",e),hn.ensureKeyExists("attributes",e),hn.ensureKeyExists("text",e),hn.ensureKeyExists("comment",e),hn.ensureKeyExists("cdata",e),hn.ensureKeyExists("doctype",e),hn.ensureKeyExists("type",e),hn.ensureKeyExists("name",e),hn.ensureKeyExists("elements",e),e}function Ko(t,e,n){return(!n&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function Ex(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,ii,ri));var r,i,s,o,a=[];for(r in t)t.hasOwnProperty(r)&&t[r]!==null&&t[r]!==void 0&&(o=e.noQuotesForNativeAttributes&&typeof t[r]!="string"?"":'"',i=""+t[r],i=i.replace(/"/g,"&quot;"),s="attributeNameFn"in e?e.attributeNameFn(r,i,ii,ri):r,a.push(e.spaces&&e.indentAttributes?Ko(e,n+1,!1):" "),a.push(s+"="+o+("attributeValueFn"in e?e.attributeValueFn(i,r,ii,ri):i)+o));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&a.push(Ko(e,n,!1)),a.join("")}function Jz(t,e,n){return ri=t,ii="xml",e.ignoreDeclaration?"":"<?xml"+Ex(t[e.attributesKey],e,n)+"?>"}function Yz(t,e,n){if(e.ignoreInstruction)return"";var r;for(r in t)if(t.hasOwnProperty(r))break;var i="instructionNameFn"in e?e.instructionNameFn(r,t[r],ii,ri):r;if(typeof t[r]=="object")return ri=t,ii=i,"<?"+i+Ex(t[r][e.attributesKey],e,n)+"?>";var s=t[r]?t[r]:"";return"instructionFn"in e&&(s=e.instructionFn(s,r,ii,ri)),"<?"+i+(s?" "+s:"")+"?>"}function Xz(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,ii,ri):t)+"-->"}function Qz(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,ii,ri):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Zz(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,ii,ri):t)+">"}function AC(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,ii,ri):t)}function hfe(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function pfe(t,e,n){ri=t,ii=t.name;var r=[],i="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;r.push("<"+i),t[e.attributesKey]&&r.push(Ex(t[e.attributesKey],e,n));var s=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return s||("fullTagEmptyElementFn"in e?s=e.fullTagEmptyElementFn(t.name,t):s=e.fullTagEmptyElement),s?(r.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(r.push(e9(t[e.elementsKey],e,n+1)),ri=t,ii=t.name),r.push(e.spaces&&hfe(t,e)?`
`+Array(n+1).join(e.spaces):""),r.push("</"+i+">")):r.push("/>"),r.join("")}function e9(t,e,n,r){return t.reduce(function(i,s){var o=Ko(e,n,r&&!i);switch(s.type){case"element":return i+o+pfe(s,e,n);case"comment":return i+o+Xz(s[e.commentKey],e);case"doctype":return i+o+Zz(s[e.doctypeKey],e);case"cdata":return i+(e.indentCdata?o:"")+Qz(s[e.cdataKey],e);case"text":return i+(e.indentText?o:"")+AC(s[e.textKey],e);case"instruction":var a={};return a[s[e.nameKey]]=s[e.attributesKey]?s:s[e.instructionKey],i+(e.indentInstruction?o:"")+Yz(a,e,n)}},"")}function t9(t,e,n){var r;for(r in t)if(t.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function mfe(t,e,n,r,i){ri=t,ii=e;var s="elementNameFn"in n?n.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+s+"></"+s+">":"<"+s+"/>";var o=[];if(e){if(o.push("<"+s),typeof t!="object")return o.push(">"+AC(t,n)+"</"+s+">"),o.join("");t[n.attributesKey]&&o.push(Ex(t[n.attributesKey],n,r));var a=t9(t,n,!0)||t[n.attributesKey]&&t[n.attributesKey]["xml:space"]==="preserve";if(a||("fullTagEmptyElementFn"in n?a=n.fullTagEmptyElementFn(e,t):a=n.fullTagEmptyElement),a)o.push(">");else return o.push("/>"),o.join("")}return o.push(n9(t,n,r+1,!1)),ri=t,ii=e,e&&o.push((i?Ko(n,r,!1):"")+"</"+s+">"),o.join("")}function n9(t,e,n,r){var i,s,o,a=[];for(s in t)if(t.hasOwnProperty(s))for(o=dfe(t[s])?t[s]:[t[s]],i=0;i<o.length;++i){switch(s){case e.declarationKey:a.push(Jz(o[i],e,n));break;case e.instructionKey:a.push((e.indentInstruction?Ko(e,n,r):"")+Yz(o[i],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:a.push((e.indentText?Ko(e,n,r):"")+AC(o[i],e));break;case e.cdataKey:a.push((e.indentCdata?Ko(e,n,r):"")+Qz(o[i],e));break;case e.doctypeKey:a.push(Ko(e,n,r)+Zz(o[i],e));break;case e.commentKey:a.push(Ko(e,n,r)+Xz(o[i],e));break;default:a.push(Ko(e,n,r)+mfe(o[i],s,e,n,t9(o[i],e)))}r=r&&!a.length}return a.join("")}var r9=function(t,e){e=ffe(e);var n=[];return ri=t,ii="_root_",e.compact?n.push(n9(t,e,0,!0)):(t[e.declarationKey]&&n.push(Jz(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(e9(t[e.elementsKey],e,0,!n.length))),n.join("")},gfe=r9,yfe=function(t,e){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return gfe(n,e)},vfe=Gz,wfe=ufe,xfe=r9,bfe=yfe,i9={xml2js:vfe,xml2json:wfe,js2xml:xfe,json2xml:bfe};const CC=t=>{switch(t.type){case void 0:case"element":const e=new kfe(t.name,t.attributes),n=t.elements||[];for(const r of n){const i=CC(r);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class Sfe extends St{}class kfe extends $e{static fromXmlString(e){const n=i9.xml2js(e,{compact:!1});return CC(n)}constructor(e,n){super(e),n&&this.root.push(new Sfe(n))}push(e){this.root.push(e)}}class _fe extends $e{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class s9 extends $e{constructor(e,n){super(e),n&&(this.root=n.root)}}const Vi=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Ax=t=>{const e=Vi(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},o9=(t,e)=>{const n=e*2;if(t.length!==n||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${n} digit hex value`);return t},qL=t=>o9(t,1),a9=t=>{const e=t.slice(-2),n=t.substring(0,t.length-2);return`${Number(n)}${e}`},l9=t=>{const e=a9(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},uh=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return o9(e,3)},hu=t=>typeof t=="string"?a9(t):Vi(t),Nfe=t=>typeof t=="string"?l9(t):Ax(t),go=t=>typeof t=="string"?l9(t):Ax(t),Efe=Ax,Afe=Ax,Cfe=t=>t.toISOString();class We extends $e{constructor(e,n=!0){super(e),n!==!0&&this.root.push(new Zn({val:n}))}}class Q5 extends $e{constructor(e,n){super(e),this.root.push(new Zn({val:Nfe(n)}))}}class Uf extends $e{constructor(e,n){super(e),this.root.push(new Zn({val:n}))}}const Rp=(t,e)=>new fc({name:t,attributes:{value:{key:"w:val",value:e}}});class TC extends $e{constructor(e,n){super(e),this.root.push(new Zn({val:n}))}}class Kc extends $e{constructor(e,n){super(e),this.root.push(n)}}class fc extends $e{constructor({name:e,attributes:n,children:r}){super(e),n&&this.root.push(new Gg(n)),r&&this.root.push(...r)}}const Bo={START:"start",LEFT:"left"};class Tfe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val"})}}class Pfe extends $e{constructor(e){super("w:jc"),this.root.push(new Tfe({val:e}))}}class Fn extends $e{constructor(e,{color:n,size:r,space:i,style:s}){super(e),this.root.push(new jfe({style:s,color:n===void 0?void 0:uh(n),size:r===void 0?void 0:Efe(r),space:i===void 0?void 0:Afe(i)}))}}class jfe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const PC={SINGLE:"single",NONE:"none"};class Lfe extends kx{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Fn("w:top",e.top)),e.bottom&&this.root.push(new Fn("w:bottom",e.bottom)),e.left&&this.root.push(new Fn("w:left",e.left)),e.right&&this.root.push(new Fn("w:right",e.right))}}class Rfe extends $e{constructor(){super("w:pBdr");const e=new Fn("w:bottom",{color:"auto",space:1,style:PC.SINGLE,size:6});this.root.push(e)}}class Ife extends $e{constructor({start:e,end:n,left:r,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new Gg({start:{key:"w:start",value:e===void 0?void 0:hu(e)},end:{key:"w:end",value:n===void 0?void 0:hu(n)},left:{key:"w:left",value:r===void 0?void 0:hu(r)},right:{key:"w:right",value:i===void 0?void 0:hu(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:go(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:go(o)}}))}}let Ofe=class extends $e{constructor(){super("w:br")}};const jC={BEGIN:"begin",END:"end",SEPARATE:"separate"};class LC extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Dy extends $e{constructor(e){super("w:fldChar"),this.root.push(new LC({type:jC.BEGIN,dirty:e}))}}class Fy extends $e{constructor(e){super("w:fldChar"),this.root.push(new LC({type:jC.SEPARATE,dirty:e}))}}class By extends $e{constructor(e){super("w:fldChar"),this.root.push(new LC({type:jC.END,dirty:e}))}}const dh={DEFAULT:"default",PRESERVE:"preserve"};class fh extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{space:"xml:space"})}}class Mfe extends $e{constructor(){super("w:instrText"),this.root.push(new fh({space:dh.PRESERVE})),this.root.push("PAGE")}}class Dfe extends $e{constructor(){super("w:instrText"),this.root.push(new fh({space:dh.PRESERVE})),this.root.push("NUMPAGES")}}class Ffe extends $e{constructor(){super("w:instrText"),this.root.push(new fh({space:dh.PRESERVE})),this.root.push("SECTIONPAGES")}}class Bfe extends $e{constructor(){super("w:instrText"),this.root.push(new fh({space:dh.PRESERVE})),this.root.push("SECTION")}}class zfe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class c9 extends $e{constructor({fill:e,color:n,type:r}){super("w:shd"),this.root.push(new zfe({fill:e===void 0?void 0:uh(e),color:n===void 0?void 0:uh(n),type:r}))}}class Ufe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const $fe={DOT:"dot"};class Vfe extends $e{constructor(e){super("w:em"),this.root.push(new Zn({val:e}))}}class Hfe extends Vfe{constructor(e=$fe.DOT){super(e)}}class qfe extends $e{constructor(e){super("w:spacing"),this.root.push(new Zn({val:hu(e)}))}}class Wfe extends $e{constructor(e){super("w:color"),this.root.push(new Zn({val:uh(e)}))}}class Kfe extends $e{constructor(e){super("w:highlight"),this.root.push(new Zn({val:e}))}}class Gfe extends $e{constructor(e){super("w:highlightCs"),this.root.push(new Zn({val:e}))}}const Jfe=t=>new fc({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class WL extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Z5 extends $e{constructor(e,n){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new WL({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:n}))}else{const r=e;this.root.push(new WL(r))}}}let u9=class extends $e{constructor(e){super("w:vertAlign"),this.root.push(new Zn({val:e}))}};class Yfe extends u9{constructor(){super("superscript")}}class Xfe extends u9{constructor(){super("subscript")}}const d9={SINGLE:"single"};let Qfe=class extends $e{constructor(e=d9.SINGLE,n){super("w:u"),this.root.push(new Zn({val:e,color:n===void 0?void 0:uh(n)}))}};class Yu extends kx{constructor(e){var n,r;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new We("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new We("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new We("w:bCs",(n=e.boldComplexScript)!=null?n:e.bold)),e.italics!==void 0&&this.push(new We("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new We("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.underline&&this.push(new Qfe(e.underline.type,e.underline.color)),e.effect&&this.push(new Uf("w:effect",e.effect)),e.emphasisMark&&this.push(new Hfe(e.emphasisMark.type)),e.color&&this.push(new Wfe(e.color)),e.kern&&this.push(new Q5("w:kern",e.kern)),e.position&&this.push(new Uf("w:position",e.position)),e.size!==void 0&&this.push(new Q5("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Q5("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new We("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new We("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new We("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new We("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new We("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new Xfe),e.superScript&&this.push(new Yfe),e.style&&this.push(new Uf("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Z5(e.font)):"name"in e.font?this.push(new Z5(e.font.name,e.font.hint)):this.push(new Z5(e.font))),e.highlight&&this.push(new Kfe(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new Gfe(s)),e.characterSpacing&&this.push(new qfe(e.characterSpacing)),e.emboss!==void 0&&this.push(new We("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new We("w:imprint",e.imprint)),e.shading&&this.push(new c9(e.shading)),e.revision&&this.push(new Zfe(e.revision)),e.border&&this.push(new Fn("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new We("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new We("w:vanish",e.vanish)),e.specVanish&&this.push(new We("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new TC("w:w",e.scale)),e.language&&this.push(Jfe(e.language)),e.math&&this.push(new We("w:oMath",e.math))}push(e){this.root.push(e)}}class Zfe extends $e{constructor(e){super("w:rPrChange"),this.root.push(new Ufe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Yu(e))}}let tN=class extends $e{constructor(e){var n;return super("w:t"),typeof e=="string"?(this.root.push(new fh({space:dh.PRESERVE})),this.root.push(e),this):(this.root.push(new fh({space:(n=e.space)!=null?n:dh.DEFAULT})),this.root.push(e.text),this)}};const zy={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Cx extends $e{constructor(e){if(super("w:r"),ze(this,"properties"),this.properties=new Yu(e),this.root.push(this.properties),e.break)for(let n=0;n<e.break;n++)this.root.push(new Ofe);if(e.children)for(const n of e.children){if(typeof n=="string"){switch(n){case zy.CURRENT:this.root.push(new Dy),this.root.push(new Mfe),this.root.push(new Fy),this.root.push(new By);break;case zy.TOTAL_PAGES:this.root.push(new Dy),this.root.push(new Dfe),this.root.push(new Fy),this.root.push(new By);break;case zy.TOTAL_PAGES_IN_SECTION:this.root.push(new Dy),this.root.push(new Ffe),this.root.push(new Fy),this.root.push(new By);break;case zy.CURRENT_SECTION:this.root.push(new Dy),this.root.push(new Bfe),this.root.push(new Fy),this.root.push(new By);break;default:this.root.push(new tN(n));break}continue}this.root.push(n)}else e.text&&this.root.push(new tN(e.text))}}class nN extends Cx{constructor(e){if(typeof e=="string")return super({}),this.root.push(new tN(e)),this;super(e)}}let ehe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",the=(t,e=21)=>(n=e)=>{let r="",i=n;for(;i--;)r+=t[Math.random()*t.length|0];return r},nhe=(t=21)=>{let e="",n=t;for(;n--;)e+=ehe[Math.random()*64|0];return e};const so=t=>Math.floor(t*72*20),RC=(t=0)=>{let e=t;return()=>++e},rhe=()=>RC(),ihe=()=>RC(1),she=()=>RC(),ohe=()=>nhe().toLowerCase(),Ip=t=>the("1234567890abcdef",t)(),ahe=()=>`${Ip(8)}-${Ip(4)}-${Ip(4)}-${Ip(4)}-${Ip(12)}`;class lhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class che extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class uhe extends $e{constructor({id:e,initials:n,author:r,date:i=new Date,children:s}){super("w:comment"),this.root.push(new lhe({id:e,initials:n,author:r,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class dhe extends $e{constructor({children:e}){super("w:comments"),this.root.push(new che({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of e)this.root.push(new uhe(n))}}class fhe extends $e{constructor(){super("w:pageBreakBefore")}}const rN={AUTO:"auto"};class hhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class phe extends $e{constructor(e){super("w:spacing"),this.root.push(new hhe(e))}}let Uy=class extends $e{constructor(e){super("w:pStyle"),this.root.push(new Zn({val:e}))}};class mhe extends $e{constructor(e){super("w:tabs");for(const n of e)this.root.push(new yhe(n))}}const KL={LEFT:"left",RIGHT:"right"};class ghe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class yhe extends $e{constructor({type:e,position:n,leader:r}){super("w:tab"),this.root.push(new ghe({val:e,pos:n,leader:r}))}}class GL extends $e{constructor(e,n){super("w:numPr"),this.root.push(new vhe(n)),this.root.push(new whe(e))}}class vhe extends $e{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Zn({val:e}))}}class whe extends $e{constructor(e){super("w:numId"),this.root.push(new Zn({val:typeof e=="string"?`{${e}}`:e}))}}class xhe extends $e{constructor(){super(...arguments),ze(this,"fileChild",Symbol())}}class bhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const She={EXTERNAL:"External"};class khe extends $e{constructor(e,n,r,i){super("Relationship"),this.root.push(new bhe({id:e,type:n,target:r,targetMode:i}))}}class _he extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Nhe extends $e{constructor(e,n,r){super("w:hyperlink"),ze(this,"linkId"),this.linkId=n;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},s=new _he(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class Ehe extends $e{constructor(e){super("w:externalHyperlink"),this.options=e}}class Ahe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Che extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{id:"w:id"})}}class The{constructor(e){ze(this,"bookmarkUniqueNumericId",she()),ze(this,"start"),ze(this,"children"),ze(this,"end");const n=this.bookmarkUniqueNumericId();this.start=new Phe(e.id,n),this.children=e.children,this.end=new jhe(n)}}class Phe extends $e{constructor(e,n){super("w:bookmarkStart");const r=new Ahe({name:e,id:n});this.root.push(r)}}class jhe extends $e{constructor(e){super("w:bookmarkEnd");const n=new Che({id:e});this.root.push(n)}}class Lhe extends $e{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Zn({val:e}))}}class Rhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{verticalAlign:"w:val"})}}class Ihe extends $e{constructor(e){super("w:vAlign"),this.root.push(new Rhe({verticalAlign:e}))}}const $f={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Ohe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const JL={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class eS extends $e{constructor(e,n){super(e),this.root.push(new Ohe({type:n.type||$f.DEFAULT,id:`rId${n.id}`}))}}class Mhe extends $e{constructor({space:e,count:n,separate:r,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Gg({space:{key:"w:space",value:e===void 0?void 0:go(e)},count:{key:"w:num",value:n===void 0?void 0:Vi(n)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}class Dhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class Fhe extends $e{constructor(e,n,r){super("w:docGrid"),this.root.push(new Dhe({type:r,linePitch:Vi(e),charSpace:n?Vi(n):void 0}))}}const Bhe=({countBy:t,start:e,restart:n,distance:r})=>new fc({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Vi(t)},start:{key:"w:start",value:e===void 0?void 0:Vi(e)},restart:{key:"w:restart",value:n},distance:{key:"w:distance",value:r===void 0?void 0:go(r)}}});class YL extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class zhe extends kx{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new YL({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new YL({})),e.pageBorderTop&&this.root.push(new Fn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Fn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Fn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Fn("w:right",e.pageBorderRight))}}class Uhe extends $e{constructor(e,n,r,i,s,o,a){super("w:pgMar"),this.root.push(new Gg({top:{key:"w:top",value:hu(e)},right:{key:"w:right",value:go(n)},bottom:{key:"w:bottom",value:hu(r)},left:{key:"w:left",value:go(i)},header:{key:"w:header",value:go(s)},footer:{key:"w:footer",value:go(o)},gutter:{key:"w:gutter",value:go(a)}}))}}class $he extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Vhe extends $e{constructor({start:e,formatType:n,separator:r}){super("w:pgNumType"),this.root.push(new $he({start:e===void 0?void 0:Vi(e),formatType:n,separator:r}))}}const f9={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class Hhe extends $e{constructor(e,n,r){super("w:pgSz");const i=r===f9.LANDSCAPE,s=go(e),o=go(n);this.root.push(new Gg({width:{key:"w:w",value:i?o:s},height:{key:"w:h",value:i?s:o},orientation:{key:"w:orient",value:r}}))}}class qhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val"})}}class Whe extends $e{constructor(e){super("w:textDirection"),this.root.push(new qhe({val:e}))}}class Khe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val"})}}class Ghe extends $e{constructor(e){super("w:type"),this.root.push(new Khe({val:e}))}}const Gc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},tS={WIDTH:11906,HEIGHT:16838,ORIENTATION:f9.PORTRAIT};class Jhe extends $e{constructor({page:{size:{width:e=tS.WIDTH,height:n=tS.HEIGHT,orientation:r=tS.ORIENTATION}={},margin:{top:i=Gc.TOP,right:s=Gc.RIGHT,bottom:o=Gc.BOTTOM,left:a=Gc.LEFT,header:l=Gc.HEADER,footer:c=Gc.FOOTER,gutter:u=Gc.GUTTER}={},pageNumbers:d={},borders:h,textDirection:f}={},grid:{linePitch:m=360,charSpace:g,type:v}={},headerWrapperGroup:y={},footerWrapperGroup:w={},lineNumbers:b,titlePage:N,verticalAlign:C,column:M,type:B}={}){super("w:sectPr"),this.addHeaderFooterGroup(JL.HEADER,y),this.addHeaderFooterGroup(JL.FOOTER,w),B&&this.root.push(new Ghe(B)),this.root.push(new Hhe(e,n,r)),this.root.push(new Uhe(i,s,o,a,l,c,u)),h&&this.root.push(new zhe(h)),b&&this.root.push(Bhe(b)),this.root.push(new Vhe(d)),M&&this.root.push(new Mhe(M)),C&&this.root.push(new Ihe(C)),N!==void 0&&this.root.push(new We("w:titlePg",N)),f&&this.root.push(new Whe(f)),this.root.push(new Fhe(m,g,v))}addHeaderFooterGroup(e,n){n.default&&this.root.push(new eS(e,{type:$f.DEFAULT,id:n.default.View.ReferenceId})),n.first&&this.root.push(new eS(e,{type:$f.FIRST,id:n.first.View.ReferenceId})),n.even&&this.root.push(new eS(e,{type:$f.EVEN,id:n.even.View.ReferenceId}))}}class Yhe extends $e{constructor(){super("w:body"),ze(this,"sections",[])}addSection(e){const n=this.sections.pop();this.root.push(this.createSectionParagraph(n)),this.sections.push(new Jhe(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const n=new B1({}),r=new hh({});return r.push(e),n.addChildElement(r),n}}class Yg extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class Xhe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Qhe extends $e{constructor(e){super("w:background"),this.root.push(new Xhe({color:e.color===void 0?void 0:uh(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:qL(e.themeShade),themeTint:e.themeTint===void 0?void 0:qL(e.themeTint)}))}}let Zhe=class extends $e{constructor(e){super("w:document"),ze(this,"body"),this.root.push(new Yg({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new Yhe,e.background&&this.root.push(new Qhe(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}};class epe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{xmlns:"xmlns"})}}class Mh extends $e{constructor(){super("Relationships"),this.root.push(new epe({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,n,r,i){const s=new khe(`rId${e}`,n,r,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class h9{constructor(e){ze(this,"document"),ze(this,"relationships"),this.document=new Zhe(e),this.relationships=new Mh}get View(){return this.document}get Relationships(){return this.relationships}}class tpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val"})}}class npe extends $e{constructor(){super("w:wordWrap"),this.root.push(new tpe({val:0}))}}const rpe=t=>{var e,n;return new fc({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(n=t.space)==null?void 0:n.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class hh extends kx{constructor(e){var n,r;if(super("w:pPr"),ze(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Uy(e.heading)),e.bullet&&this.push(new Uy("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Uy("ListParagraph"))),e.style&&this.push(new Uy(e.style)),e.keepNext!==void 0&&this.push(new We("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new We("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new fhe),e.frame&&this.push(rpe(e.frame)),e.widowControl!==void 0&&this.push(new We("w:widowControl",e.widowControl)),e.bullet&&this.push(new GL(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(n=e.numbering.instance)!=null?n:0}),this.push(new GL(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))),e.border&&this.push(new Lfe(e.border)),e.thematicBreak&&this.push(new Rfe),e.shading&&this.push(new c9(e.shading)),e.wordWrap&&this.push(new npe),e.overflowPunctuation&&this.push(new We("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:KL.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:KL.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new mhe(i)),e.bidirectional!==void 0&&this.push(new We("w:bidi",e.bidirectional)),e.spacing&&this.push(new phe(e.spacing)),e.indent&&this.push(new Ife(e.indent)),e.contextualSpacing!==void 0&&this.push(new We("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Pfe(e.alignment)),e.outlineLevel!==void 0&&this.push(new Lhe(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new We("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new We("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Yu(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof h9)for(const n of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(n.reference,n.instance);return super.prepForXml(e)}}let B1=class extends xhe{constructor(e){if(super("w:p"),ze(this,"properties"),typeof e=="string")return this.properties=new hh({}),this.root.push(this.properties),this.root.push(new nN(e)),this;if(this.properties=new hh(e),this.root.push(this.properties),e.text&&this.root.push(new nN(e.text)),e.children)for(const n of e.children){if(n instanceof The){this.root.push(n.start);for(const r of n.children)this.root.push(r);this.root.push(n.end);continue}this.root.push(n)}}prepForXml(e){for(const n of this.root)if(n instanceof Ehe){const r=this.root.indexOf(n),i=new Nhe(n.options.children,ohe());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",n.options.link,She.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}};const zd={style:PC.NONE,size:0,color:"auto"},Ud={style:PC.SINGLE,size:4,color:"auto"};class ipe extends $e{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Fn("w:top",e.top)):this.root.push(new Fn("w:top",Ud)),e.left?this.root.push(new Fn("w:left",e.left)):this.root.push(new Fn("w:left",Ud)),e.bottom?this.root.push(new Fn("w:bottom",e.bottom)):this.root.push(new Fn("w:bottom",Ud)),e.right?this.root.push(new Fn("w:right",e.right)):this.root.push(new Fn("w:right",Ud)),e.insideHorizontal?this.root.push(new Fn("w:insideH",e.insideHorizontal)):this.root.push(new Fn("w:insideH",Ud)),e.insideVertical?this.root.push(new Fn("w:insideV",e.insideVertical)):this.root.push(new Fn("w:insideV",Ud))}}ze(ipe,"NONE",{top:zd,bottom:zd,left:zd,right:zd,insideHorizontal:zd,insideVertical:zd});class spe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ope extends $e{constructor(){super("Properties"),this.root.push(new spe({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class ape extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{xmlns:"xmlns"})}}class lpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class xl extends $e{constructor(e,n){super("Default"),this.root.push(new lpe({contentType:e,extension:n}))}}class cpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Es extends $e{constructor(e,n){super("Override"),this.root.push(new cpe({contentType:e,partName:n}))}}class upe extends $e{constructor(){super("Types"),this.root.push(new ape({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new xl("image/png","png")),this.root.push(new xl("image/jpeg","jpeg")),this.root.push(new xl("image/jpeg","jpg")),this.root.push(new xl("image/bmp","bmp")),this.root.push(new xl("image/gif","gif")),this.root.push(new xl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new xl("application/xml","xml")),this.root.push(new xl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Es("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Es("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class dpe extends $e{constructor(e){super("cp:coreProperties"),this.root.push(new Yg({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new Kc("dc:title",e.title)),e.subject&&this.root.push(new Kc("dc:subject",e.subject)),e.creator&&this.root.push(new Kc("dc:creator",e.creator)),e.keywords&&this.root.push(new Kc("cp:keywords",e.keywords)),e.description&&this.root.push(new Kc("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Kc("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Kc("cp:revision",String(e.revision))),this.root.push(new XL("dcterms:created")),this.root.push(new XL("dcterms:modified"))}}class XL extends $e{constructor(e){super(e),this.root.push(new Yg({type:"dcterms:W3CDTF"})),this.root.push(Cfe(new Date))}}class fpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class hpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class ppe extends $e{constructor(e,n){super("property"),this.root.push(new hpe({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:n.name})),this.root.push(new mpe(n.value))}}class mpe extends $e{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class gpe extends $e{constructor(e){super("Properties"),ze(this,"nextId"),ze(this,"properties",[]),this.root.push(new fpe({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const n of e)this.addCustomProperty(n)}prepForXml(e){return this.properties.forEach(n=>this.root.push(n)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new ppe(this.nextId++,e))}}class ype extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let vpe=class extends s9{constructor(e,n){super("w:ftr",n),ze(this,"refId"),this.refId=e,n||this.root.push(new ype({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class wpe{constructor(e,n,r){ze(this,"footer"),ze(this,"relationships"),this.media=e,this.footer=new vpe(n,r),this.relationships=new Mh}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class xpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class bpe extends $e{constructor(){super("w:footnoteRef")}}class Spe extends Cx{constructor(){super({style:"FootnoteReference"}),this.root.push(new bpe)}}const QL={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class nS extends $e{constructor(e){super("w:footnote"),this.root.push(new xpe({type:e.type,id:e.id}));for(let n=0;n<e.children.length;n++){const r=e.children[n];n===0&&r.addRunToFront(new Spe),this.root.push(r)}}}class kpe extends $e{constructor(){super("w:continuationSeparator")}}class _pe extends Cx{constructor(){super({}),this.root.push(new kpe)}}class Npe extends $e{constructor(){super("w:separator")}}class Epe extends Cx{constructor(){super({}),this.root.push(new Npe)}}class Ape extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Cpe extends $e{constructor(){super("w:footnotes"),this.root.push(new Ape({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new nS({id:-1,type:QL.SEPERATOR,children:[new B1({spacing:{after:0,line:240,lineRule:rN.AUTO},children:[new Epe]})]});this.root.push(e);const n=new nS({id:0,type:QL.CONTINUATION_SEPERATOR,children:[new B1({spacing:{after:0,line:240,lineRule:rN.AUTO},children:[new _pe]})]});this.root.push(n)}createFootNote(e,n){const r=new nS({id:e,children:n});this.root.push(r)}}class Tpe{constructor(){ze(this,"footnotess"),ze(this,"relationships"),this.footnotess=new Cpe,this.relationships=new Mh}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Ppe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let jpe=class extends s9{constructor(e,n){super("w:hdr",n),ze(this,"refId"),this.refId=e,n||this.root.push(new Ppe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Lpe{constructor(e,n,r){ze(this,"header"),ze(this,"relationships"),this.media=e,this.header=new jpe(n,r),this.relationships=new Mh}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Rpe{constructor(){ze(this,"map"),this.map=new Map}addImage(e,n){this.map.set(e,n)}get Array(){return Array.from(this.map.values())}}const ka={BULLET:"bullet"};class Ipe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Ope extends $e{constructor(e){super("w:numFmt"),this.root.push(new Zn({val:e}))}}class Mpe extends $e{constructor(e){super("w:lvlText"),this.root.push(new Zn({val:e}))}}class Dpe extends $e{constructor(e){super("w:lvlJc"),this.root.push(new Zn({val:e}))}}class Fpe extends $e{constructor(e){super("w:suff"),this.root.push(new Zn({val:e}))}}class Bpe extends $e{constructor(){super("w:isLgl")}}class zpe extends $e{constructor({level:e,format:n,text:r,alignment:i=Bo.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),ze(this,"paragraphProperties"),ze(this,"runProperties"),this.root.push(new TC("w:start",Vi(s))),n&&this.root.push(new Ope(n)),a&&this.root.push(new Fpe(a)),l&&this.root.push(new Bpe),r&&this.root.push(new Mpe(r)),this.root.push(new Dpe(i)),this.paragraphProperties=new hh(o&&o.paragraph),this.runProperties=new Yu(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ipe({ilvl:Vi(e),tentative:1}))}}class Upe extends zpe{}class $pe extends $e{constructor(e){super("w:multiLevelType"),this.root.push(new Zn({val:e}))}}class Vpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class ZL extends $e{constructor(e,n){super("w:abstractNum"),ze(this,"id"),this.root.push(new Vpe({abstractNumId:Vi(e),restartNumberingAfterBreak:0})),this.root.push(new $pe("hybridMultilevel")),this.id=e;for(const r of n)this.root.push(new Upe(r))}}class Hpe extends $e{constructor(e){super("w:abstractNumId"),this.root.push(new Zn({val:e}))}}class qpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{numId:"w:numId"})}}class eR extends $e{constructor(e){if(super("w:num"),ze(this,"numId"),ze(this,"reference"),ze(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new qpe({numId:Vi(e.numId)})),this.root.push(new Hpe(Vi(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const n of e.overrideLevels)this.root.push(new Kpe(n.num,n.start))}}class Wpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Kpe extends $e{constructor(e,n){super("w:lvlOverride"),this.root.push(new Wpe({ilvl:e})),n!==void 0&&this.root.push(new Jpe(n))}}class Gpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val"})}}class Jpe extends $e{constructor(e){super("w:startOverride"),this.root.push(new Gpe({val:e}))}}class Ype extends $e{constructor(e){super("w:numbering"),ze(this,"abstractNumberingMap",new Map),ze(this,"concreteNumberingMap",new Map),ze(this,"referenceConfigMap",new Map),ze(this,"abstractNumUniqueNumericId",rhe()),ze(this,"concreteNumUniqueNumericId",ihe()),this.root.push(new Yg({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const n=new ZL(this.abstractNumUniqueNumericId(),[{level:0,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:so(.5),hanging:so(.25)}}}},{level:1,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:so(1),hanging:so(.25)}}}},{level:2,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:2160,hanging:so(.25)}}}},{level:3,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:2880,hanging:so(.25)}}}},{level:4,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:3600,hanging:so(.25)}}}},{level:5,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:4320,hanging:so(.25)}}}},{level:6,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:5040,hanging:so(.25)}}}},{level:7,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:5760,hanging:so(.25)}}}},{level:8,format:ka.BULLET,text:"",alignment:Bo.LEFT,style:{paragraph:{indent:{left:6480,hanging:so(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new eR({numId:1,abstractNumId:n.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",n);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new ZL(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const n of this.abstractNumberingMap.values())this.root.push(n);for(const n of this.concreteNumberingMap.values())this.root.push(n);return super.prepForXml(e)}createConcreteNumberingInstance(e,n){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${n}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:n,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new eR(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Xpe extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Qpe extends $e{constructor(e){super("w:compatSetting"),this.root.push(new Xpe({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Zpe extends $e{constructor(e){super("w:compat"),e.version&&this.root.push(new Qpe(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new We("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new We("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new We("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new We("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new We("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new We("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new We("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new We("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new We("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new We("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new We("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new We("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new We("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new We("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new We("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new We("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new We("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new We("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new We("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new We("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new We("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new We("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new We("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new We("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new We("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new We("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new We("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new We("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new We("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new We("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new We("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new We("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new We("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new We("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new We("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new We("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new We("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new We("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new We("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new We("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new We("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new We("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new We("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new We("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new We("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new We("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new We("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new We("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new We("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new We("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new We("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new We("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new We("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new We("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new We("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new We("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new We("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new We("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new We("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new We("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new We("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new We("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new We("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new We("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new We("w:cachedColBalance",e.cachedColumnBalance))}}class eme extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let tme=class extends $e{constructor(e){var n,r,i,s;super("w:settings"),this.root.push(new eme({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new We("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new We("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new We("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new We("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new TC("w:defaultTabStop",e.defaultTabStop)),this.root.push(new Zpe(fg(Gt({},(n=e.compatibility)!=null?n:{}),{version:(s=(i=(r=e.compatibility)==null?void 0:r.version)!=null?i:e.compatibilityModeVersion)!=null?s:15})))}};class p9 extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{val:"w:val"})}}class nme extends $e{constructor(e){super("w:name"),this.root.push(new p9({val:e}))}}class rme extends $e{constructor(e){super("w:uiPriority"),this.root.push(new p9({val:Vi(e)}))}}class ime extends St{constructor(){super(...arguments),ze(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class m9 extends $e{constructor(e,n){super("w:style"),this.root.push(new ime(e)),n.name&&this.root.push(new nme(n.name)),n.basedOn&&this.root.push(new Uf("w:basedOn",n.basedOn)),n.next&&this.root.push(new Uf("w:next",n.next)),n.link&&this.root.push(new Uf("w:link",n.link)),n.uiPriority!==void 0&&this.root.push(new rme(n.uiPriority)),n.semiHidden!==void 0&&this.root.push(new We("w:semiHidden",n.semiHidden)),n.unhideWhenUsed!==void 0&&this.root.push(new We("w:unhideWhenUsed",n.unhideWhenUsed)),n.quickFormat!==void 0&&this.root.push(new We("w:qFormat",n.quickFormat))}}class Tx extends m9{constructor(e){super({type:"paragraph",styleId:e.id},e),ze(this,"paragraphProperties"),ze(this,"runProperties"),this.paragraphProperties=new hh(e.paragraph),this.runProperties=new Yu(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Px extends m9{constructor(e){super({type:"character",styleId:e.id},Gt({uiPriority:99,unhideWhenUsed:!0},e)),ze(this,"runProperties"),this.runProperties=new Yu(e.run),this.root.push(this.runProperties)}}class Nc extends Tx{constructor(e){super(Gt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class sme extends Nc{constructor(e){super(Gt({id:"Title",name:"Title"},e))}}class ome extends Nc{constructor(e){super(Gt({id:"Heading1",name:"Heading 1"},e))}}class ame extends Nc{constructor(e){super(Gt({id:"Heading2",name:"Heading 2"},e))}}class lme extends Nc{constructor(e){super(Gt({id:"Heading3",name:"Heading 3"},e))}}class cme extends Nc{constructor(e){super(Gt({id:"Heading4",name:"Heading 4"},e))}}class ume extends Nc{constructor(e){super(Gt({id:"Heading5",name:"Heading 5"},e))}}class dme extends Nc{constructor(e){super(Gt({id:"Heading6",name:"Heading 6"},e))}}class fme extends Nc{constructor(e){super(Gt({id:"Strong",name:"Strong"},e))}}class hme extends Tx{constructor(e){super(Gt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class pme extends Tx{constructor(e){super(Gt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:rN.AUTO}},run:{size:20}},e))}}class mme extends Px{constructor(e){super(Gt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class gme extends Px{constructor(e){super(Gt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class yme extends Px{constructor(e){super(Gt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:d9.SINGLE}}},e))}}class iN extends $e{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const n of e.importedStyles)this.root.push(n);if(e.paragraphStyles)for(const n of e.paragraphStyles)this.root.push(new Tx(n));if(e.characterStyles)for(const n of e.characterStyles)this.root.push(new Px(n))}}class vme extends $e{constructor(e){super("w:pPrDefault"),this.root.push(new hh(e))}}class wme extends $e{constructor(e){super("w:rPrDefault"),this.root.push(new Yu(e))}}class xme extends $e{constructor(e){super("w:docDefaults"),ze(this,"runPropertiesDefaults"),ze(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new wme(e.run),this.paragraphPropertiesDefaults=new vme(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class bme{newInstance(e){const n=i9.xml2js(e,{compact:!1});let r;for(const o of n.elements||[])o.name==="w:styles"&&(r=o);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new iN({initialStyles:new _fe(r.attributes),importedStyles:i.map(o=>CC(o))})}}class tR{newInstance(e={}){var n;return{initialStyles:new Yg({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new xme((n=e.document)!=null?n:{}),new sme(Gt({run:{size:56}},e.title)),new ome(Gt({run:{color:"2E74B5",size:32}},e.heading1)),new ame(Gt({run:{color:"2E74B5",size:26}},e.heading2)),new lme(Gt({run:{color:"1F4D78",size:24}},e.heading3)),new cme(Gt({run:{color:"2E74B5",italics:!0}},e.heading4)),new ume(Gt({run:{color:"2E74B5"}},e.heading5)),new dme(Gt({run:{color:"1F4D78"}},e.heading6)),new fme(Gt({run:{bold:!0}},e.strong)),new hme(e.listParagraph||{}),new yme(e.hyperlink||{}),new mme(e.footnoteReference||{}),new pme(e.footnoteText||{}),new gme(e.footnoteTextChar||{})]}}}const $y=({id:t,fontKey:e,subsetted:n},r)=>new fc({name:r,attributes:Gt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...n?[new We("w:subsetted",n)]:[]]}),Sme=({name:t,altName:e,panose1:n,charset:r,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:d})=>new fc({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Rp("w:altName",e)]:[],...n?[Rp("w:panose1",n)]:[],...r?[Rp("w:charset",r)]:[],Rp("w:family",i),...s?[new We("w:notTrueType",s)]:[],Rp("w:pitch",o),...a?[new fc({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...l?[$y(l,"w:embedRegular")]:[],...c?[$y(c,"w:embedBold")]:[],...u?[$y(u,"w:embedItalic")]:[],...d?[$y(d,"w:embedBoldItalic")]:[]]}),kme=({name:t,index:e,fontKey:n,characterSet:r})=>Sme({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:n,id:`rId${e}`}}),_me=t=>new fc({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,n)=>kme({name:e.name,index:n+1,fontKey:e.fontKey}))});class Nme{constructor(e){ze(this,"fontTable"),ze(this,"relationships"),ze(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(n=>fg(Gt({},n),{fontKey:ahe()})),this.fontTable=_me(this.fontOptionsWithKey),this.relationships=new Mh;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[n].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Eme{constructor(e){ze(this,"currentRelationshipId",1),ze(this,"documentWrapper"),ze(this,"headers",[]),ze(this,"footers",[]),ze(this,"coreProperties"),ze(this,"numbering"),ze(this,"media"),ze(this,"fileRelationships"),ze(this,"footnotesWrapper"),ze(this,"settings"),ze(this,"contentTypes"),ze(this,"customProperties"),ze(this,"appProperties"),ze(this,"styles"),ze(this,"comments"),ze(this,"fontWrapper");var n,r,i,s,o,a,l,c;if(this.coreProperties=new dpe(fg(Gt({},e),{creator:(n=e.creator)!=null?n:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new Ype(e.numbering?e.numbering:{config:[]}),this.comments=new dhe((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Mh,this.customProperties=new gpe((o=e.customProperties)!=null?o:[]),this.appProperties=new ope,this.footnotesWrapper=new Tpe,this.contentTypes=new upe,this.documentWrapper=new h9({background:e.background}),this.settings=new tme({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(a=e.features)==null?void 0:a.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new Rpe,e.externalStyles){const u=new bme;this.styles=u.newInstance(e.externalStyles)}else if(e.styles){const d=new tR().newInstance(e.styles.default);this.styles=new iN(Gt(Gt({},d),e.styles))}else{const u=new tR;this.styles=new iN(u.newInstance())}this.addDefaultRelationships();for(const u of e.sections)this.addSection(u);if(e.footnotes)for(const u in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(u),e.footnotes[u].children);this.fontWrapper=new Nme((c=e.fonts)!=null?c:[])}addSection({headers:e={},footers:n={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(fg(Gt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const s of r)this.documentWrapper.View.add(s)}createHeader(e){const n=new Lpe(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addHeaderToDocument(n),n}createFooter(e){const n=new wpe(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addFooterToDocument(n),n}addHeaderToDocument(e,n=$f.DEFAULT){this.headers.push({header:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,n=$f.DEFAULT){this.footers.push({footer:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function Vy(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var g9={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Vy=="function"&&Vy;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[c]={exports:{}};r[c][0].call(f.exports,function(m){var g=r[c][1][m];return o(g||m)},f,f.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Vy=="function"&&Vy,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,h,f,m,g,v=[],y=0,w=l.length,b=w,N=s.getTypeOf(l)!=="string";y<l.length;)b=w-y,d=N?(c=l[y++],u=y<w?l[y++]:0,y<w?l[y++]:0):(c=l.charCodeAt(y++),u=y<w?l.charCodeAt(y++):0,y<w?l.charCodeAt(y++):0),h=c>>2,f=(3&c)<<4|u>>4,m=1<b?(15&u)<<2|d>>6:64,g=2<b?63&d:64,v.push(a.charAt(h)+a.charAt(f)+a.charAt(m)+a.charAt(g));return v.join("")},i.decode=function(l){var c,u,d,h,f,m,g=0,v=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var w,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=o.uint8array?new Uint8Array(0|b):new Array(0|b);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(h=a.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(f=a.indexOf(l.charAt(g++)))>>2,d=(3&f)<<6|(m=a.indexOf(l.charAt(g++))),w[v++]=c,f!==64&&(w[v++]=u),m!==64&&(w[v++]=d);return w}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,h,f,m){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=m}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,h){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,d,h){var f=o,m=h+d;c^=-1;for(var g=h;g<m;g++)c=c>>>8^f[255&(c^u[g])];return-1^c}(0|l,a,a.length,0):function(c,u,d,h){var f=o,m=h+d;c^=-1;for(var g=h;g<m;g++)c=c>>>8^f[255&(c^u.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(f,m){var g,v="";for(g=0;g<m;g++)v+=String.fromCharCode(255&f),f>>>=8;return v}function o(f,m,g,v,y,w){var b,N,C=f.file,M=f.compression,B=w!==c.utf8encode,z=a.transformTo("string",w(C.name)),F=a.transformTo("string",c.utf8encode(C.name)),G=C.comment,W=a.transformTo("string",w(G)),L=a.transformTo("string",c.utf8encode(G)),V=F.length!==C.name.length,E=L.length!==G.length,te="",pe="",re="",K=C.dir,Y=C.date,q={crc32:0,compressedSize:0,uncompressedSize:0};m&&!g||(q.crc32=f.crc32,q.compressedSize=f.compressedSize,q.uncompressedSize=f.uncompressedSize);var de=0;m&&(de|=8),B||!V&&!E||(de|=2048);var T=0,R=0;K&&(T|=16),y==="UNIX"?(R=798,T|=function(ae,Q){var O=ae;return ae||(O=Q?16893:33204),(65535&O)<<16}(C.unixPermissions,K)):(R=20,T|=function(ae){return 63&(ae||0)}(C.dosPermissions)),b=Y.getUTCHours(),b<<=6,b|=Y.getUTCMinutes(),b<<=5,b|=Y.getUTCSeconds()/2,N=Y.getUTCFullYear()-1980,N<<=4,N|=Y.getUTCMonth()+1,N<<=5,N|=Y.getUTCDate(),V&&(pe=s(1,1)+s(u(z),4)+F,te+="up"+s(pe.length,2)+pe),E&&(re=s(1,1)+s(u(W),4)+L,te+="uc"+s(re.length,2)+re);var J="";return J+=`
\0`,J+=s(de,2),J+=M.magic,J+=s(b,2),J+=s(N,2),J+=s(q.crc32,4),J+=s(q.compressedSize,4),J+=s(q.uncompressedSize,4),J+=s(z.length,2),J+=s(te.length,2),{fileRecord:d.LOCAL_FILE_HEADER+J+z+te,dirRecord:d.CENTRAL_FILE_HEADER+s(R,2)+J+s(W.length,2)+"\0\0\0\0"+s(T,4)+s(v,4)+z+te+W}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function h(f,m,g,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=g,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(f){var m=f.meta.percent||0,g=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(m+100*(g-v-1))/g:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var m=this.streamFiles&&!f.file.dir;if(m){var g=o(f,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var m=this.streamFiles&&!f.file.dir,g=o(f,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),m)this.push({data:function(v){return d.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var g=this.bytesWritten-f,v=function(y,w,b,N,C){var M=a.transformTo("string",C(N));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(w,4)+s(b,4)+s(M.length,2)+M}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var m=this;return f.on("data",function(g){m.processChunk(g)}),f.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),f.on("error",function(g){m.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var m=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<m.length;g++)try{m[g].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,m=0;m<f.length;m++)f[m].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(h,f){d++;var m=function(w,b){var N=w||b,C=s[N];if(!C)throw new Error(N+" is not a valid compression method !");return C}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},v=f.dir,y=f.date;f._compressWorker(m,g).withStreamInfo("file",{name:h,dir:v,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(h){return new o.Promise(function(f,m){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(v){m(v)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var m=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(g){var v=new l(f);return v.load(g),v}).then(function(g){var v=[o.Promise.resolve(g)],y=g.files;if(f.checkCRC32)for(var w=0;w<y.length;w++)v.push(d(y[w]));return o.Promise.all(v)}).then(function(g){for(var v=g.shift(),y=v.files,w=0;w<y.length;w++){var b=y[w],N=b.fileNameStr,C=s.resolve(b.fileNameStr);m.file(C,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders}),b.dir||(m.file(C).unsafeOriginalName=N)}return v.zipComment.length&&(m.comment=v.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(d,h){u.push(d)||u._helper.pause(),c&&c(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(C,M,B){var z,F=a.getTypeOf(M),G=a.extend(B||{},u);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(C=y(C)),G.createFolders&&(z=v(C))&&w.call(this,z,!0);var W=F==="string"&&G.binary===!1&&G.base64===!1;B&&B.binary!==void 0||(G.binary=!W),(M instanceof d&&M.uncompressedSize===0||G.dir||!M||M.length===0)&&(G.base64=!1,G.binary=!0,M="",G.compression="STORE",F="string");var L=null;L=M instanceof d||M instanceof l?M:m.isNode&&m.isStream(M)?new g(C,M):a.prepareContent(C,M,G.binary,G.optimizedBinaryString,G.base64);var V=new h(C,L,G);this.files[C]=V}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),f=n("./generate"),m=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),v=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var M=C.lastIndexOf("/");return 0<M?C.substring(0,M):""},y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},w=function(C,M){return M=M!==void 0?M:u.createFolders,C=y(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:M}),this.files[C]};function b(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var M,B,z;for(M in this.files)z=this.files[M],(B=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&C(B,z)},filter:function(C){var M=[];return this.forEach(function(B,z){C(B,z)&&M.push(z)}),M},file:function(C,M,B){if(arguments.length!==1)return C=this.root+C,s.call(this,C,M,B),this;if(b(C)){var z=C;return this.filter(function(G,W){return!W.dir&&z.test(G)})}var F=this.files[this.root+C];return F&&!F.dir?F:null},folder:function(C){if(!C)return this;if(b(C))return this.filter(function(F,G){return G.dir&&C.test(F)});var M=this.root+C,B=w.call(this,M),z=this.clone();return z.root=B.name,z},remove:function(C){C=this.root+C;var M=this.files[C];if(M||(C.slice(-1)!=="/"&&(C+="/"),M=this.files[C]),M&&!M.dir)delete this.files[C];else for(var B=this.filter(function(F,G){return G.name.slice(0,C.length)===C}),z=0;z<B.length;z++)delete this.files[B[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var M,B={};try{if((B=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");a.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var z=B.comment||this.comment||"";M=f.generateWorker(this,B,z)}catch(F){(M=new l("error")).error(F)}return new c(M,B.type||"string",B.mimeType)},generateAsync:function(C,M){return this.generateInternalStream(C).accumulate(M)},generateNodeStream:function(C,M){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(M)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&d===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var h=s.getTypeOf(d);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new c(d):o.uint8array?new u(s.transformTo("uint8array",d)):new a(s.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(m,g){return new u.Promise(function(v,y){var w=[],b=m._internalType,N=m._outputType,C=m._mimeType;m.on("data",function(M,B){w.push(M),g&&g(B)}).on("error",function(M){w=[],y(M)}).on("end",function(){try{var M=function(B,z,F){switch(B){case"blob":return s.newBlob(s.transformTo("arraybuffer",z),F);case"base64":return l.encode(z);default:return s.transformTo(B,z)}}(N,function(B,z){var F,G=0,W=null,L=0;for(F=0;F<z.length;F++)L+=z[F].length;switch(B){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(W=new Uint8Array(L),F=0;F<z.length;F++)W.set(z[F],G),G+=z[F].length;return W;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+B+"'")}}(b,w),C);v(M)}catch(B){y(B)}w=[]}).resume()})}function f(m,g,v){var y=g;switch(g){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=g,this._mimeType=v,s.checkSupport(y),this._worker=m.pipe(new o(y)),m.lock()}catch(w){this._worker=new a("error"),this._worker.error(w)}}f.prototype={accumulate:function(m){return h(this,m)},on:function(m,g){var v=this;return m==="data"?this._worker.on(m,function(y){g.call(v,y.data,y.meta)}):this._worker.on(m,function(){s.delay(g,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(m){var g,v,y,w,b,N=m.length,C=0;for(w=0;w<N;w++)(64512&(v=m.charCodeAt(w)))==55296&&w+1<N&&(64512&(y=m.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),C+=v<128?1:v<2048?2:v<65536?3:4;for(g=o.uint8array?new Uint8Array(C):new Array(C),w=b=0;b<C;w++)(64512&(v=m.charCodeAt(w)))==55296&&w+1<N&&(64512&(y=m.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),w++),v<128?g[b++]=v:(v<2048?g[b++]=192|v>>>6:(v<65536?g[b++]=224|v>>>12:(g[b++]=240|v>>>18,g[b++]=128|v>>>12&63),g[b++]=128|v>>>6&63),g[b++]=128|63&v);return g}(f)},i.utf8decode=function(f){return o.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(m){var g,v,y,w,b=m.length,N=new Array(2*b);for(g=v=0;g<b;)if((y=m[g++])<128)N[v++]=y;else if(4<(w=c[y]))N[v++]=65533,g+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&g<b;)y=y<<6|63&m[g++],w--;1<w?N[v++]=65533:y<65536?N[v++]=y:(y-=65536,N[v++]=55296|y>>10&1023,N[v++]=56320|1023&y)}return N.length!==v&&(N.subarray?N=N.subarray(0,v):N.length=v),s.applyFromCharCode(N)}(f=s.transformTo(o.uint8array?"uint8array":"array",f))},s.inherits(d,l),d.prototype.processChunk=function(f){var m=s.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=m;(m=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),m.set(g,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var v=function(w,b){var N;for((b=b||w.length)>w.length&&(b=w.length),N=b-1;0<=N&&(192&w[N])==128;)N--;return N<0||N===0?b:N+c[w[N]]>b?N:b}(m),y=m;v!==m.length&&(o.uint8array?(y=m.subarray(0,v),this.leftOver=m.subarray(v,m.length)):(y=m.slice(0,v),this.leftOver=m.slice(v,m.length))),this.push({data:i.utf8decode(y),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,v){for(var y=0;y<g.length;++y)v[y]=255&g.charCodeAt(y);return v}n("setimmediate"),i.newBlob=function(g,v){i.checkSupport("blob");try{return new Blob([g],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(g),y.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(g,v,y){var w=[],b=0,N=g.length;if(N<=y)return String.fromCharCode.apply(null,g);for(;b<N;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,g.slice(b,Math.min(b+y,N)))):w.push(String.fromCharCode.apply(null,g.subarray(b,Math.min(b+y,N)))),b+=y;return w.join("")},stringifyByChar:function(g){for(var v="",y=0;y<g.length;y++)v+=String.fromCharCode(g[y]);return v},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var v=65536,y=i.getTypeOf(g),w=!0;if(y==="uint8array"?w=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(w=d.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return d.stringifyByChunk(g,y,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(g)}function f(g,v){for(var y=0;y<g.length;y++)v[y]=g[y];return v}i.applyFromCharCode=h;var m={};m.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return m.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,a.allocBuffer(g.length))}},m.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},m.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},m.uint8array={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},m.nodebuffer={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return m.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,v){if(v=v||"",!g)return v;i.checkSupport(g);var y=i.getTypeOf(v);return m[y][g](v)},i.resolve=function(g){for(var v=g.split("/"),y=[],w=0;w<v.length;w++){var b=v[w];b==="."||b===""&&w!==0&&w!==v.length-1||(b===".."?y.pop():y.push(b))}return y.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var v,y,w="";for(y=0;y<(g||"").length;y++)w+="\\x"+((v=g.charCodeAt(y))<16?"0":"")+v.toString(16).toUpperCase();return w},i.delay=function(g,v,y){setImmediate(function(){g.apply(y||null,v||[])})},i.inherits=function(g,v){function y(){}y.prototype=v.prototype,g.prototype=new y},i.extend=function(){var g,v,y={};for(g=0;g<arguments.length;g++)for(v in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],v)&&y[v]===void 0&&(y[v]=arguments[g][v]);return y},i.prepareContent=function(g,v,y,w,b){return l.Promise.resolve(v).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,M){var B=new FileReader;B.onload=function(z){C(z.target.result)},B.onerror=function(z){M(z.target.error)},B.readAsArrayBuffer(N)}):N}).then(function(N){var C=i.getTypeOf(N);return C?(C==="arraybuffer"?N=i.transformTo("uint8array",N):C==="string"&&(b?N=o.decode(N):y&&w!==!0&&(N=function(M){return u(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(N))),N):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===h;return this.reader.setIndex(f),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=o.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var m=h-f;if(0<m)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function h(f,m){this.options=f,this.loadOptions=m}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var m,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(v){for(var y in u)if(Object.prototype.hasOwnProperty.call(u,y)&&u[y].magic===v)return u[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var m=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(m),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var m,g,v,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)m=f.readInt(2),g=f.readInt(2),v=f.readData(g),this.extraFields[m]={id:m,length:g,value:v};f.setIndex(y)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var g=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var m=s(f.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:c.utf8decode(m.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var m=s(f.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:c.utf8decode(m.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(m,g,v){this.name=m,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=g,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(m){var g=null,v="string";try{if(!m)throw new Error("No output type specified.");var y=(v=m.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),g=this._decompressWorker();var w=!this._dataBinary;w&&!y&&(g=g.pipe(new l.Utf8EncodeWorker)),!w&&y&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(b){(g=new u("error")).error(b)}return new o(g,v,"")},async:function(m,g){return this.internalStream(m).accumulate(g)},nodeStream:function(m,g){return this.internalStream(m||"nodebuffer").toNodejsStream(g)},_compressWorker:function(m,g){if(this._data instanceof c&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,m,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)s.prototype[d[f]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(m),d=s.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){m(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(m,0)};else{var h=new s.MessageChannel;h.port1.onmessage=m,o=function(){h.port2.postMessage(0)}}var f=[];function m(){var g,v;a=!0;for(var y=f.length;y;){for(v=f,f=[],g=-1;++g<y;)v[g]();y=f.length}a=!1}r.exports=function(g){f.push(g)!==1||a||o()}}).call(this,typeof Yo<"u"?Yo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,y!==o&&g(this,y)}function h(y,w,b){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(y,w,b){s(function(){var N;try{N=w(b)}catch(C){return a.reject(y,C)}N===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,N)})}function m(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function g(y,w){var b=!1;function N(B){b||(b=!0,a.reject(y,B))}function C(B){b||(b=!0,a.resolve(y,B))}var M=v(function(){w(C,N)});M.status==="error"&&N(M.value)}function v(y,w){var b={};try{b.value=y(w),b.status="success"}catch(N){b.status="error",b.value=N}return b}(r.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(function(b){return w.resolve(y()).then(function(){return b})},function(b){return w.resolve(y()).then(function(){throw b})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,w){if(typeof y!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==u?f(b,this.state===c?y:w,this.outcome):this.queue.push(new h(b,y,w)),b},h.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){a.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},a.resolve=function(y,w){var b=v(m,w);if(b.status==="error")return a.reject(y,b.value);var N=b.value;if(N)g(y,N);else{y.state=c,y.outcome=w;for(var C=-1,M=y.queue.length;++C<M;)y.queue[C].callFulfilled(w)}return y},a.reject=function(y,w){y.state=l,y.outcome=w;for(var b=-1,N=y.queue.length;++b<N;)y.queue[b].callRejected(w);return y},d.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},d.reject=function(y){var w=new this(o);return a.reject(w,y)},d.all=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,N=!1;if(!b)return this.resolve([]);for(var C=new Array(b),M=0,B=-1,z=new this(o);++B<b;)F(y[B],B);return z;function F(G,W){w.resolve(G).then(function(L){C[W]=L,++M!==b||N||(N=!0,a.resolve(z,C))},function(L){N||(N=!0,a.reject(z,L))})}},d.race=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,N=!1;if(!b)return this.resolve([]);for(var C=-1,M=new this(o);++C<b;)B=y[C],w.resolve(B).then(function(z){N||(N=!0,a.resolve(M,z))},function(z){N||(N=!0,a.reject(M,z))});var B;return M}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,f=0,m=8;function g(y){if(!(this instanceof g))return new g(y);this.options=o.assign({level:h,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(b!==d)throw new Error(l[b]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var N;if(N=typeof w.dictionary=="string"?a.string2buf(w.dictionary):u.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(b=s.deflateSetDictionary(this.strm,N))!==d)throw new Error(l[b]);this._dict_set=!0}}function v(y,w){var b=new g(w);if(b.push(y,!0),b.err)throw b.msg||l[b.err];return b.result}g.prototype.push=function(y,w){var b,N,C=this.strm,M=this.options.chunkSize;if(this.ended)return!1;N=w===~~w?w:w===!0?4:0,typeof y=="string"?C.input=a.string2buf(y):u.call(y)==="[object ArrayBuffer]"?C.input=new Uint8Array(y):C.input=y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(M),C.next_out=0,C.avail_out=M),(b=s.deflate(C,N))!==1&&b!==d)return this.onEnd(b),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&b!==1);return N===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===d):N!==2||(this.onEnd(d),!(C.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=g,i.deflate=v,i.deflateRaw=function(y,w){return(w=w||{}).raw=!0,v(y,w)},i.gzip=function(y,w){return(w=w||{}).gzip=!0,v(y,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||g&&g.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function m(g,v){var y=new f(v);if(y.push(g,!0),y.err)throw y.msg||c[y.err];return y.result}f.prototype.push=function(g,v){var y,w,b,N,C,M,B=this.strm,z=this.options.chunkSize,F=this.options.dictionary,G=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?B.input=a.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?B.input=new Uint8Array(g):B.input=g,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new o.Buf8(z),B.next_out=0,B.avail_out=z),(y=s.inflate(B,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(M=typeof F=="string"?a.string2buf(F):h.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,y=s.inflateSetDictionary(this.strm,M)),y===l.Z_BUF_ERROR&&G===!0&&(y=l.Z_OK,G=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&y!==l.Z_STREAM_END&&(B.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(B.output,B.next_out),N=B.next_out-b,C=a.buf2string(B.output,b),B.next_out=N,B.avail_out=z-N,N&&o.arraySet(B.output,B.output,b,N,0),this.onData(C)):this.onData(o.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(G=!0)}while((0<B.avail_in||B.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(B.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=f,i.inflate=m,i.inflateRaw=function(g,v){return(v=v||{}).raw=!0,m(g,v)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,d,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),h);else for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){var c,u,d,h,f,m;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(m=new Uint8Array(d),c=h=0,u=l.length;c<u;c++)f=l[c],m.set(f,h),h+=f.length;return m}},a={arraySet:function(l,c,u,d,h){for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,h));for(var f="",m=0;m<h;m++)f+=String.fromCharCode(d[m]);return f}l[254]=l[254]=1,i.string2buf=function(d){var h,f,m,g,v,y=d.length,w=0;for(g=0;g<y;g++)(64512&(f=d.charCodeAt(g)))==55296&&g+1<y&&(64512&(m=d.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),g++),w+=f<128?1:f<2048?2:f<65536?3:4;for(h=new s.Buf8(w),g=v=0;v<w;g++)(64512&(f=d.charCodeAt(g)))==55296&&g+1<y&&(64512&(m=d.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),g++),f<128?h[v++]=f:(f<2048?h[v++]=192|f>>>6:(f<65536?h[v++]=224|f>>>12:(h[v++]=240|f>>>18,h[v++]=128|f>>>12&63),h[v++]=128|f>>>6&63),h[v++]=128|63&f);return h},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var h=new s.Buf8(d.length),f=0,m=h.length;f<m;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,m,g,v,y=h||d.length,w=new Array(2*y);for(f=m=0;f<y;)if((g=d[f++])<128)w[m++]=g;else if(4<(v=l[g]))w[m++]=65533,f+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&f<y;)g=g<<6|63&d[f++],v--;1<v?w[m++]=65533:g<65536?w[m++]=g:(g-=65536,w[m++]=55296|g>>10&1023,w[m++]=56320|1023&g)}return u(w,m)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var u=s,d=c+l;o^=-1;for(var h=c;h<d;h++)o=o>>>8^u[255&(o^a[h])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,h=4,f=0,m=-2,g=-1,v=4,y=2,w=8,b=9,N=286,C=30,M=19,B=2*N+1,z=15,F=3,G=258,W=G+F+1,L=42,V=113,E=1,te=2,pe=3,re=4;function K(U,me){return U.msg=u[me],me}function Y(U){return(U<<1)-(4<U?9:0)}function q(U){for(var me=U.length;0<=--me;)U[me]=0}function de(U){var me=U.state,j=me.pending;j>U.avail_out&&(j=U.avail_out),j!==0&&(o.arraySet(U.output,me.pending_buf,me.pending_out,j,U.next_out),U.next_out+=j,me.pending_out+=j,U.total_out+=j,U.avail_out-=j,me.pending-=j,me.pending===0&&(me.pending_out=0))}function T(U,me){a._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,me),U.block_start=U.strstart,de(U.strm)}function R(U,me){U.pending_buf[U.pending++]=me}function J(U,me){U.pending_buf[U.pending++]=me>>>8&255,U.pending_buf[U.pending++]=255&me}function ae(U,me){var j,k,_=U.max_chain_length,D=U.strstart,le=U.prev_length,ye=U.nice_match,he=U.strstart>U.w_size-W?U.strstart-(U.w_size-W):0,Ne=U.window,Le=U.w_mask,je=U.prev,we=U.strstart+G,Ae=Ne[D+le-1],Me=Ne[D+le];U.prev_length>=U.good_match&&(_>>=2),ye>U.lookahead&&(ye=U.lookahead);do if(Ne[(j=me)+le]===Me&&Ne[j+le-1]===Ae&&Ne[j]===Ne[D]&&Ne[++j]===Ne[D+1]){D+=2,j++;do;while(Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&Ne[++D]===Ne[++j]&&D<we);if(k=G-(we-D),D=we-G,le<k){if(U.match_start=me,ye<=(le=k))break;Ae=Ne[D+le-1],Me=Ne[D+le]}}while((me=je[me&Le])>he&&--_!=0);return le<=U.lookahead?le:U.lookahead}function Q(U){var me,j,k,_,D,le,ye,he,Ne,Le,je=U.w_size;do{if(_=U.window_size-U.lookahead-U.strstart,U.strstart>=je+(je-W)){for(o.arraySet(U.window,U.window,je,je,0),U.match_start-=je,U.strstart-=je,U.block_start-=je,me=j=U.hash_size;k=U.head[--me],U.head[me]=je<=k?k-je:0,--j;);for(me=j=je;k=U.prev[--me],U.prev[me]=je<=k?k-je:0,--j;);_+=je}if(U.strm.avail_in===0)break;if(le=U.strm,ye=U.window,he=U.strstart+U.lookahead,Ne=_,Le=void 0,Le=le.avail_in,Ne<Le&&(Le=Ne),j=Le===0?0:(le.avail_in-=Le,o.arraySet(ye,le.input,le.next_in,Le,he),le.state.wrap===1?le.adler=l(le.adler,ye,Le,he):le.state.wrap===2&&(le.adler=c(le.adler,ye,Le,he)),le.next_in+=Le,le.total_in+=Le,Le),U.lookahead+=j,U.lookahead+U.insert>=F)for(D=U.strstart-U.insert,U.ins_h=U.window[D],U.ins_h=(U.ins_h<<U.hash_shift^U.window[D+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[D+F-1])&U.hash_mask,U.prev[D&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=D,D++,U.insert--,!(U.lookahead+U.insert<F)););}while(U.lookahead<W&&U.strm.avail_in!==0)}function O(U,me){for(var j,k;;){if(U.lookahead<W){if(Q(U),U.lookahead<W&&me===d)return E;if(U.lookahead===0)break}if(j=0,U.lookahead>=F&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,j=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),j!==0&&U.strstart-j<=U.w_size-W&&(U.match_length=ae(U,j)),U.match_length>=F)if(k=a._tr_tally(U,U.strstart-U.match_start,U.match_length-F),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=F){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,j=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else k=a._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(k&&(T(U,!1),U.strm.avail_out===0))return E}return U.insert=U.strstart<F-1?U.strstart:F-1,me===h?(T(U,!0),U.strm.avail_out===0?pe:re):U.last_lit&&(T(U,!1),U.strm.avail_out===0)?E:te}function I(U,me){for(var j,k,_;;){if(U.lookahead<W){if(Q(U),U.lookahead<W&&me===d)return E;if(U.lookahead===0)break}if(j=0,U.lookahead>=F&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,j=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=F-1,j!==0&&U.prev_length<U.max_lazy_match&&U.strstart-j<=U.w_size-W&&(U.match_length=ae(U,j),U.match_length<=5&&(U.strategy===1||U.match_length===F&&4096<U.strstart-U.match_start)&&(U.match_length=F-1)),U.prev_length>=F&&U.match_length<=U.prev_length){for(_=U.strstart+U.lookahead-F,k=a._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-F),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=_&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,j=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=F-1,U.strstart++,k&&(T(U,!1),U.strm.avail_out===0))return E}else if(U.match_available){if((k=a._tr_tally(U,0,U.window[U.strstart-1]))&&T(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return E}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(k=a._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<F-1?U.strstart:F-1,me===h?(T(U,!0),U.strm.avail_out===0?pe:re):U.last_lit&&(T(U,!1),U.strm.avail_out===0)?E:te}function ne(U,me,j,k,_){this.good_length=U,this.max_lazy=me,this.nice_length=j,this.max_chain=k,this.func=_}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*B),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(z+1),this.heap=new o.Buf16(2*N+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(U){var me;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=y,(me=U.state).pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?L:V,U.adler=me.wrap===2?0:1,me.last_flush=d,a._tr_init(me),f):K(U,m)}function se(U){var me=X(U);return me===f&&function(j){j.window_size=2*j.w_size,q(j.head),j.max_lazy_match=s[j.level].max_lazy,j.good_match=s[j.level].good_length,j.nice_match=s[j.level].nice_length,j.max_chain_length=s[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=F-1,j.match_available=0,j.ins_h=0}(U.state),me}function xe(U,me,j,k,_,D){if(!U)return m;var le=1;if(me===g&&(me=6),k<0?(le=0,k=-k):15<k&&(le=2,k-=16),_<1||b<_||j!==w||k<8||15<k||me<0||9<me||D<0||v<D)return K(U,m);k===8&&(k=9);var ye=new ce;return(U.state=ye).strm=U,ye.wrap=le,ye.gzhead=null,ye.w_bits=k,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=_+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+F-1)/F),ye.window=new o.Buf8(2*ye.w_size),ye.head=new o.Buf16(ye.hash_size),ye.prev=new o.Buf16(ye.w_size),ye.lit_bufsize=1<<_+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new o.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=me,ye.strategy=D,ye.method=j,se(U)}s=[new ne(0,0,0,0,function(U,me){var j=65535;for(j>U.pending_buf_size-5&&(j=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Q(U),U.lookahead===0&&me===d)return E;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var k=U.block_start+j;if((U.strstart===0||U.strstart>=k)&&(U.lookahead=U.strstart-k,U.strstart=k,T(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-W&&(T(U,!1),U.strm.avail_out===0))return E}return U.insert=0,me===h?(T(U,!0),U.strm.avail_out===0?pe:re):(U.strstart>U.block_start&&(T(U,!1),U.strm.avail_out),E)}),new ne(4,4,8,4,O),new ne(4,5,16,8,O),new ne(4,6,32,32,O),new ne(4,4,16,16,I),new ne(8,16,32,32,I),new ne(8,16,128,128,I),new ne(8,32,128,256,I),new ne(32,128,258,1024,I),new ne(32,258,258,4096,I)],i.deflateInit=function(U,me){return xe(U,me,w,15,8,0)},i.deflateInit2=xe,i.deflateReset=se,i.deflateResetKeep=X,i.deflateSetHeader=function(U,me){return U&&U.state?U.state.wrap!==2?m:(U.state.gzhead=me,f):m},i.deflate=function(U,me){var j,k,_,D;if(!U||!U.state||5<me||me<0)return U?K(U,m):m;if(k=U.state,!U.output||!U.input&&U.avail_in!==0||k.status===666&&me!==h)return K(U,U.avail_out===0?-5:m);if(k.strm=U,j=k.last_flush,k.last_flush=me,k.status===L)if(k.wrap===2)U.adler=0,R(k,31),R(k,139),R(k,8),k.gzhead?(R(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),R(k,255&k.gzhead.time),R(k,k.gzhead.time>>8&255),R(k,k.gzhead.time>>16&255),R(k,k.gzhead.time>>24&255),R(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),R(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(R(k,255&k.gzhead.extra.length),R(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(U.adler=c(U.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(R(k,0),R(k,0),R(k,0),R(k,0),R(k,0),R(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),R(k,3),k.status=V);else{var le=w+(k.w_bits-8<<4)<<8;le|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(le|=32),le+=31-le%31,k.status=V,J(k,le),k.strstart!==0&&(J(k,U.adler>>>16),J(k,65535&U.adler)),U.adler=1}if(k.status===69)if(k.gzhead.extra){for(_=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>_&&(U.adler=c(U.adler,k.pending_buf,k.pending-_,_)),de(U),_=k.pending,k.pending!==k.pending_buf_size));)R(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>_&&(U.adler=c(U.adler,k.pending_buf,k.pending-_,_)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(U.adler=c(U.adler,k.pending_buf,k.pending-_,_)),de(U),_=k.pending,k.pending===k.pending_buf_size)){D=1;break}D=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,R(k,D)}while(D!==0);k.gzhead.hcrc&&k.pending>_&&(U.adler=c(U.adler,k.pending_buf,k.pending-_,_)),D===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(U.adler=c(U.adler,k.pending_buf,k.pending-_,_)),de(U),_=k.pending,k.pending===k.pending_buf_size)){D=1;break}D=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,R(k,D)}while(D!==0);k.gzhead.hcrc&&k.pending>_&&(U.adler=c(U.adler,k.pending_buf,k.pending-_,_)),D===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&de(U),k.pending+2<=k.pending_buf_size&&(R(k,255&U.adler),R(k,U.adler>>8&255),U.adler=0,k.status=V)):k.status=V),k.pending!==0){if(de(U),U.avail_out===0)return k.last_flush=-1,f}else if(U.avail_in===0&&Y(me)<=Y(j)&&me!==h)return K(U,-5);if(k.status===666&&U.avail_in!==0)return K(U,-5);if(U.avail_in!==0||k.lookahead!==0||me!==d&&k.status!==666){var ye=k.strategy===2?function(he,Ne){for(var Le;;){if(he.lookahead===0&&(Q(he),he.lookahead===0)){if(Ne===d)return E;break}if(he.match_length=0,Le=a._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,Le&&(T(he,!1),he.strm.avail_out===0))return E}return he.insert=0,Ne===h?(T(he,!0),he.strm.avail_out===0?pe:re):he.last_lit&&(T(he,!1),he.strm.avail_out===0)?E:te}(k,me):k.strategy===3?function(he,Ne){for(var Le,je,we,Ae,Me=he.window;;){if(he.lookahead<=G){if(Q(he),he.lookahead<=G&&Ne===d)return E;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=F&&0<he.strstart&&(je=Me[we=he.strstart-1])===Me[++we]&&je===Me[++we]&&je===Me[++we]){Ae=he.strstart+G;do;while(je===Me[++we]&&je===Me[++we]&&je===Me[++we]&&je===Me[++we]&&je===Me[++we]&&je===Me[++we]&&je===Me[++we]&&je===Me[++we]&&we<Ae);he.match_length=G-(Ae-we),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=F?(Le=a._tr_tally(he,1,he.match_length-F),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(Le=a._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),Le&&(T(he,!1),he.strm.avail_out===0))return E}return he.insert=0,Ne===h?(T(he,!0),he.strm.avail_out===0?pe:re):he.last_lit&&(T(he,!1),he.strm.avail_out===0)?E:te}(k,me):s[k.level].func(k,me);if(ye!==pe&&ye!==re||(k.status=666),ye===E||ye===pe)return U.avail_out===0&&(k.last_flush=-1),f;if(ye===te&&(me===1?a._tr_align(k):me!==5&&(a._tr_stored_block(k,0,0,!1),me===3&&(q(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),de(U),U.avail_out===0))return k.last_flush=-1,f}return me!==h?f:k.wrap<=0?1:(k.wrap===2?(R(k,255&U.adler),R(k,U.adler>>8&255),R(k,U.adler>>16&255),R(k,U.adler>>24&255),R(k,255&U.total_in),R(k,U.total_in>>8&255),R(k,U.total_in>>16&255),R(k,U.total_in>>24&255)):(J(k,U.adler>>>16),J(k,65535&U.adler)),de(U),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?f:1)},i.deflateEnd=function(U){var me;return U&&U.state?(me=U.state.status)!==L&&me!==69&&me!==73&&me!==91&&me!==103&&me!==V&&me!==666?K(U,m):(U.state=null,me===V?K(U,-3):f):m},i.deflateSetDictionary=function(U,me){var j,k,_,D,le,ye,he,Ne,Le=me.length;if(!U||!U.state||(D=(j=U.state).wrap)===2||D===1&&j.status!==L||j.lookahead)return m;for(D===1&&(U.adler=l(U.adler,me,Le,0)),j.wrap=0,Le>=j.w_size&&(D===0&&(q(j.head),j.strstart=0,j.block_start=0,j.insert=0),Ne=new o.Buf8(j.w_size),o.arraySet(Ne,me,Le-j.w_size,j.w_size,0),me=Ne,Le=j.w_size),le=U.avail_in,ye=U.next_in,he=U.input,U.avail_in=Le,U.next_in=0,U.input=me,Q(j);j.lookahead>=F;){for(k=j.strstart,_=j.lookahead-(F-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[k+F-1])&j.hash_mask,j.prev[k&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=k,k++,--_;);j.strstart=k,j.lookahead=F-1,Q(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=F-1,j.match_available=0,U.next_in=ye,U.input=he,U.avail_in=le,j.wrap=D,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,c,u,d,h,f,m,g,v,y,w,b,N,C,M,B,z,F,G,W,L,V,E,te;a=s.state,l=s.next_in,E=s.input,c=l+(s.avail_in-5),u=s.next_out,te=s.output,d=u-(o-s.avail_out),h=u+(s.avail_out-257),f=a.dmax,m=a.wsize,g=a.whave,v=a.wnext,y=a.window,w=a.hold,b=a.bits,N=a.lencode,C=a.distcode,M=(1<<a.lenbits)-1,B=(1<<a.distbits)-1;e:do{b<15&&(w+=E[l++]<<b,b+=8,w+=E[l++]<<b,b+=8),z=N[w&M];t:for(;;){if(w>>>=F=z>>>24,b-=F,(F=z>>>16&255)===0)te[u++]=65535&z;else{if(!(16&F)){if(!(64&F)){z=N[(65535&z)+(w&(1<<F)-1)];continue t}if(32&F){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}G=65535&z,(F&=15)&&(b<F&&(w+=E[l++]<<b,b+=8),G+=w&(1<<F)-1,w>>>=F,b-=F),b<15&&(w+=E[l++]<<b,b+=8,w+=E[l++]<<b,b+=8),z=C[w&B];n:for(;;){if(w>>>=F=z>>>24,b-=F,!(16&(F=z>>>16&255))){if(!(64&F)){z=C[(65535&z)+(w&(1<<F)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(W=65535&z,b<(F&=15)&&(w+=E[l++]<<b,(b+=8)<F&&(w+=E[l++]<<b,b+=8)),f<(W+=w&(1<<F)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(w>>>=F,b-=F,(F=u-d)<W){if(g<(F=W-F)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(V=y,(L=0)===v){if(L+=m-F,F<G){for(G-=F;te[u++]=y[L++],--F;);L=u-W,V=te}}else if(v<F){if(L+=m+v-F,(F-=v)<G){for(G-=F;te[u++]=y[L++],--F;);if(L=0,v<G){for(G-=F=v;te[u++]=y[L++],--F;);L=u-W,V=te}}}else if(L+=v-F,F<G){for(G-=F;te[u++]=y[L++],--F;);L=u-W,V=te}for(;2<G;)te[u++]=V[L++],te[u++]=V[L++],te[u++]=V[L++],G-=3;G&&(te[u++]=V[L++],1<G&&(te[u++]=V[L++]))}else{for(L=u-W;te[u++]=te[L++],te[u++]=te[L++],te[u++]=te[L++],2<(G-=3););G&&(te[u++]=te[L++],1<G&&(te[u++]=te[L++]))}break}}break}}while(l<c&&u<h);l-=G=b>>3,w&=(1<<(b-=G<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),a.hold=w,a.bits=b}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,h=0,f=-2,m=1,g=852,v=592;function y(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(L){var V;return L&&L.state?(V=L.state,L.total_in=L.total_out=V.total=0,L.msg="",V.wrap&&(L.adler=1&V.wrap),V.mode=m,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new s.Buf32(g),V.distcode=V.distdyn=new s.Buf32(v),V.sane=1,V.back=-1,h):f}function N(L){var V;return L&&L.state?((V=L.state).wsize=0,V.whave=0,V.wnext=0,b(L)):f}function C(L,V){var E,te;return L&&L.state?(te=L.state,V<0?(E=0,V=-V):(E=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?f:(te.window!==null&&te.wbits!==V&&(te.window=null),te.wrap=E,te.wbits=V,N(L))):f}function M(L,V){var E,te;return L?(te=new w,(L.state=te).window=null,(E=C(L,V))!==h&&(L.state=null),E):f}var B,z,F=!0;function G(L){if(F){var V;for(B=new s.Buf32(512),z=new s.Buf32(32),V=0;V<144;)L.lens[V++]=8;for(;V<256;)L.lens[V++]=9;for(;V<280;)L.lens[V++]=7;for(;V<288;)L.lens[V++]=8;for(c(u,L.lens,0,288,B,0,L.work,{bits:9}),V=0;V<32;)L.lens[V++]=5;c(d,L.lens,0,32,z,0,L.work,{bits:5}),F=!1}L.lencode=B,L.lenbits=9,L.distcode=z,L.distbits=5}function W(L,V,E,te){var pe,re=L.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new s.Buf8(re.wsize)),te>=re.wsize?(s.arraySet(re.window,V,E-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(te<(pe=re.wsize-re.wnext)&&(pe=te),s.arraySet(re.window,V,E-te,pe,re.wnext),(te-=pe)?(s.arraySet(re.window,V,E-te,te,0),re.wnext=te,re.whave=re.wsize):(re.wnext+=pe,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=pe))),0}i.inflateReset=N,i.inflateReset2=C,i.inflateResetKeep=b,i.inflateInit=function(L){return M(L,15)},i.inflateInit2=M,i.inflate=function(L,V){var E,te,pe,re,K,Y,q,de,T,R,J,ae,Q,O,I,ne,ce,X,se,xe,U,me,j,k,_=0,D=new s.Buf8(4),le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return f;(E=L.state).mode===12&&(E.mode=13),K=L.next_out,pe=L.output,q=L.avail_out,re=L.next_in,te=L.input,Y=L.avail_in,de=E.hold,T=E.bits,R=Y,J=q,me=h;e:for(;;)switch(E.mode){case m:if(E.wrap===0){E.mode=13;break}for(;T<16;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(2&E.wrap&&de===35615){D[E.check=0]=255&de,D[1]=de>>>8&255,E.check=a(E.check,D,2,0),T=de=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&de)<<8)+(de>>8))%31){L.msg="incorrect header check",E.mode=30;break}if((15&de)!=8){L.msg="unknown compression method",E.mode=30;break}if(T-=4,U=8+(15&(de>>>=4)),E.wbits===0)E.wbits=U;else if(U>E.wbits){L.msg="invalid window size",E.mode=30;break}E.dmax=1<<U,L.adler=E.check=1,E.mode=512&de?10:12,T=de=0;break;case 2:for(;T<16;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(E.flags=de,(255&E.flags)!=8){L.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){L.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=de>>8&1),512&E.flags&&(D[0]=255&de,D[1]=de>>>8&255,E.check=a(E.check,D,2,0)),T=de=0,E.mode=3;case 3:for(;T<32;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}E.head&&(E.head.time=de),512&E.flags&&(D[0]=255&de,D[1]=de>>>8&255,D[2]=de>>>16&255,D[3]=de>>>24&255,E.check=a(E.check,D,4,0)),T=de=0,E.mode=4;case 4:for(;T<16;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}E.head&&(E.head.xflags=255&de,E.head.os=de>>8),512&E.flags&&(D[0]=255&de,D[1]=de>>>8&255,E.check=a(E.check,D,2,0)),T=de=0,E.mode=5;case 5:if(1024&E.flags){for(;T<16;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}E.length=de,E.head&&(E.head.extra_len=de),512&E.flags&&(D[0]=255&de,D[1]=de>>>8&255,E.check=a(E.check,D,2,0)),T=de=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Y<(ae=E.length)&&(ae=Y),ae&&(E.head&&(U=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),s.arraySet(E.head.extra,te,re,ae,U)),512&E.flags&&(E.check=a(E.check,te,ae,re)),Y-=ae,re+=ae,E.length-=ae),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Y===0)break e;for(ae=0;U=te[re+ae++],E.head&&U&&E.length<65536&&(E.head.name+=String.fromCharCode(U)),U&&ae<Y;);if(512&E.flags&&(E.check=a(E.check,te,ae,re)),Y-=ae,re+=ae,U)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Y===0)break e;for(ae=0;U=te[re+ae++],E.head&&U&&E.length<65536&&(E.head.comment+=String.fromCharCode(U)),U&&ae<Y;);if(512&E.flags&&(E.check=a(E.check,te,ae,re)),Y-=ae,re+=ae,U)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;T<16;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(de!==(65535&E.check)){L.msg="header crc mismatch",E.mode=30;break}T=de=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),L.adler=E.check=0,E.mode=12;break;case 10:for(;T<32;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}L.adler=E.check=y(de),T=de=0,E.mode=11;case 11:if(E.havedict===0)return L.next_out=K,L.avail_out=q,L.next_in=re,L.avail_in=Y,E.hold=de,E.bits=T,2;L.adler=E.check=1,E.mode=12;case 12:if(V===5||V===6)break e;case 13:if(E.last){de>>>=7&T,T-=7&T,E.mode=27;break}for(;T<3;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}switch(E.last=1&de,T-=1,3&(de>>>=1)){case 0:E.mode=14;break;case 1:if(G(E),E.mode=20,V!==6)break;de>>>=2,T-=2;break e;case 2:E.mode=17;break;case 3:L.msg="invalid block type",E.mode=30}de>>>=2,T-=2;break;case 14:for(de>>>=7&T,T-=7&T;T<32;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if((65535&de)!=(de>>>16^65535)){L.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&de,T=de=0,E.mode=15,V===6)break e;case 15:E.mode=16;case 16:if(ae=E.length){if(Y<ae&&(ae=Y),q<ae&&(ae=q),ae===0)break e;s.arraySet(pe,te,re,ae,K),Y-=ae,re+=ae,q-=ae,K+=ae,E.length-=ae;break}E.mode=12;break;case 17:for(;T<14;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(E.nlen=257+(31&de),de>>>=5,T-=5,E.ndist=1+(31&de),de>>>=5,T-=5,E.ncode=4+(15&de),de>>>=4,T-=4,286<E.nlen||30<E.ndist){L.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;T<3;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}E.lens[le[E.have++]]=7&de,de>>>=3,T-=3}for(;E.have<19;)E.lens[le[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,j={bits:E.lenbits},me=c(0,E.lens,0,19,E.lencode,0,E.work,j),E.lenbits=j.bits,me){L.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;ne=(_=E.lencode[de&(1<<E.lenbits)-1])>>>16&255,ce=65535&_,!((I=_>>>24)<=T);){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(ce<16)de>>>=I,T-=I,E.lens[E.have++]=ce;else{if(ce===16){for(k=I+2;T<k;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(de>>>=I,T-=I,E.have===0){L.msg="invalid bit length repeat",E.mode=30;break}U=E.lens[E.have-1],ae=3+(3&de),de>>>=2,T-=2}else if(ce===17){for(k=I+3;T<k;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}T-=I,U=0,ae=3+(7&(de>>>=I)),de>>>=3,T-=3}else{for(k=I+7;T<k;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}T-=I,U=0,ae=11+(127&(de>>>=I)),de>>>=7,T-=7}if(E.have+ae>E.nlen+E.ndist){L.msg="invalid bit length repeat",E.mode=30;break}for(;ae--;)E.lens[E.have++]=U}}if(E.mode===30)break;if(E.lens[256]===0){L.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,j={bits:E.lenbits},me=c(u,E.lens,0,E.nlen,E.lencode,0,E.work,j),E.lenbits=j.bits,me){L.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,j={bits:E.distbits},me=c(d,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,j),E.distbits=j.bits,me){L.msg="invalid distances set",E.mode=30;break}if(E.mode=20,V===6)break e;case 20:E.mode=21;case 21:if(6<=Y&&258<=q){L.next_out=K,L.avail_out=q,L.next_in=re,L.avail_in=Y,E.hold=de,E.bits=T,l(L,J),K=L.next_out,pe=L.output,q=L.avail_out,re=L.next_in,te=L.input,Y=L.avail_in,de=E.hold,T=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;ne=(_=E.lencode[de&(1<<E.lenbits)-1])>>>16&255,ce=65535&_,!((I=_>>>24)<=T);){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(ne&&!(240&ne)){for(X=I,se=ne,xe=ce;ne=(_=E.lencode[xe+((de&(1<<X+se)-1)>>X)])>>>16&255,ce=65535&_,!(X+(I=_>>>24)<=T);){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}de>>>=X,T-=X,E.back+=X}if(de>>>=I,T-=I,E.back+=I,E.length=ce,ne===0){E.mode=26;break}if(32&ne){E.back=-1,E.mode=12;break}if(64&ne){L.msg="invalid literal/length code",E.mode=30;break}E.extra=15&ne,E.mode=22;case 22:if(E.extra){for(k=E.extra;T<k;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}E.length+=de&(1<<E.extra)-1,de>>>=E.extra,T-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;ne=(_=E.distcode[de&(1<<E.distbits)-1])>>>16&255,ce=65535&_,!((I=_>>>24)<=T);){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(!(240&ne)){for(X=I,se=ne,xe=ce;ne=(_=E.distcode[xe+((de&(1<<X+se)-1)>>X)])>>>16&255,ce=65535&_,!(X+(I=_>>>24)<=T);){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}de>>>=X,T-=X,E.back+=X}if(de>>>=I,T-=I,E.back+=I,64&ne){L.msg="invalid distance code",E.mode=30;break}E.offset=ce,E.extra=15&ne,E.mode=24;case 24:if(E.extra){for(k=E.extra;T<k;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}E.offset+=de&(1<<E.extra)-1,de>>>=E.extra,T-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){L.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(q===0)break e;if(ae=J-q,E.offset>ae){if((ae=E.offset-ae)>E.whave&&E.sane){L.msg="invalid distance too far back",E.mode=30;break}Q=ae>E.wnext?(ae-=E.wnext,E.wsize-ae):E.wnext-ae,ae>E.length&&(ae=E.length),O=E.window}else O=pe,Q=K-E.offset,ae=E.length;for(q<ae&&(ae=q),q-=ae,E.length-=ae;pe[K++]=O[Q++],--ae;);E.length===0&&(E.mode=21);break;case 26:if(q===0)break e;pe[K++]=E.length,q--,E.mode=21;break;case 27:if(E.wrap){for(;T<32;){if(Y===0)break e;Y--,de|=te[re++]<<T,T+=8}if(J-=q,L.total_out+=J,E.total+=J,J&&(L.adler=E.check=E.flags?a(E.check,pe,J,K-J):o(E.check,pe,J,K-J)),J=q,(E.flags?de:y(de))!==E.check){L.msg="incorrect data check",E.mode=30;break}T=de=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;T<32;){if(Y===0)break e;Y--,de+=te[re++]<<T,T+=8}if(de!==(4294967295&E.total)){L.msg="incorrect length check",E.mode=30;break}T=de=0}E.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return f}return L.next_out=K,L.avail_out=q,L.next_in=re,L.avail_in=Y,E.hold=de,E.bits=T,(E.wsize||J!==L.avail_out&&E.mode<30&&(E.mode<27||V!==4))&&W(L,L.output,L.next_out,J-L.avail_out)?(E.mode=31,-4):(R-=L.avail_in,J-=L.avail_out,L.total_in+=R,L.total_out+=J,E.total+=J,E.wrap&&J&&(L.adler=E.check=E.flags?a(E.check,pe,J,L.next_out-J):o(E.check,pe,J,L.next_out-J)),L.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(R==0&&J===0||V===4)&&me===h&&(me=-5),me)},i.inflateEnd=function(L){if(!L||!L.state)return f;var V=L.state;return V.window&&(V.window=null),L.state=null,h},i.inflateGetHeader=function(L,V){var E;return L&&L.state&&2&(E=L.state).wrap?((E.head=V).done=!1,h):f},i.inflateSetDictionary=function(L,V){var E,te=V.length;return L&&L.state?(E=L.state).wrap!==0&&E.mode!==11?f:E.mode===11&&o(1,V,te,0)!==E.check?-3:W(L,V,te,te)?(E.mode=31,-4):(E.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,h,f,m,g,v,y){var w,b,N,C,M,B,z,F,G,W=y.bits,L=0,V=0,E=0,te=0,pe=0,re=0,K=0,Y=0,q=0,de=0,T=null,R=0,J=new s.Buf16(16),ae=new s.Buf16(16),Q=null,O=0;for(L=0;L<=15;L++)J[L]=0;for(V=0;V<f;V++)J[d[h+V]]++;for(pe=W,te=15;1<=te&&J[te]===0;te--);if(te<pe&&(pe=te),te===0)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(E=1;E<te&&J[E]===0;E++);for(pe<E&&(pe=E),L=Y=1;L<=15;L++)if(Y<<=1,(Y-=J[L])<0)return-1;if(0<Y&&(u===0||te!==1))return-1;for(ae[1]=0,L=1;L<15;L++)ae[L+1]=ae[L]+J[L];for(V=0;V<f;V++)d[h+V]!==0&&(v[ae[d[h+V]]++]=V);if(B=u===0?(T=Q=v,19):u===1?(T=o,R-=257,Q=a,O-=257,256):(T=l,Q=c,-1),L=E,M=g,K=V=de=0,N=-1,C=(q=1<<(re=pe))-1,u===1&&852<q||u===2&&592<q)return 1;for(;;){for(z=L-K,G=v[V]<B?(F=0,v[V]):v[V]>B?(F=Q[O+v[V]],T[R+v[V]]):(F=96,0),w=1<<L-K,E=b=1<<re;m[M+(de>>K)+(b-=w)]=z<<24|F<<16|G|0,b!==0;);for(w=1<<L-1;de&w;)w>>=1;if(w!==0?(de&=w-1,de+=w):de=0,V++,--J[L]==0){if(L===te)break;L=d[h+v[V]]}if(pe<L&&(de&C)!==N){for(K===0&&(K=pe),M+=E,Y=1<<(re=L-K);re+K<te&&!((Y-=J[re+K])<=0);)re++,Y<<=1;if(q+=1<<re,u===1&&852<q||u===2&&592<q)return 1;m[N=de&C]=pe<<24|re<<16|M-g|0}}return de!==0&&(m[M+de]=L-K<<24|64<<16|0),y.bits=pe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(_){for(var D=_.length;0<=--D;)_[D]=0}var c=0,u=29,d=256,h=d+1+u,f=30,m=19,g=2*h+1,v=15,y=16,w=7,b=256,N=16,C=17,M=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(h+2));l(W);var L=new Array(2*f);l(L);var V=new Array(512);l(V);var E=new Array(256);l(E);var te=new Array(u);l(te);var pe,re,K,Y=new Array(f);function q(_,D,le,ye,he){this.static_tree=_,this.extra_bits=D,this.extra_base=le,this.elems=ye,this.max_length=he,this.has_stree=_&&_.length}function de(_,D){this.dyn_tree=_,this.max_code=0,this.stat_desc=D}function T(_){return _<256?V[_]:V[256+(_>>>7)]}function R(_,D){_.pending_buf[_.pending++]=255&D,_.pending_buf[_.pending++]=D>>>8&255}function J(_,D,le){_.bi_valid>y-le?(_.bi_buf|=D<<_.bi_valid&65535,R(_,_.bi_buf),_.bi_buf=D>>y-_.bi_valid,_.bi_valid+=le-y):(_.bi_buf|=D<<_.bi_valid&65535,_.bi_valid+=le)}function ae(_,D,le){J(_,le[2*D],le[2*D+1])}function Q(_,D){for(var le=0;le|=1&_,_>>>=1,le<<=1,0<--D;);return le>>>1}function O(_,D,le){var ye,he,Ne=new Array(v+1),Le=0;for(ye=1;ye<=v;ye++)Ne[ye]=Le=Le+le[ye-1]<<1;for(he=0;he<=D;he++){var je=_[2*he+1];je!==0&&(_[2*he]=Q(Ne[je]++,je))}}function I(_){var D;for(D=0;D<h;D++)_.dyn_ltree[2*D]=0;for(D=0;D<f;D++)_.dyn_dtree[2*D]=0;for(D=0;D<m;D++)_.bl_tree[2*D]=0;_.dyn_ltree[2*b]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function ne(_){8<_.bi_valid?R(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function ce(_,D,le,ye){var he=2*D,Ne=2*le;return _[he]<_[Ne]||_[he]===_[Ne]&&ye[D]<=ye[le]}function X(_,D,le){for(var ye=_.heap[le],he=le<<1;he<=_.heap_len&&(he<_.heap_len&&ce(D,_.heap[he+1],_.heap[he],_.depth)&&he++,!ce(D,ye,_.heap[he],_.depth));)_.heap[le]=_.heap[he],le=he,he<<=1;_.heap[le]=ye}function se(_,D,le){var ye,he,Ne,Le,je=0;if(_.last_lit!==0)for(;ye=_.pending_buf[_.d_buf+2*je]<<8|_.pending_buf[_.d_buf+2*je+1],he=_.pending_buf[_.l_buf+je],je++,ye===0?ae(_,he,D):(ae(_,(Ne=E[he])+d+1,D),(Le=B[Ne])!==0&&J(_,he-=te[Ne],Le),ae(_,Ne=T(--ye),le),(Le=z[Ne])!==0&&J(_,ye-=Y[Ne],Le)),je<_.last_lit;);ae(_,b,D)}function xe(_,D){var le,ye,he,Ne=D.dyn_tree,Le=D.stat_desc.static_tree,je=D.stat_desc.has_stree,we=D.stat_desc.elems,Ae=-1;for(_.heap_len=0,_.heap_max=g,le=0;le<we;le++)Ne[2*le]!==0?(_.heap[++_.heap_len]=Ae=le,_.depth[le]=0):Ne[2*le+1]=0;for(;_.heap_len<2;)Ne[2*(he=_.heap[++_.heap_len]=Ae<2?++Ae:0)]=1,_.depth[he]=0,_.opt_len--,je&&(_.static_len-=Le[2*he+1]);for(D.max_code=Ae,le=_.heap_len>>1;1<=le;le--)X(_,Ne,le);for(he=we;le=_.heap[1],_.heap[1]=_.heap[_.heap_len--],X(_,Ne,1),ye=_.heap[1],_.heap[--_.heap_max]=le,_.heap[--_.heap_max]=ye,Ne[2*he]=Ne[2*le]+Ne[2*ye],_.depth[he]=(_.depth[le]>=_.depth[ye]?_.depth[le]:_.depth[ye])+1,Ne[2*le+1]=Ne[2*ye+1]=he,_.heap[1]=he++,X(_,Ne,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(Me,qe){var Ze,Ke,Jt,st,Rn,Bt,xt=qe.dyn_tree,tr=qe.max_code,jt=qe.stat_desc.static_tree,da=qe.stat_desc.has_stree,_n=qe.stat_desc.extra_bits,Ei=qe.stat_desc.extra_base,ci=qe.stat_desc.max_length,on=0;for(st=0;st<=v;st++)Me.bl_count[st]=0;for(xt[2*Me.heap[Me.heap_max]+1]=0,Ze=Me.heap_max+1;Ze<g;Ze++)ci<(st=xt[2*xt[2*(Ke=Me.heap[Ze])+1]+1]+1)&&(st=ci,on++),xt[2*Ke+1]=st,tr<Ke||(Me.bl_count[st]++,Rn=0,Ei<=Ke&&(Rn=_n[Ke-Ei]),Bt=xt[2*Ke],Me.opt_len+=Bt*(st+Rn),da&&(Me.static_len+=Bt*(jt[2*Ke+1]+Rn)));if(on!==0){do{for(st=ci-1;Me.bl_count[st]===0;)st--;Me.bl_count[st]--,Me.bl_count[st+1]+=2,Me.bl_count[ci]--,on-=2}while(0<on);for(st=ci;st!==0;st--)for(Ke=Me.bl_count[st];Ke!==0;)tr<(Jt=Me.heap[--Ze])||(xt[2*Jt+1]!==st&&(Me.opt_len+=(st-xt[2*Jt+1])*xt[2*Jt],xt[2*Jt+1]=st),Ke--)}}(_,D),O(Ne,Ae,_.bl_count)}function U(_,D,le){var ye,he,Ne=-1,Le=D[1],je=0,we=7,Ae=4;for(Le===0&&(we=138,Ae=3),D[2*(le+1)+1]=65535,ye=0;ye<=le;ye++)he=Le,Le=D[2*(ye+1)+1],++je<we&&he===Le||(je<Ae?_.bl_tree[2*he]+=je:he!==0?(he!==Ne&&_.bl_tree[2*he]++,_.bl_tree[2*N]++):je<=10?_.bl_tree[2*C]++:_.bl_tree[2*M]++,Ne=he,Ae=(je=0)===Le?(we=138,3):he===Le?(we=6,3):(we=7,4))}function me(_,D,le){var ye,he,Ne=-1,Le=D[1],je=0,we=7,Ae=4;for(Le===0&&(we=138,Ae=3),ye=0;ye<=le;ye++)if(he=Le,Le=D[2*(ye+1)+1],!(++je<we&&he===Le)){if(je<Ae)for(;ae(_,he,_.bl_tree),--je!=0;);else he!==0?(he!==Ne&&(ae(_,he,_.bl_tree),je--),ae(_,N,_.bl_tree),J(_,je-3,2)):je<=10?(ae(_,C,_.bl_tree),J(_,je-3,3)):(ae(_,M,_.bl_tree),J(_,je-11,7));Ne=he,Ae=(je=0)===Le?(we=138,3):he===Le?(we=6,3):(we=7,4)}}l(Y);var j=!1;function k(_,D,le,ye){J(_,(c<<1)+(ye?1:0),3),function(he,Ne,Le,je){ne(he),R(he,Le),R(he,~Le),s.arraySet(he.pending_buf,he.window,Ne,Le,he.pending),he.pending+=Le}(_,D,le)}i._tr_init=function(_){j||(function(){var D,le,ye,he,Ne,Le=new Array(v+1);for(he=ye=0;he<u-1;he++)for(te[he]=ye,D=0;D<1<<B[he];D++)E[ye++]=he;for(E[ye-1]=he,he=Ne=0;he<16;he++)for(Y[he]=Ne,D=0;D<1<<z[he];D++)V[Ne++]=he;for(Ne>>=7;he<f;he++)for(Y[he]=Ne<<7,D=0;D<1<<z[he]-7;D++)V[256+Ne++]=he;for(le=0;le<=v;le++)Le[le]=0;for(D=0;D<=143;)W[2*D+1]=8,D++,Le[8]++;for(;D<=255;)W[2*D+1]=9,D++,Le[9]++;for(;D<=279;)W[2*D+1]=7,D++,Le[7]++;for(;D<=287;)W[2*D+1]=8,D++,Le[8]++;for(O(W,h+1,Le),D=0;D<f;D++)L[2*D+1]=5,L[2*D]=Q(D,5);pe=new q(W,B,d+1,h,v),re=new q(L,z,0,f,v),K=new q(new Array(0),F,0,m,w)}(),j=!0),_.l_desc=new de(_.dyn_ltree,pe),_.d_desc=new de(_.dyn_dtree,re),_.bl_desc=new de(_.bl_tree,K),_.bi_buf=0,_.bi_valid=0,I(_)},i._tr_stored_block=k,i._tr_flush_block=function(_,D,le,ye){var he,Ne,Le=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(je){var we,Ae=4093624447;for(we=0;we<=31;we++,Ae>>>=1)if(1&Ae&&je.dyn_ltree[2*we]!==0)return o;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return a;for(we=32;we<d;we++)if(je.dyn_ltree[2*we]!==0)return a;return o}(_)),xe(_,_.l_desc),xe(_,_.d_desc),Le=function(je){var we;for(U(je,je.dyn_ltree,je.l_desc.max_code),U(je,je.dyn_dtree,je.d_desc.max_code),xe(je,je.bl_desc),we=m-1;3<=we&&je.bl_tree[2*G[we]+1]===0;we--);return je.opt_len+=3*(we+1)+5+5+4,we}(_),he=_.opt_len+3+7>>>3,(Ne=_.static_len+3+7>>>3)<=he&&(he=Ne)):he=Ne=le+5,le+4<=he&&D!==-1?k(_,D,le,ye):_.strategy===4||Ne===he?(J(_,2+(ye?1:0),3),se(_,W,L)):(J(_,4+(ye?1:0),3),function(je,we,Ae,Me){var qe;for(J(je,we-257,5),J(je,Ae-1,5),J(je,Me-4,4),qe=0;qe<Me;qe++)J(je,je.bl_tree[2*G[qe]+1],3);me(je,je.dyn_ltree,we-1),me(je,je.dyn_dtree,Ae-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,Le+1),se(_,_.dyn_ltree,_.dyn_dtree)),I(_),ye&&ne(_)},i._tr_tally=function(_,D,le){return _.pending_buf[_.d_buf+2*_.last_lit]=D>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&D,_.pending_buf[_.l_buf+_.last_lit]=255&le,_.last_lit++,D===0?_.dyn_ltree[2*le]++:(_.matches++,D--,_.dyn_ltree[2*(E[le]+d+1)]++,_.dyn_dtree[2*T(D)]++),_.last_lit===_.lit_bufsize-1},i._tr_align=function(_){J(_,2,3),ae(_,b,W),function(D){D.bi_valid===16?(R(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,d,h=1,f={},m=!1,g=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,l={}.toString.call(o.process)==="[object process]"?function(N){Ft.nextTick(function(){w(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,C=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=C,N}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(N){o.postMessage(d+N,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(N){w(N.data)},function(N){u.port2.postMessage(N)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(N){var C=g.createElement("script");C.onreadystatechange=function(){w(N),C.onreadystatechange=null,c.removeChild(C),C=null},c.appendChild(C)}):function(N){setTimeout(w,0,N)},v.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var C=new Array(arguments.length-1),M=0;M<C.length;M++)C[M]=arguments[M+1];var B={callback:N,args:C};return f[h]=B,l(h),h++},v.clearImmediate=y}function y(N){delete f[N]}function w(N){if(m)setTimeout(w,0,N);else{var C=f[N];if(C){m=!0;try{(function(M){var B=M.callback,z=M.args;switch(z.length){case 0:B();break;case 1:B(z[0]);break;case 2:B(z[0],z[1]);break;case 3:B(z[0],z[1],z[2]);break;default:B.apply(a,z)}})(C)}finally{y(N),m=!1}}}}function b(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(d)===0&&w(+N.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Yo<"u"?Yo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(g9);var Ame=g9.exports;const Cme=xz(Ame);var z1={exports:{}},Tme={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Pme(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,n){return Tme[n]}):t}var jme=Pme,sN=jme,nR=kC.Stream,Lme="    ";function Rme(t,e){typeof e!="object"&&(e={indent:e});var n=e.stream?new nR:null,r="",i=!1,s=e.indent?e.indent===!0?Lme:e.indent:"",o=!0;function a(h){o?Ft.nextTick(h):h()}function l(h,f){if(f!==void 0&&(r+=f),h&&!i&&(n=n||new nR,i=!0),h&&i){var m=r;a(function(){n.emit("data",m)}),r=""}}function c(h,f){IC(l,U1(h,s,s?1:0),f)}function u(){if(n){var h=r;a(function(){n.emit("data",h),n.emit("end"),n.readable=!1,n.emit("close")})}}function d(h){var f=h.encoding||"UTF-8",m={version:"1.0",encoding:f};h.standalone&&(m.standalone=h.standalone),c({"?xml":{_attr:m}}),r=r.replace("/>","?>")}return a(function(){o=!1}),e.declaration&&d(e.declaration),t&&t.forEach?t.forEach(function(h,f){var m;f+1===t.length&&(m=u),c(h,m)}):c(t,u),n?(n.readable=!0,n):r}function Ime(){var t=Array.prototype.slice.call(arguments),e={_elem:U1(t)};return e.push=function(n){if(!this.append)throw new Error("not assigned to a parent!");var r=this,i=this._elem.indent;IC(this.append,U1(n,i,this._elem.icount+(i?1:0)),function(){r.append(!0)})},e.close=function(n){n!==void 0&&this.push(n),this.end&&this.end()},e}function Ome(t,e){return new Array(e||0).join(t||"")}function U1(t,e,n){n=n||0;var r=Ome(e,n),i,s=t,o=!1;if(typeof t=="object"){var a=Object.keys(t);if(i=a[0],s=t[i],s&&s._elem)return s._elem.name=i,s._elem.icount=n,s._elem.indent=e,s._elem.indents=r,s._elem.interrupt=s,s._elem}var l=[],c=[],u;function d(h){var f=Object.keys(h);f.forEach(function(m){l.push(Mme(m,h[m]))})}switch(typeof s){case"object":if(s===null)break;s._attr&&d(s._attr),s._cdata&&c.push(("<![CDATA["+s._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),s.forEach&&(u=!1,c.push(""),s.forEach(function(h){if(typeof h=="object"){var f=Object.keys(h)[0];f=="_attr"?d(h._attr):c.push(U1(h,e,n+1))}else c.pop(),u=!0,c.push(sN(h))}),u||c.push(""));break;default:c.push(sN(s))}return{name:i,interrupt:o,attributes:l,content:c,icount:n,indents:r,indent:e}}function IC(t,e,n){if(typeof e!="object")return t(!1,e);var r=e.interrupt?1:e.content.length;function i(){for(;e.content.length;){var o=e.content.shift();if(o!==void 0){if(s(o))return;IC(t,o)}}t(!1,(r>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!n?`
`:"")),n&&n()}function s(o){return o.interrupt?(o.interrupt.append=t,o.interrupt.end=i,o.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(r?e.name?">":"":e.name?"/>":"")+(e.indent&&r>1?`
`:"")),!r)return t(!1,e.indent?`
`:"");s(e)||i()}function Mme(t,e){return t+'="'+sN(e)+'"'}z1.exports=Rme;z1.exports.element=z1.exports.Element=Ime;var Dme=z1.exports;const Kn=xz(Dme),rR=0,iR=32,Fme=32,Bme=(t,e)=>{const n=e.replace(/-/g,"");if(n.length!==Fme)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=n.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const o=t.slice(rR,iR).map((l,c)=>l^i[c%i.length]);return Buffer.concat([t.slice(0,rR),o,t.slice(iR)])};class zme{format(e,n={stack:[]}){const r=e.prepForXml(n);if(r)return r;throw Error("XMLComponent did not format correctly")}}class Ume{replace(e,n,r){let i=e;return n.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(r+o).toString())}),i}getMediaData(e,n){return n.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class $me{replace(e,n){let r=e;for(const i of n)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class Vme{constructor(){ze(this,"formatter"),ze(this,"imageReplacer"),ze(this,"numberingReplacer"),this.formatter=new zme,this.imageReplacer=new Ume,this.numberingReplacer=new $me}compile(e,n){const r=new Cme,i=this.xmlifyFile(e,n),s=new Map(Object.entries(i));for(const[,o]of s)if(Array.isArray(o))for(const a of o)r.file(a.path,a.data);else r.file(o.path,o.data);for(const{stream:o,fileName:a}of e.Media.Array)r.file(`word/media/${a}`,o);for(const{data:o,name:a,fontKey:l}of e.FontTable.fontOptionsWithKey){const[c]=a.split(".");r.file(`word/fonts/${c}.odttf`,Bme(o,l))}return r}xmlifyFile(e,n){const r=e.Document.Relationships.RelationshipCount+1,i=Kn(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(s.forEach((o,a)=>{e.Document.Relationships.createRelationship(r+a,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${o.fileName}`)}),Kn(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const o=this.imageReplacer.replace(i,s,r);return this.numberingReplacer.replace(o,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const o=Kn(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(o,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Kn(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Kn(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Kn(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((o,a)=>{const l=Kn(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,e.Media).forEach((u,d)=>{o.Relationships.createRelationship(d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:Kn(this.formatter.format(o.Relationships,{viewWrapper:o,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${a+1}.xml.rels`}}),FooterRelationships:e.Footers.map((o,a)=>{const l=Kn(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,e.Media).forEach((u,d)=>{o.Relationships.createRelationship(d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:Kn(this.formatter.format(o.Relationships,{viewWrapper:o,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${a+1}.xml.rels`}}),Headers:e.Headers.map((o,a)=>{const l=Kn(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(l,e.Media),u=this.imageReplacer.replace(l,c,0);return{data:this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering),path:`word/header${a+1}.xml`}}),Footers:e.Footers.map((o,a)=>{const l=Kn(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(l,e.Media),u=this.imageReplacer.replace(l,c,0);return{data:this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering),path:`word/footer${a+1}.xml`}}),ContentTypes:{data:Kn(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Kn(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Kn(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Kn(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Kn(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Kn(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Kn(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Kn(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Kn(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Hme={WITH_2_BLANKS:"  "},Op=t=>t===!0?Hme.WITH_2_BLANKS:t===!1?void 0:t;class y9{static toString(e,n){return Iy(this,null,function*(){return yield this.compiler.compile(e,Op(n)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,n){return Iy(this,null,function*(){return yield this.compiler.compile(e,Op(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,n){return Iy(this,null,function*(){return yield this.compiler.compile(e,Op(n)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,n){return Iy(this,null,function*(){return yield this.compiler.compile(e,Op(n)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,n){const r=new kC.Stream;return this.compiler.compile(e,Op(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(s=>{r.emit("data",s),r.emit("end")}),r}}ze(y9,"compiler",new Vme);function v9(t,e){console.log("[exporters] exportToPDF invoked",{filename:e});const n=new vt({unit:"pt",format:"a4"});n.setFont("Helvetica","");const r=40,s=n.internal.pageSize.getWidth()-r*2,o=n.splitTextToSize(t,s);let a=60;const l=20;o.forEach(c=>{a>n.internal.pageSize.getHeight()-r&&(n.addPage(),a=r),n.text(c,r,a),a+=l}),n.save(e.endsWith(".pdf")?e:`${e}.pdf`)}async function w9(t,e){console.log("[exporters] exportToDocx invoked",{filename:e});const n=t.split(`
`).map(s=>new B1({children:[new nN({text:s||" ",break:0})]})),r=new Eme({sections:[{properties:{},children:n}]}),i=await y9.toBlob(r);Kme(i,e.endsWith(".docx")?e:`${e}.docx`)}function qme(t,e){const n=window.prompt("Enter email address to send the document:")||"";return n?(console.log("[exporters] sendToEmail mocked",{email:n,length:t.length}),{sent:!0,email:n}):(console.log("[exporters] sendToEmail cancelled"),{sent:!1})}function Wme(t){return console.log("[exporters] sendToHakiDocs placeholder",{length:t.length}),{sent:!0}}function Kme(t,e){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const Gme=1,Jme=1e6;let rS=0;function Yme(){return rS=(rS+1)%Number.MAX_SAFE_INTEGER,rS.toString()}const iS=new Map,sR=t=>{if(iS.has(t))return;const e=setTimeout(()=>{iS.delete(t),bm({type:"REMOVE_TOAST",toastId:t})},Jme);iS.set(t,e)},Xme=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Gme)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?sR(n):t.toasts.forEach(r=>{sR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mv=[];let Dv={toasts:[]};function bm(t){Dv=Xme(Dv,t),Mv.forEach(e=>{e(Dv)})}function Qme({...t}){const e=Yme(),n=i=>bm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>bm({type:"DISMISS_TOAST",toastId:e});return bm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Zme(){const[t,e]=$.useState(Dv);return $.useEffect(()=>(Mv.push(e),()=>{const n=Mv.indexOf(e);n>-1&&Mv.splice(n,1)}),[t]),{...t,toast:Qme,dismiss:n=>bm({type:"DISMISS_TOAST",toastId:n})}}const ege={default:"bg-white text-legal-base border border-legal-border",success:"bg-emerald-50 text-emerald-700 border border-emerald-200",error:"bg-red-50 text-red-700 border border-red-200",warning:"bg-amber-50 text-amber-700 border border-amber-200"};function x9(){const{toast:t}=Zme();return({title:e,description:n,variant:r="default",duration:i=4e3})=>{t({title:e,description:n,duration:i,className:`${ege[r]} shadow-lg rounded-lg px-4 py-3`})}}const tge=["What are my rights as a tenant in Kenya?","How do I file for divorce in Kenya?","What is the process for registering a business?","How do I report domestic violence?"];function nge(){const[t,e]=$.useState(!1),[n,r]=$.useState(!1),[i,s]=$.useState([{id:"1",text:"Hi! I'm HakiBot, your AI legal assistant. I can help you understand Kenyan law, legal processes, and guide you to the right resources. What legal question can I help you with today?",sender:"bot",timestamp:new Date}]),[o,a]=$.useState(""),[l,c]=$.useState(!1),[u,d]=$.useState(!0),h=$.useRef(null),f=$.useRef(null),{isFullView:m,toggleFullView:g}=hC("hakibot-full-view",!1,{shouldHandleShortcut:()=>t}),{state:v,updateProcessState:y}=iA(),w=v.hakiBot,{activeMatter:b}=fF(),N=x9(),C=()=>{var V;(V=h.current)==null||V.scrollIntoView({behavior:"smooth"})};$.useEffect(()=>{C()},[i]),$.useEffect(()=>{b&&y("hakiBot",V=>({...V,contextChips:[{id:b.id,label:`Matter: ${b.name}`}]}))},[b==null?void 0:b.id]);const M=$.useMemo(()=>i.filter(V=>w.pinnedMessageIds.includes(V.id)),[w.pinnedMessageIds,i]),B=$.useMemo(()=>i.map(V=>`[${V.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}] ${V.sender==="user"?"Lawyer":"HakiBot"}: ${V.text}`).join(`

`),[i]),z=async V=>{var re;if(!V.trim()||l)return;const E={id:Date.now().toString(),text:V,sender:"user",timestamp:new Date};s(K=>[...K,E]),a(""),c(!0);const te=(Date.now()+1).toString(),pe={id:te,text:"Thinking...",sender:"bot",timestamp:new Date};s(K=>[...K,pe]);try{const K=`You are HakiBot, a helpful AI legal assistant specializing in Kenyan law. 
Provide clear, accurate, and practical legal guidance. Always remind users that for personalized legal advice, 
they should consult with a qualified lawyer. Be concise but thorough in your responses.`,Y=new AbortController;f.current=Y;const q=await WA(V,K,void 0,Y.signal);if(s(de=>de.filter(T=>T.id!==te)),q.error){const de={id:(Date.now()+2).toString(),text:`Error: ${q.error}

Please check your API configuration in the .env file.`,sender:"bot",timestamp:new Date,error:!0};s(T=>[...T,de])}else{const de={id:(Date.now()+2).toString(),text:((re=q.content)==null?void 0:re.trim())||"I apologize, but I couldn't generate a response. Please try again.",sender:"bot",timestamp:new Date};s(T=>[...T,de])}}catch(K){if(s(Y=>Y.filter(q=>q.id!==te)),K instanceof DOMException&&K.name==="AbortError"){const Y={id:(Date.now()+3).toString(),text:"Request cancelled.",sender:"bot",timestamp:new Date};s(q=>[...q,Y])}else{const Y={id:(Date.now()+2).toString(),text:`An unexpected error occurred: ${K instanceof Error?K.message:"Unknown error"}. Please try again.`,sender:"bot",timestamp:new Date,error:!0};s(q=>[...q,Y])}}finally{c(!1),f.current=null}},F=()=>{f.current&&(f.current.abort(),f.current=null,c(!1))},G=async V=>{if(!i.length){N({title:"Nothing to export",description:"Start a conversation first.",variant:"warning"});return}const E=new Date,te=`HakiBot Transcript ${E.toISOString().split("T")[0]}`,pe={id:E.getTime().toString(),title:te,createdAt:E.toISOString(),messages:i.map(re=>({...re}))};V==="pdf"?v9(B,`${te}.pdf`):await w9(B,`${te}.docx`),y("hakiBot",re=>({...re,transcripts:[...re.transcripts,pe]})),N({title:"Transcript saved",description:`A ${V.toUpperCase()} copy has been downloaded.`,variant:"success"})},W=async()=>{const V=[...i].reverse().find(E=>E.sender==="bot"&&!E.error&&E.text.trim().length>0);if(!V){N({title:"No response to copy",description:"Ask a question to get a response first.",variant:"warning"});return}try{await navigator.clipboard.writeText(V.text),N({title:"Copied",description:"Latest HakiBot answer copied to clipboard.",variant:"success"})}catch(E){N({title:"Copy failed",description:E instanceof Error?E.message:"Clipboard access denied.",variant:"error"})}},L=V=>{const E=w.pinnedMessageIds.includes(V);y("hakiBot",te=>({...te,pinnedMessageIds:E?te.pinnedMessageIds.filter(pe=>pe!==V):[...te.pinnedMessageIds,V]})),N({title:E?"Pin removed":"Message pinned",description:E?"The message has been removed from your pinned list.":"Find this message in your matter notes later."})};return p.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[t&&!n&&p.jsxs(Mr.div,{layout:!0,initial:!1,animate:{width:m?600:384,height:m?640:420},transition:{duration:.35,ease:"easeInOut"},className:"chatbot-enter bg-white rounded-xl shadow-2xl flex flex-col mb-4 border border-gray-200 overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-3 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg",children:"HakiBot"}),p.jsx("p",{className:"text-xs text-blue-100",children:"Legal AI Assistant"}),p.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.contextChips.map(V=>p.jsx(dA,{children:V.label},V.id))})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(fC,{isFullView:m,onToggle:g,variant:"ghost",hideLabelOnSmallScreens:!0,className:"inline-flex border-white/30"}),p.jsx("button",{onClick:()=>r(!0),className:"p-1 hover:bg-blue-500/70 rounded transition",title:"Minimize",children:p.jsx(c_,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-blue-500/70 rounded transition",title:"Close",children:p.jsx(Fg,{className:"w-4 h-4"})})]})]}),p.jsxs(Mr.section,{layout:!0,transition:{duration:.3,ease:"easeInOut"},className:"flex-1 flex flex-col bg-white",children:[p.jsxs("div",{className:"border-b border-gray-200 px-4 py-3 flex flex-wrap items-center gap-2 text-sm bg-gray-50",children:[p.jsxs("button",{onClick:()=>G("pdf"),className:"inline-flex items-center gap-2 rounded-lg border border-legal-border px-3 py-1.5 text-legal-muted hover:border-legal-accent hover:text-legal-accent focus:outline-none focus:ring-2 focus:ring-legal-accent/40",children:[p.jsx(sF,{className:"h-4 w-4"}),"Save PDF"]}),p.jsxs("button",{onClick:()=>G("docx"),className:"inline-flex items-center gap-2 rounded-lg border border-legal-border px-3 py-1.5 text-legal-muted hover:border-legal-accent hover:text-legal-accent focus:outline-none focus:ring-2 focus:ring-legal-accent/40",children:[p.jsx(qs,{className:"h-4 w-4"}),"Save DOCX"]}),p.jsxs("button",{onClick:W,className:"inline-flex items-center gap-2 rounded-lg border border-legal-border px-3 py-1.5 text-legal-muted hover:border-legal-accent hover:text-legal-accent focus:outline-none focus:ring-2 focus:ring-legal-accent/40",children:[p.jsx(iQ,{className:"h-4 w-4"}),"Copy Answer"]}),M.length>0&&p.jsxs("div",{className:"ml-auto text-xs text-legal-muted",children:[M.length," pinned message",M.length>1?"s":""]})]}),p.jsx(ih,{initial:!1,children:l&&p.jsxs(Mr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"bg-blue-50 border-b border-blue-100 px-4 py-2 text-sm text-blue-800 flex items-center justify-between",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(ng,{className:"h-4 w-4 animate-spin"}),"Analyzing Kenyan case law"]}),p.jsxs("button",{onClick:F,className:"inline-flex items-center gap-1 text-xs text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded",children:[p.jsx(nQ,{className:"h-4 w-4"}),"Stop"]})]},"hakibot-progress")}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(V=>{const E=w.pinnedMessageIds.includes(V.id);return p.jsx("div",{className:`flex ${V.sender==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-[85%] px-4 py-3 rounded-lg ${V.sender==="user"?"bg-blue-600 text-white rounded-br-none":V.error?"bg-red-100 text-red-800 rounded-bl-none border border-red-300":E?"bg-legal-accent/10 text-legal-base border border-legal-accent/40 rounded-bl-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[p.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[p.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide",children:V.sender==="user"?"You":"HakiBot"}),p.jsx("button",{onClick:()=>L(V.id),className:"text-xs text-gray-500 hover:text-legal-accent focus:outline-none",title:E?"Unpin message":"Pin message",children:E?p.jsx(gQ,{className:"h-3.5 w-3.5"}):p.jsx(yQ,{className:"h-3.5 w-3.5"})})]}),V.error?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx(Th,{className:"w-3 h-3"}),p.jsx("p",{className:"text-xs font-semibold",children:"Error"})]}),p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:V.text})]}):V.sender==="bot"?p.jsx(F_,{content:V.text}):p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:V.text}),p.jsx("p",{className:`text-[11px] mt-2 opacity-70 ${V.sender==="user"?"text-blue-100":"text-gray-600"}`,children:V.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},V.id)}),p.jsx("div",{ref:h})]}),p.jsx(ih,{initial:!1,mode:"sync",children:u&&p.jsxs(Mr.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.2},className:"border-t border-blue-100/60 bg-blue-50/70 px-4 py-3 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between gap-3",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-blue-700",children:"Quick References"}),p.jsx("p",{className:"text-[11px] text-blue-900/70",children:"Common Kenyan legal queries you can explore instantly."})]}),p.jsx("button",{onClick:()=>d(!1),className:"text-xs text-blue-700 hover:text-blue-900",children:"Dismiss"})]}),p.jsx("div",{className:"flex flex-col gap-2",children:tge.map((V,E)=>p.jsx("button",{onClick:()=>z(V),className:"text-left text-xs bg-white hover:bg-white/90 p-2 rounded border border-blue-100 text-blue-700 transition",children:V},E))})]},"hakibot-quickrefs")}),p.jsxs("div",{className:"border-t border-gray-200 p-3 bg-white",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:o,onChange:V=>a(V.target.value),onKeyDown:V=>V.key==="Enter"&&z(o),placeholder:"Ask me about Kenyan law...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),p.jsx("button",{onClick:()=>z(o),disabled:l,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition",title:"Send",children:p.jsx(ax,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-[11px] text-gray-500 mt-2",children:"For personalized advice, consult a qualified lawyer."})]})]},"hakibot-conversation")]},"hakibot-window"),t&&n&&p.jsx("div",{className:"chatbot-enter bg-blue-600 text-white rounded-lg shadow-lg p-3 mb-4 w-64 cursor-pointer",onClick:()=>r(!1),children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-sm",children:"HakiBot"}),p.jsx("p",{className:"text-xs text-blue-100",children:"Click to expand"})]}),p.jsx(c_,{className:"w-4 h-4"})]})}),!t&&p.jsx("button",{onClick:()=>{e(!0),d(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg hover:shadow-xl transition transform hover:scale-110 animate-pulse-soft",title:"Open HakiBot",children:p.jsx(aF,{className:"w-6 h-6"})})]})}function sS(t={}){const e=$.useRef(null),[n,r]=$.useState(!1);return $.useEffect(()=>{const i=new IntersectionObserver(([s])=>{s.isIntersecting&&(r(!0),i.unobserve(s.target))},{threshold:.1,...t});return e.current&&i.observe(e.current),()=>i.disconnect()},[t]),[e,n]}function rge(){const[t,e]=sS(),[n,r]=sS(),[i,s]=sS(),{profile:o}=$i(),a=Hu(),l=()=>{o&&o.user_type==="lawyer"?a("/dashboard"):a("/login")};return p.jsxs("div",{className:"min-h-screen",children:[p.jsx("section",{className:"relative bg-gradient-to-br from-teal-800 via-teal-700 to-blue-900 text-white py-24",children:p.jsx("div",{className:"max-w-7xl mx-auto px-6",children:p.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in-up",children:[p.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Professional ",p.jsx("span",{className:"text-teal-300",children:"Legal Tools"})," for Modern Lawyers"]}),p.jsx("p",{className:"text-xl mb-8 text-teal-100 animate-slide-down",style:{animationDelay:"0.2s"},children:"TRUSTED BY LEGAL PROFESSIONALS"}),p.jsxs("div",{className:"flex gap-4 justify-center flex-wrap animate-fade-in-up",style:{animationDelay:"0.4s"},children:[p.jsx("button",{onClick:l,className:"bg-teal-500 hover:bg-teal-600 text-white px-8 py-3 rounded-full font-medium transition",children:"Access Lawyer Dashboard"}),p.jsx(Ot,{to:"/bounties",className:"bg-white hover:bg-gray-100 text-teal-800 px-8 py-3 rounded-full font-medium transition",children:"Explore Bounties"})]})]})})}),p.jsx("section",{className:"py-20 bg-gray-50",ref:t,children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[p.jsxs("div",{className:`text-center mb-16 ${e?"animate-fade-in-up":"opacity-0"}`,children:[p.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Complete Legal Practice Management"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Everything you need to run a modern legal practice, from case management to client acquisition and payment processing."})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[0,1,2,3,4,5].map(c=>p.jsx("div",{className:`transition-all duration-700 ${e?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:`${c*.15}s`},children:p.jsx(ige,{index:c})},c))})]})}),p.jsx("section",{className:"py-20 bg-white",ref:n,children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[p.jsx("h2",{className:`text-4xl font-bold text-center mb-16 ${r?"animate-fade-in-up":"opacity-0"}`,children:"Why Legal Professionals Choose HakiChain"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[p.jsx("div",{className:r?"animate-fade-in-left":"opacity-0",children:p.jsx("img",{src:"https://images.pexels.com/photos/5668858/pexels-photo-5668858.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Legal professionals collaborating",className:"rounded-lg shadow-xl"})}),p.jsx("div",{className:"space-y-6",children:[0,1,2,3].map(c=>p.jsx("div",{className:`transition-all duration-700 ${r?"animate-fade-in-right":"opacity-0"}`,style:{animationDelay:`${c*.15}s`},children:p.jsx(sge,{index:c})},c))})]}),p.jsx("div",{className:"mt-16 text-center",children:p.jsx(Ot,{to:"/signup",className:`inline-block bg-teal-600 hover:bg-teal-700 text-white px-10 py-4 rounded-full font-medium text-lg transition ${r?"animate-fade-in-up":"opacity-0"}`,children:"Start Using Tools"})})]})}),p.jsx("section",{className:"py-20 bg-gray-50",ref:i,children:p.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center",children:[p.jsx("h2",{className:`text-4xl font-bold mb-12 ${s?"animate-fade-in-up":"opacity-0"}`,children:"Trusted by Legal Professionals"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[0,1,2,3].map(c=>p.jsx("div",{className:`transition-all duration-700 ${s?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:`${c*.1}s`},children:p.jsx(oge,{index:c})},c))})]})}),p.jsx("section",{className:"py-20 bg-gradient-to-br from-teal-700 to-blue-800 text-white",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center animate-fade-in-up",children:[p.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Transform Your Legal Practice?"}),p.jsx("p",{className:"text-xl mb-8 text-teal-100",children:"Join HakiChain today and access the tools you need to manage cases efficiently, connect with quality clients, and grow your practice."}),p.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[p.jsx("button",{onClick:l,className:"bg-white hover:bg-gray-100 text-teal-800 px-8 py-3 rounded-full font-medium transition",children:"Access Lawyer Dashboard"}),p.jsx(Ot,{to:"/signup",className:"bg-teal-500 hover:bg-teal-600 text-white px-8 py-3 rounded-full font-medium transition border-2 border-white",children:"Register as Lawyer"})]}),p.jsxs("p",{className:"mt-6 text-teal-200",children:["Already have an account?"," ",p.jsx(Ot,{to:"/login",className:"underline hover:text-white",children:"Sign in here"})]})]})})]})}function ige({index:t}){const n=[{icon:p.jsx(eF,{className:"w-8 h-8 text-teal-600"}),title:"Case Management Dashboard",description:"Track cases, deadlines, and milestones with comprehensive analytics and automated reminders.",items:["Case timeline tracking","Deadline management","Progress analytics"]},{icon:p.jsx(fm,{className:"w-8 h-8 text-blue-600"}),title:"Client Matching System",description:"AI-powered system connects you with verified clients who need your specific expertise.",items:["Specialty-based matching","Verified client profiles","Smart recommendations"]},{icon:p.jsx(ix,{className:"w-8 h-8 text-yellow-600"}),title:"Bounty Marketplace",description:"Access funded legal cases with transparent payment terms and milestone-based compensation.",items:["Guaranteed payments","Milestone tracking","Transparent funding"]},{icon:p.jsx(N1,{className:"w-8 h-8 text-green-600"}),title:"Document Verification",description:"Blockchain-secured document verification and smart contract automation for legal processes.",items:["Blockchain verification","Digital signatures","Tamper-proof records"]},{icon:p.jsx(xu,{className:"w-8 h-8 text-purple-600"}),title:"Payment & Escrow",description:"Secure blockchain-based payment processing with automated escrow for client protection.",items:["Automated escrow","Smart contracts","Client protection"]},{icon:p.jsx(ox,{className:"w-8 h-8 text-red-600"}),title:"Analytics & Reporting",description:"Comprehensive performance analytics and automated reporting for better practice management.",items:["Performance metrics","Financial reports","Practice insights"]}][t];return p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition",children:[p.jsx("div",{className:"mb-4",children:n.icon}),p.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),p.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),p.jsx("ul",{className:"space-y-2",children:n.items.map((r,i)=>p.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full"}),r]},i))})]})}function sge({index:t}){const n=[{title:"Save 40% of Administrative Time",description:"Automated case tracking, deadline management, and client communication reduce administrative overhead significantly."},{title:"Guaranteed Payment Security",description:"Blockchain-based escrow system ensures you get paid for completed work with transparent milestone-based payments."},{title:"Access to Quality Clients",description:"Connect with verified NGOs and clients who have pre-funded legal cases that match your expertise."},{title:"Build Professional Reputation",description:"Transparent performance tracking and client reviews help you build a verified reputation in the legal community."}][t];return p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-3 h-3 bg-teal-600 rounded-full"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-2",children:n.title}),p.jsx("p",{className:"text-gray-600",children:n.description})]})]})}function oge({index:t}){const n=[{number:"150+",label:"Verified Lawyers"},{number:"500+",label:"Cases Managed"},{number:"98%",label:"Payment Success"},{number:"40%",label:"Time Saved"}][t];return p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl font-bold text-teal-600 mb-2",children:n.number}),p.jsx("div",{className:"text-gray-600",children:n.label})]})}function age(){const[t,e]=$.useState(""),[n,r]=$.useState(""),[i,s]=$.useState(""),[o,a]=$.useState(!1),l=Hu(),{signIn:c}=$i();async function u(d){d.preventDefault(),s(""),a(!0);try{await c(t,n),l("/dashboard")}catch(h){s("Failed to sign in. Please check your credentials."),console.error(h)}finally{a(!1)}}return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:p.jsx("div",{className:"max-w-md w-full",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-600",children:"Sign in to access your HakiChain dashboard"})]}),i&&p.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:i}),p.jsxs("form",{onSubmit:u,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(a_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),p.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),p.jsx(Ot,{to:"/forgot-password",className:"text-sm text-teal-600 hover:text-teal-700",children:"Forgot your password?"})]}),p.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed text-white bg-teal-600 hover:bg-teal-700",children:o?"Signing in...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",p.jsx(Ot,{to:"/signup",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign up"})]})})]})})})}function lge(){const[t,e]=$.useState("select"),[n,r]=$.useState("lawyer"),[i,s]=$.useState({fullName:"",email:"",password:"",confirmPassword:"",organizationName:"",practicingCertificate:""}),[o,a]=$.useState(""),[l,c]=$.useState(!1),u=Hu(),{signUp:d}=$i();function h(m){r(m),e("form")}async function f(m){if(m.preventDefault(),a(""),i.password!==i.confirmPassword){a("Passwords do not match");return}if(i.password.length<6){a("Password must be at least 6 characters");return}c(!0);try{await d(i.email,i.password,{full_name:i.fullName,user_type:n,organization_name:i.organizationName||void 0,practicing_certificate:i.practicingCertificate||void 0}),u("/login")}catch(g){a(g.message||"Failed to create account"),console.error(g)}finally{c(!1)}}return t==="select"?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:p.jsx("div",{className:"max-w-2xl w-full",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),p.jsx("p",{className:"text-gray-600",children:"Join HakiChain and make a difference"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("p",{className:"text-sm font-medium text-gray-700 mb-4",children:"I am registering as a:"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsxs("button",{onClick:()=>h("lawyer"),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-teal-500 hover:bg-teal-50 transition group",children:[p.jsx(xu,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-teal-600"}),p.jsx("div",{className:"font-bold text-gray-900",children:"Lawyer"})]}),p.jsxs("button",{onClick:()=>h("ngo"),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition group",children:[p.jsx(hP,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-blue-600"}),p.jsx("div",{className:"font-bold text-gray-900",children:"NGO"})]}),p.jsxs("button",{onClick:()=>h("donor"),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition group",children:[p.jsx(lQ,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-purple-600"}),p.jsx("div",{className:"font-bold text-gray-900",children:"Donor"})]})]})]}),p.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",p.jsx(Ot,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign in"})]})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:p.jsx("div",{className:"max-w-md w-full",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),p.jsx("p",{className:"text-gray-600",children:"Join HakiChain and make a difference"})]}),o&&p.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:o}),p.jsxs("form",{onSubmit:f,className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(cA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"fullName",type:"text",value:i.fullName,onChange:m=>s({...i,fullName:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"John Doe"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"email",type:"email",value:i.email,onChange:m=>s({...i,email:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com"})]})]}),n==="ngo"&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(hP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"organizationName",type:"text",value:i.organizationName,onChange:m=>s({...i,organizationName:m.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Your NGO name"})]})]}),n==="lawyer"&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"practicingCertificate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Practicing Certificate"}),p.jsxs("div",{className:"relative",children:[p.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"practicingCertificate",type:"text",value:i.practicingCertificate,onChange:m=>s({...i,practicingCertificate:m.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"LSK12345"})]}),p.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Your LSK Number will be verified before you can accept bounties."})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(a_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"password",type:"password",value:i.password,onChange:m=>s({...i,password:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(a_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:m=>s({...i,confirmPassword:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>e("select"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Back"}),p.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Create Account"})]})]}),p.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",p.jsx(Ot,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign in"})]})]})})})}function cge(){const[t,e]=$.useState([]),[n,r]=$.useState(!0),[i,s]=$.useState(""),[o,a]=$.useState("All Categories");$.useEffect(()=>{l()},[]);async function l(){try{const{data:d,error:h}=await gn.from("bounties").select("*").eq("status","open").order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(d){console.error("Error loading bounties:",d)}finally{r(!1)}}const c=t.filter(d=>{const h=d.title.toLowerCase().includes(i.toLowerCase())||d.description.toLowerCase().includes(i.toLowerCase()),f=o==="All Categories"||d.category===o;return h&&f}),u=["All Categories",...new Set(t.map(d=>d.category))];return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-gradient-to-br from-teal-700 to-blue-800 text-white py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Explore Legal Bounties"}),p.jsx("p",{className:"text-xl text-teal-100",children:"Browse through legal cases that need your expertise or support"})]})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search bounties...",value:i,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsx("select",{value:o,onChange:d=>a(d.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white",children:u.map(d=>p.jsx("option",{value:d,children:d},d))})]}),n?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bounties..."})]}):c.length===0?p.jsx("div",{className:"text-center py-12",children:p.jsx("p",{className:"text-gray-600",children:"No bounties found matching your criteria."})}):p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(d=>p.jsx(uge,{bounty:d},d.id))})]})]})}function uge({bounty:t}){const e=t.current_funding/t.funding_goal*100,n=t.deadline?Math.ceil((new Date(t.deadline).getTime()-Date.now())/(1e3*60*60*24)):null;return p.jsx(Ot,{to:`/bounties/${t.id}`,className:"block",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition p-6 h-full",children:[p.jsx("div",{className:"flex items-start justify-between mb-3",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"inline-block px-3 py-1 bg-teal-100 text-teal-700 text-xs font-medium rounded-full mb-2",children:["$",t.funding_goal.toLocaleString()]}),p.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:t.title})]})}),p.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(oF,{className:"w-4 h-4"}),p.jsx("span",{children:t.jurisdiction})]}),n!==null&&p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(vo,{className:"w-4 h-4"}),p.jsx("span",{children:n>0?`${n} days remaining`:"Deadline passed"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(cF,{className:"w-4 h-4"}),p.jsx("span",{children:t.category})]})]}),p.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[p.jsx("span",{className:"text-gray-600",children:"Funding Progress"}),p.jsxs("span",{className:"font-medium text-teal-600",children:["$",t.current_funding.toLocaleString()," / $",t.funding_goal.toLocaleString()]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-teal-600 h-2 rounded-full transition-all",style:{width:`${Math.min(e,100)}%`}})})]}),t.tags&&t.tags.length>0&&p.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.slice(0,3).map((r,i)=>p.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:r},i))})]})})}function dge(){const{id:t}=HG(),{profile:e}=$i(),[n,r]=$.useState(null),[i,s]=$.useState([]),[o,a]=$.useState([]),[l,c]=$.useState(!0),[u,d]=$.useState(!1),[h,f]=$.useState(!1);$.useEffect(()=>{if(t){m();const v=setInterval(()=>{m()},3e3);return()=>clearInterval(v)}},[t]);async function m(){try{const[v,y,w]=await Promise.all([gn.from("bounties").select("*").eq("id",t).maybeSingle(),gn.from("milestones").select("*").eq("bounty_id",t).order("order_index"),gn.from("donations").select("*").eq("bounty_id",t).order("created_at",{ascending:!1})]);if(v.error)throw v.error;if(y.error)throw y.error;if(w.error)throw w.error;r(v.data),s(y.data||[]),a(w.data||[])}catch(v){console.error("Error loading bounty details:",v)}finally{c(!1)}}if(l)return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bounty details..."})]})});if(!n)return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-gray-600",children:"Bounty not found"}),p.jsx(Ot,{to:"/bounties",className:"text-teal-600 hover:text-teal-700 mt-4 inline-block",children:"Back to bounties"})]})});const g=n.current_funding/n.funding_goal*100;return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[p.jsxs(Ot,{to:"/bounties",className:"inline-flex items-center gap-2 text-teal-600 hover:text-teal-700 mb-6",children:[p.jsx(XX,{className:"w-4 h-4"}),"Back to Bounties"]}),p.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsxs("div",{children:[p.jsxs("div",{className:"inline-block px-3 py-1 bg-teal-100 text-teal-700 text-sm font-medium rounded-full mb-3",children:["$",n.funding_goal.toLocaleString()]}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:n.title})]})}),p.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(oF,{className:"w-4 h-4"}),p.jsx("span",{children:n.jurisdiction})]}),n.deadline&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(sA,{className:"w-4 h-4"}),p.jsxs("span",{children:["Due: ",new Date(n.deadline).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(cF,{className:"w-4 h-4"}),p.jsx("span",{children:n.category})]})]}),p.jsxs("div",{className:"prose max-w-none",children:[p.jsx("h3",{className:"text-lg font-bold mb-3",children:"Description"}),p.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n.description})]}),n.tags&&n.tags.length>0&&p.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[p.jsx("h4",{className:"font-medium mb-3",children:"Tags"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((v,y)=>p.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:v},y))})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Milestones"}),p.jsx("div",{className:"space-y-4",children:i.length===0?p.jsx("p",{className:"text-gray-500",children:"No milestones defined yet."}):i.map((v,y)=>p.jsx(fge,{milestone:v,index:y},v.id))})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsx("h3",{className:"font-bold mb-4",children:"Funding Progress"}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[p.jsx("span",{className:"text-gray-600",children:"Raised"}),p.jsxs("span",{className:"font-bold text-teal-600",children:["$",n.current_funding.toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[p.jsx("span",{className:"text-gray-600",children:"Goal"}),p.jsxs("span",{className:"font-medium",children:["$",n.funding_goal.toLocaleString()]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:p.jsx("div",{className:"bg-teal-600 h-3 rounded-full transition-all",style:{width:`${Math.min(g,100)}%`}})})]}),(e==null?void 0:e.user_type)==="donor"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition flex items-center justify-center gap-2",children:[p.jsx(_Q,{className:"w-5 h-5"}),"Connect Wallet to Donate"]}),p.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition flex items-center justify-center gap-2",children:[p.jsx(sQ,{className:"w-5 h-5"}),"Pay with M-Pesa"]})]}),(e==null?void 0:e.user_type)==="lawyer"&&n.status==="open"&&p.jsx("button",{onClick:()=>f(!0),className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition",children:"Apply for this Case"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsxs("h3",{className:"font-bold mb-4",children:["Donors (",o.length,")"]}),o.length===0?p.jsx("p",{className:"text-gray-500 text-sm",children:"No donations yet"}):p.jsx("div",{className:"space-y-3",children:o.slice(0,5).map(v=>p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-gray-600",children:v.is_anonymous?"Anonymous Donor":"Supporter"}),p.jsxs("span",{className:"font-medium text-teal-600",children:["$",v.amount.toLocaleString()]})]},v.id))})]})]})]})]}),u&&p.jsx(hge,{bounty:n,onClose:()=>d(!1),onSuccess:m}),h&&p.jsx(pge,{bountyId:n.id,onClose:()=>f(!1)})]})}function fge({milestone:t,index:e}){const n={pending:"bg-gray-100 text-gray-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-yellow-100 text-yellow-700",verified:"bg-green-100 text-green-700"};return p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center text-teal-700 font-bold text-sm",children:e+1}),p.jsx("h4",{className:"font-bold",children:t.title})]}),p.jsx("p",{className:"text-gray-600 text-sm mb-3",children:t.description})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p.jsxs("span",{className:"font-bold text-teal-600",children:["$",t.amount.toLocaleString()]}),p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n[t.status]}`,children:t.status.replace("_"," ")})]})]}),t.due_date&&p.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[p.jsx(sA,{className:"w-3 h-3"}),"Due: ",new Date(t.due_date).toLocaleDateString()]}),t.status==="verified"&&t.verified_at&&p.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-sm text-green-600",children:[p.jsx(rh,{className:"w-4 h-4"}),"Verified on ",new Date(t.verified_at).toLocaleDateString()]})]})}function hge({bounty:t,onClose:e,onSuccess:n}){const[r,i]=$.useState(""),[s,o]=$.useState(!1),[a,l]=$.useState(!1),{profile:c}=$i();async function u(){if(!r||Number.parseFloat(r)<=0){alert("Please enter a valid amount");return}l(!0);try{const d=Number.parseFloat(r),h=t.current_funding+d,{error:f}=await gn.from("bounties").update({current_funding:h}).eq("id",t.id);if(f)throw f;const{error:m}=await gn.from("donations").insert({bounty_id:t.id,donor_id:s?null:c==null?void 0:c.id,amount:d,is_anonymous:s,payment_method:"mpesa"});if(m)throw m;alert("Donation successful! Thank you for supporting this case."),n(),e()}catch(d){console.error("Error donating:",d),alert("Failed to process donation. Please try again.")}finally{l(!1)}}return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[p.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Donate to this Case"}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Amount (USD)"}),p.jsxs("div",{className:"relative",children:[p.jsx(ix,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"number",value:r,onChange:d=>i(d.target.value),placeholder:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),p.jsxs("label",{className:"flex items-center gap-3 mb-6 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:s,onChange:d=>o(d.target.checked),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),p.jsx("span",{className:"text-sm text-gray-700",children:"Make this donation anonymous"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:e,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Cancel"}),p.jsx("button",{onClick:u,disabled:a,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50",children:a?"Processing...":"Donate"})]})]})})}function pge({bountyId:t,onClose:e}){const[n,r]=$.useState(""),[i,s]=$.useState(!1),{profile:o}=$i();async function a(){if(!n.trim()){alert("Please enter your proposal");return}s(!0);try{const{error:l}=await gn.from("applications").insert({bounty_id:t,lawyer_id:o==null?void 0:o.id,proposal:n});if(l)throw l;alert("Application submitted successfully!"),e()}catch(l){console.error("Error applying:",l),alert("Failed to submit application")}finally{s(!1)}}return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6",children:[p.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Apply for this Case"}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Proposal"}),p.jsx("textarea",{value:n,onChange:l=>r(l.target.value),rows:8,placeholder:"Explain your approach to this case, relevant experience, and timeline...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:e,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Cancel"}),p.jsx("button",{onClick:a,disabled:i,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50",children:i?"Submitting...":"Submit Application"})]})]})})}let oN={},b9;function oS(t={}){oN={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function at(t){return t?oN[t]:oN}function mge(t){b9=t}function Os(){return b9}let $1={};function Hy(t,e){$1[t]=e}function ku(t){var e;(e=$1[t])==null||e.call($1)}function gge(){$1={}}function qy(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function S9(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(n=>{const r=n.matches(e),i=Array.from(n.querySelectorAll(e));return[...r?[n]:[],...i]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&wge(n))}function k9(t){if(!t||vge(t))return;const e=at("smoothScroll"),n=t.offsetHeight>window.innerHeight;t.scrollIntoView({behavior:!e||yge(t)?"auto":"smooth",inline:"center",block:n?"start":"center"})}function yge(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function vge(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function wge(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let V1={};function Sr(t,e){V1[t]=e}function ct(t){return t?V1[t]:V1}function oR(){V1={}}function xge(t,e,n,r){let i=ct("__activeStagePosition");const s=i||n.getBoundingClientRect(),o=r.getBoundingClientRect(),a=qy(t,s.x,o.x-s.x,e),l=qy(t,s.y,o.y-s.y,e),c=qy(t,s.width,o.width-s.width,e),u=qy(t,s.height,o.height-s.height,e);i={x:a,y:l,width:c,height:u},N9(i),Sr("__activeStagePosition",i)}function _9(t){if(!t)return;const e=t.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height};Sr("__activeStagePosition",n),N9(n)}function bge(){const t=ct("__activeStagePosition"),e=ct("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const n=window.innerWidth,r=window.innerHeight;e.setAttribute("viewBox",`0 0 ${n} ${r}`)}function Sge(t){const e=kge(t);document.body.appendChild(e),C9(e,n=>{n.target.tagName==="path"&&ku("overlayClick")}),Sr("__overlaySvg",e)}function N9(t){const e=ct("__overlaySvg");if(!e){Sge(t);return}const n=e.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",E9(t))}function kge(t){const e=window.innerWidth,n=window.innerHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("driver-overlay","driver-overlay-animated"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r.setAttribute("xmlSpace","preserve"),r.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("preserveAspectRatio","xMinYMin slice"),r.style.fillRule="evenodd",r.style.clipRule="evenodd",r.style.strokeLinejoin="round",r.style.strokeMiterlimit="2",r.style.zIndex="10000",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%";const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",E9(t)),i.style.fill=at("overlayColor")||"rgb(0,0,0)",i.style.opacity=`${at("overlayOpacity")}`,i.style.pointerEvents="auto",i.style.cursor="auto",r.appendChild(i),r}function E9(t){const e=window.innerWidth,n=window.innerHeight,r=at("stagePadding")||0,i=at("stageRadius")||0,s=t.width+r*2,o=t.height+r*2,a=Math.min(i,s/2,o/2),l=Math.floor(Math.max(a,0)),c=t.x-r+l,u=t.y-r,d=s-l*2,h=o-l*2;return`M${e},0L0,0L0,${n}L${e},${n}L${e},0Z
    M${c},${u} h${d} a${l},${l} 0 0 1 ${l},${l} v${h} a${l},${l} 0 0 1 -${l},${l} h-${d} a${l},${l} 0 0 1 -${l},-${l} v-${h} a${l},${l} 0 0 1 ${l},-${l} z`}function _ge(){const t=ct("__overlaySvg");t&&t.remove()}function Nge(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function aR(t){const{element:e}=t;let n=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;n||(n=Nge()),Age(n,t)}function Ege(){const t=ct("__activeElement"),e=ct("__activeStep");t&&(_9(t),bge(),P9(t,e))}function Age(t,e){var n;const r=Date.now(),i=ct("__activeStep"),s=ct("__activeElement")||t,o=!s||s===t,a=t.id==="driver-dummy-element",l=s.id==="driver-dummy-element",c=at("animate"),u=e.onHighlightStarted||at("onHighlightStarted"),d=(e==null?void 0:e.onHighlighted)||at("onHighlighted"),h=(i==null?void 0:i.onDeselected)||at("onDeselected"),f=at(),m=ct();!o&&h&&h(l?void 0:s,i,{config:f,state:m,driver:Os()}),u&&u(a?void 0:t,e,{config:f,state:m,driver:Os()});const g=!o&&c;let v=!1;Lge(),Sr("previousStep",i),Sr("previousElement",s),Sr("activeStep",e),Sr("activeElement",t);const y=()=>{if(ct("__transitionCallback")!==y)return;const w=Date.now()-r,b=400-w<=400/2;e.popover&&b&&!v&&g&&(lR(t,e),v=!0),at("animate")&&w<400?xge(w,400,s,t):(_9(t),d&&d(a?void 0:t,e,{config:at(),state:ct(),driver:Os()}),Sr("__transitionCallback",void 0),Sr("__previousStep",i),Sr("__previousElement",s),Sr("__activeStep",e),Sr("__activeElement",t)),window.requestAnimationFrame(y)};Sr("__transitionCallback",y),window.requestAnimationFrame(y),k9(t),!g&&e.popover&&lR(t,e),s.classList.remove("driver-active-element","driver-no-interaction"),s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),((n=e.disableActiveInteraction)!=null?n:at("disableActiveInteraction"))&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function Cge(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function hg(){const t=ct("__resizeTimeout");t&&window.cancelAnimationFrame(t),Sr("__resizeTimeout",window.requestAnimationFrame(Ege))}function Tge(t){var e;if(!ct("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const n=ct("__activeElement"),r=(e=ct("popover"))==null?void 0:e.wrapper,i=S9([...r?[r]:[],...n?[n]:[]]),s=i[0],o=i[i.length-1];if(t.preventDefault(),t.shiftKey){const a=i[i.indexOf(document.activeElement)-1]||o;a==null||a.focus()}else{const a=i[i.indexOf(document.activeElement)+1]||s;a==null||a.focus()}}function A9(t){var e;((e=at("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?ku("escapePress"):t.key==="ArrowRight"?ku("arrowRightPress"):t.key==="ArrowLeft"&&ku("arrowLeftPress"))}function C9(t,e,n){const r=(i,s)=>{const o=i.target;t.contains(o)&&((!n||n(o))&&(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation()),s==null||s(i))};document.addEventListener("pointerdown",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",i=>{r(i,e)},!0)}function Pge(){window.addEventListener("keyup",A9,!1),window.addEventListener("keydown",Tge,!1),window.addEventListener("resize",hg),window.addEventListener("scroll",hg)}function jge(){window.removeEventListener("keyup",A9),window.removeEventListener("resize",hg),window.removeEventListener("scroll",hg)}function Lge(){const t=ct("popover");t&&(t.wrapper.style.display="none")}function lR(t,e){var n,r;let i=ct("popover");i&&document.body.removeChild(i.wrapper),i=Ige(),document.body.appendChild(i.wrapper);const{title:s,description:o,showButtons:a,disableButtons:l,showProgress:c,nextBtnText:u=at("nextBtnText")||"Next &rarr;",prevBtnText:d=at("prevBtnText")||"&larr; Previous",progressText:h=at("progressText")||"{current} of {total}"}=e.popover||{};i.nextButton.innerHTML=u,i.previousButton.innerHTML=d,i.progress.innerHTML=h,s?(i.title.innerHTML=s,i.title.style.display="block"):i.title.style.display="none",o?(i.description.innerHTML=o,i.description.style.display="block"):i.description.style.display="none";const f=a||at("showButtons"),m=c||at("showProgress")||!1,g=(f==null?void 0:f.includes("next"))||(f==null?void 0:f.includes("previous"))||m;i.closeButton.style.display=f.includes("close")?"block":"none",g?(i.footer.style.display="flex",i.progress.style.display=m?"block":"none",i.nextButton.style.display=f.includes("next")?"block":"none",i.previousButton.style.display=f.includes("previous")?"block":"none"):i.footer.style.display="none";const v=l||at("disableButtons")||[];v!=null&&v.includes("next")&&(i.nextButton.disabled=!0,i.nextButton.classList.add("driver-popover-btn-disabled")),v!=null&&v.includes("previous")&&(i.previousButton.disabled=!0,i.previousButton.classList.add("driver-popover-btn-disabled")),v!=null&&v.includes("close")&&(i.closeButton.disabled=!0,i.closeButton.classList.add("driver-popover-btn-disabled"));const y=i.wrapper;y.style.display="block",y.style.left="",y.style.top="",y.style.bottom="",y.style.right="",y.id="driver-popover-content",y.setAttribute("role","dialog"),y.setAttribute("aria-labelledby","driver-popover-title"),y.setAttribute("aria-describedby","driver-popover-description");const w=i.arrow;w.className="driver-popover-arrow";const b=((n=e.popover)==null?void 0:n.popoverClass)||at("popoverClass")||"";y.className=`driver-popover ${b}`.trim(),C9(i.wrapper,B=>{var z,F,G;const W=B.target,L=((z=e.popover)==null?void 0:z.onNextClick)||at("onNextClick"),V=((F=e.popover)==null?void 0:F.onPrevClick)||at("onPrevClick"),E=((G=e.popover)==null?void 0:G.onCloseClick)||at("onCloseClick");if(W.closest(".driver-popover-next-btn"))return L?L(t,e,{config:at(),state:ct(),driver:Os()}):ku("nextClick");if(W.closest(".driver-popover-prev-btn"))return V?V(t,e,{config:at(),state:ct(),driver:Os()}):ku("prevClick");if(W.closest(".driver-popover-close-btn"))return E?E(t,e,{config:at(),state:ct(),driver:Os()}):ku("closeClick")},B=>!(i!=null&&i.description.contains(B))&&!(i!=null&&i.title.contains(B))&&typeof B.className=="string"&&B.className.includes("driver-popover")),Sr("popover",i);const N=((r=e.popover)==null?void 0:r.onPopoverRender)||at("onPopoverRender");N&&N(i,{config:at(),state:ct(),driver:Os()}),P9(t,e),k9(y);const C=t.classList.contains("driver-dummy-element"),M=S9([y,...C?[]:[t]]);M.length>0&&M[0].focus()}function T9(){const t=ct("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),n=at("stagePadding")||0,r=at("popoverOffset")||0;return{width:e.width+n+r,height:e.height+n+r,realWidth:e.width,realHeight:e.height}}function cR(t,e){const{elementDimensions:n,popoverDimensions:r,popoverPadding:i,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(n.top-i,window.innerHeight-r.realHeight-s.width),s.width):t==="end"?Math.max(Math.min(n.top-(r==null?void 0:r.realHeight)+n.height+i,window.innerHeight-(r==null?void 0:r.realHeight)-s.width),s.width):t==="center"?Math.max(Math.min(n.top+n.height/2-(r==null?void 0:r.realHeight)/2,window.innerHeight-(r==null?void 0:r.realHeight)-s.width),s.width):0}function uR(t,e){const{elementDimensions:n,popoverDimensions:r,popoverPadding:i,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(n.left-i,window.innerWidth-r.realWidth-s.width),s.width):t==="end"?Math.max(Math.min(n.left-(r==null?void 0:r.realWidth)+n.width+i,window.innerWidth-(r==null?void 0:r.realWidth)-s.width),s.width):t==="center"?Math.max(Math.min(n.left+n.width/2-(r==null?void 0:r.realWidth)/2,window.innerWidth-(r==null?void 0:r.realWidth)-s.width),s.width):0}function P9(t,e){const n=ct("popover");if(!n)return;const{align:r="start",side:i="left"}=(e==null?void 0:e.popover)||{},s=r,o=t.id==="driver-dummy-element"?"over":i,a=at("stagePadding")||0,l=T9(),c=n.arrow.getBoundingClientRect(),u=t.getBoundingClientRect(),d=u.top-l.height;let h=d>=0;const f=window.innerHeight-(u.bottom+l.height);let m=f>=0;const g=u.left-l.width;let v=g>=0;const y=window.innerWidth-(u.right+l.width);let w=y>=0;const b=!h&&!m&&!v&&!w;let N=o;if(o==="top"&&h?w=v=m=!1:o==="bottom"&&m?w=v=h=!1:o==="left"&&v?w=h=m=!1:o==="right"&&w&&(v=h=m=!1),o==="over"){const C=window.innerWidth/2-l.realWidth/2,M=window.innerHeight/2-l.realHeight/2;n.wrapper.style.left=`${C}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${M}px`,n.wrapper.style.bottom="auto"}else if(b){const C=window.innerWidth/2-(l==null?void 0:l.realWidth)/2,M=10;n.wrapper.style.left=`${C}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${M}px`,n.wrapper.style.top="auto"}else if(v){const C=Math.min(g,window.innerWidth-(l==null?void 0:l.realWidth)-c.width),M=cR(s,{elementDimensions:u,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:c});n.wrapper.style.left=`${C}px`,n.wrapper.style.top=`${M}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",N="left"}else if(w){const C=Math.min(y,window.innerWidth-(l==null?void 0:l.realWidth)-c.width),M=cR(s,{elementDimensions:u,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:c});n.wrapper.style.right=`${C}px`,n.wrapper.style.top=`${M}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",N="right"}else if(h){const C=Math.min(d,window.innerHeight-l.realHeight-c.width);let M=uR(s,{elementDimensions:u,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:c});n.wrapper.style.top=`${C}px`,n.wrapper.style.left=`${M}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",N="top"}else if(m){const C=Math.min(f,window.innerHeight-(l==null?void 0:l.realHeight)-c.width);let M=uR(s,{elementDimensions:u,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:c});n.wrapper.style.left=`${M}px`,n.wrapper.style.bottom=`${C}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",N="bottom"}b?n.arrow.classList.add("driver-popover-arrow-none"):Rge(s,N,t)}function Rge(t,e,n){const r=ct("popover");if(!r)return;const i=n.getBoundingClientRect(),s=T9(),o=r.arrow,a=s.width,l=window.innerWidth,c=i.width,u=i.left,d=s.height,h=window.innerHeight,f=i.top,m=i.height;o.className="driver-popover-arrow";let g=e,v=t;if(e==="top"?(u+c<=0?(g="right",v="end"):u+c-a<=0&&(g="top",v="start"),u>=l?(g="left",v="end"):u+a>=l&&(g="top",v="end")):e==="bottom"?(u+c<=0?(g="right",v="start"):u+c-a<=0&&(g="bottom",v="start"),u>=l?(g="left",v="start"):u+a>=l&&(g="bottom",v="end")):e==="left"?(f+m<=0?(g="bottom",v="end"):f+m-d<=0&&(g="left",v="start"),f>=h?(g="top",v="end"):f+d>=h&&(g="left",v="end")):e==="right"&&(f+m<=0?(g="bottom",v="start"):f+m-d<=0&&(g="right",v="start"),f>=h?(g="top",v="start"):f+d>=h&&(g="right",v="end")),!g)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${g}`),o.classList.add(`driver-popover-arrow-align-${v}`);const y=n.getBoundingClientRect(),w=o.getBoundingClientRect(),b=at("stagePadding")||0,N=y.left-b<window.innerWidth&&y.right+b>0&&y.top-b<window.innerHeight&&y.bottom+b>0;e==="bottom"&&N&&(w.x>y.x&&w.x+w.width<y.x+y.width?r.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${v}`),o.classList.add("driver-popover-arrow-none"),r.wrapper.style.transform=`translateY(-${b/2}px)`))}}function Ige(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const r=document.createElement("div");r.id="driver-popover-description",r.classList.add("driver-popover-description"),r.style.display="none",r.innerText="Popover description is here";const i=document.createElement("button");i.type="button",i.classList.add("driver-popover-close-btn"),i.setAttribute("aria-label","Close"),i.innerHTML="&times;";const s=document.createElement("footer");s.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const a=document.createElement("span");a.classList.add("driver-popover-navigation-btns");const l=document.createElement("button");l.type="button",l.classList.add("driver-popover-prev-btn"),l.innerHTML="&larr; Previous";const c=document.createElement("button");return c.type="button",c.classList.add("driver-popover-next-btn"),c.innerHTML="Next &rarr;",a.appendChild(l),a.appendChild(c),s.appendChild(o),s.appendChild(a),t.appendChild(i),t.appendChild(e),t.appendChild(n),t.appendChild(r),t.appendChild(s),{wrapper:t,arrow:e,title:n,description:r,footer:s,previousButton:l,nextButton:c,closeButton:i,footerButtons:a,progress:o}}function Oge(){var t;const e=ct("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function Mge(t={}){oS(t);function e(){at("allowClose")&&u()}function n(){const h=at("overlayClickBehavior");if(at("allowClose")&&h==="close"){u();return}h==="nextStep"&&r()}function r(){const h=ct("activeIndex"),f=at("steps")||[];if(typeof h>"u")return;const m=h+1;f[m]?c(m):u()}function i(){const h=ct("activeIndex"),f=at("steps")||[];if(typeof h>"u")return;const m=h-1;f[m]?c(m):u()}function s(h){(at("steps")||[])[h]?c(h):u()}function o(){var h;if(ct("__transitionCallback"))return;const f=ct("activeIndex"),m=ct("__activeStep"),g=ct("__activeElement");if(typeof f>"u"||typeof m>"u"||typeof ct("activeIndex")>"u")return;const v=((h=m.popover)==null?void 0:h.onPrevClick)||at("onPrevClick");if(v)return v(g,m,{config:at(),state:ct(),driver:Os()});i()}function a(){var h;if(ct("__transitionCallback"))return;const f=ct("activeIndex"),m=ct("__activeStep"),g=ct("__activeElement");if(typeof f>"u"||typeof m>"u")return;const v=((h=m.popover)==null?void 0:h.onNextClick)||at("onNextClick");if(v)return v(g,m,{config:at(),state:ct(),driver:Os()});r()}function l(){ct("isInitialized")||(Sr("isInitialized",!0),document.body.classList.add("driver-active",at("animate")?"driver-fade":"driver-simple"),Pge(),Hy("overlayClick",n),Hy("escapePress",e),Hy("arrowLeftPress",o),Hy("arrowRightPress",a))}function c(h=0){var f,m,g,v,y,w,b,N;const C=at("steps");if(!C){console.error("No steps to drive through"),u();return}if(!C[h]){u();return}Sr("__activeOnDestroyed",document.activeElement),Sr("activeIndex",h);const M=C[h],B=C[h+1],z=C[h-1],F=((f=M.popover)==null?void 0:f.doneBtnText)||at("doneBtnText")||"Done",G=at("allowClose"),W=typeof((m=M.popover)==null?void 0:m.showProgress)<"u"?(g=M.popover)==null?void 0:g.showProgress:at("showProgress"),L=(((v=M.popover)==null?void 0:v.progressText)||at("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${h+1}`).replace("{{total}}",`${C.length}`),V=((y=M.popover)==null?void 0:y.showButtons)||at("showButtons"),E=["next","previous",...G?["close"]:[]].filter(K=>!(V!=null&&V.length)||V.includes(K)),te=((w=M.popover)==null?void 0:w.onNextClick)||at("onNextClick"),pe=((b=M.popover)==null?void 0:b.onPrevClick)||at("onPrevClick"),re=((N=M.popover)==null?void 0:N.onCloseClick)||at("onCloseClick");aR({...M,popover:{showButtons:E,nextBtnText:B?void 0:F,disableButtons:[...z?[]:["previous"]],showProgress:W,progressText:L,onNextClick:te||(()=>{B?c(h+1):u()}),onPrevClick:pe||(()=>{c(h-1)}),onCloseClick:re||(()=>{u()}),...(M==null?void 0:M.popover)||{}}})}function u(h=!0){const f=ct("__activeElement"),m=ct("__activeStep"),g=ct("__activeOnDestroyed"),v=at("onDestroyStarted");if(h&&v){const b=!f||(f==null?void 0:f.id)==="driver-dummy-element";v(b?void 0:f,m,{config:at(),state:ct(),driver:Os()});return}const y=(m==null?void 0:m.onDeselected)||at("onDeselected"),w=at("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),jge(),Oge(),Cge(),_ge(),gge(),oR(),f&&m){const b=f.id==="driver-dummy-element";y&&y(b?void 0:f,m,{config:at(),state:ct(),driver:Os()}),w&&w(b?void 0:f,m,{config:at(),state:ct(),driver:Os()})}g&&g.focus()}const d={isActive:()=>ct("isInitialized")||!1,refresh:hg,drive:(h=0)=>{l(),c(h)},setConfig:oS,setSteps:h=>{oR(),oS({...at(),steps:h})},getConfig:at,getState:ct,getActiveIndex:()=>ct("activeIndex"),isFirstStep:()=>ct("activeIndex")===0,isLastStep:()=>{const h=at("steps")||[],f=ct("activeIndex");return f!==void 0&&f===h.length-1},getActiveStep:()=>ct("activeStep"),getActiveElement:()=>ct("activeElement"),getPreviousElement:()=>ct("previousElement"),getPreviousStep:()=>ct("previousStep"),moveNext:r,movePrevious:i,moveTo:s,hasNextStep:()=>{const h=at("steps")||[],f=ct("activeIndex");return f!==void 0&&!!h[f+1]},hasPreviousStep:()=>{const h=at("steps")||[],f=ct("activeIndex");return f!==void 0&&!!h[f-1]},highlight:h=>{l(),aR({...h,popover:h.popover?{showButtons:[],showProgress:!1,progressText:"",...h.popover}:void 0})},destroy:()=>{u(!1)}};return mge(d),d}function Xu({onComplete:t}){return $.useEffect(()=>{const e=Mge({showProgress:!0,steps:[{element:'[data-tour="overview"]',popover:{title:"Overview Dashboard",description:"This is your performance overview  active cases, earnings, ratings, and reminders.",side:"right",align:"start"}},{element:'[data-tour="cases"]',popover:{title:"Cases",description:"View all cases you're working on or applied for with detailed progress tracking.",side:"right",align:"start"}},{element:'[data-tour="haki-lens"]',popover:{title:"HakiLens",description:"Search case law with AI-powered deep research. Auto-detect, crawl listings, or research single cases.",side:"right",align:"start"}},{element:'[data-tour="haki-draft"]',popover:{title:"HakiDraft",description:"Generate professional legal documents with AI assistance across multiple practice areas.",side:"right",align:"start"}},{element:'[data-tour="haki-review"]',popover:{title:"HakiReview",description:"Upload and analyze legal documents with AI-powered review and chat assistance.",side:"right",align:"start"}},{element:'[data-tour="haki-reminders"]',popover:{title:"HakiReminders",description:"Never miss a deadline with AI-powered reminders and Kanban workflow management.",side:"right",align:"start"}},{element:'[data-tour="documents"]',popover:{title:"Documents",description:"Central repository for all your case documents, searchable and organized.",side:"right",align:"start"}}],onDestroyStarted:()=>{e.destroy(),t()}});return e.drive(),()=>{e.destroy()}},[t]),null}function Ec({onTourStart:t}){const[e,n]=$.useState(!0),r=Eh(),i=[{id:"overview",label:"Overview",icon:uQ,href:"/dashboard"},{id:"cases",label:"Cases",icon:Lf,href:"/cases"},{id:"haki-lens",label:"HakiLens",icon:ia,href:"/haki-lens"},{id:"haki-draft",label:"HakiDraft",icon:uA,href:"/haki-draft"},{id:"haki-review",label:"HakiReview",icon:oA,href:"/haki-review"},{id:"haki-reminders",label:"HakiReminders",icon:vo,href:"/haki-reminders"},{id:"documents",label:"Documents",icon:qs,href:"/haki-docs"}],s=o=>r.pathname===o;return p.jsx("aside",{className:`fixed left-0 top-0 h-screen bg-white border-r border-gray-200 transition-all duration-300 z-50 ${e?"w-[280px]":"w-[64px]"}`,style:{overflowY:"auto"},children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:e?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-emerald-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:"HC"}),p.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"HakiChain"})]}),p.jsx("button",{onClick:()=>n(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Collapse sidebar",children:p.jsx(eQ,{className:"w-5 h-5"})})]}):p.jsx("button",{onClick:()=>n(!0),className:"w-full p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition flex items-center justify-center",title:"Expand sidebar",children:p.jsx(nF,{className:"w-5 h-5"})})}),p.jsx("nav",{className:"flex-1 py-4 px-3 space-y-1",children:i.map(o=>p.jsxs(Ot,{to:o.href,"data-tour":o.id,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition group ${s(o.href)?"bg-teal-50 text-teal-700 font-medium border-l-4 border-teal-600":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent"}`,title:e?void 0:o.label,children:[p.jsx(o.icon,{className:"w-5 h-5 flex-shrink-0"}),e&&p.jsx("span",{className:"text-sm",children:o.label})]},o.id))}),p.jsxs("div",{className:"border-t border-gray-200 p-3 space-y-1",children:[p.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition text-left",title:e?void 0:"Take Tour",children:[p.jsx(rF,{className:"w-5 h-5 flex-shrink-0"}),e&&p.jsx("span",{className:"text-sm",children:"Take Tour"})]}),p.jsxs(Ot,{to:"/settings",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition",title:e?void 0:"Settings",children:[p.jsx(vQ,{className:"w-5 h-5 flex-shrink-0"}),e&&p.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})})}function Dge(){const{profile:t}=$i(),[e,n]=$.useState([]),[r,i]=$.useState([]),[s,o]=$.useState([]),[a,l]=$.useState(!0),[c,u]=$.useState(!1),[d]=vJ(),h=d.get("tab")||"overview";$.useEffect(()=>{t&&(f(),!localStorage.getItem(`tour-seen-${t.id}`)&&t.user_type==="lawyer"&&u(!0))},[t]);async function f(){try{if((t==null?void 0:t.user_type)==="ngo"){const{data:m,error:g}=await gn.from("bounties").select("*").eq("ngo_id",t.id).order("created_at",{ascending:!1});if(g)throw g;n(m||[])}else if((t==null?void 0:t.user_type)==="lawyer"){const[m,g,v]=await Promise.all([gn.from("applications").select("*, bounties(*)").eq("lawyer_id",t.id).order("applied_at",{ascending:!1}),gn.from("milestones").select("*, bounties!inner(*)").eq("bounties.ngo_id",t.id).order("created_at",{ascending:!1}),gn.from("bounties").select("*").eq("status","open").order("created_at",{ascending:!1}).limit(5)]);if(m.error)throw m.error;if(g.error)throw g.error;if(v.error)throw v.error;i(m.data||[]),o(g.data||[]),n(v.data||[])}}catch(m){console.error("Error loading dashboard:",m)}finally{l(!1)}}return a?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):(t==null?void 0:t.user_type)==="ngo"?p.jsx(Fge,{bounties:e,onRefresh:f}):(t==null?void 0:t.user_type)==="lawyer"?p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[c&&p.jsx(Xu,{onComplete:()=>{localStorage.setItem(`tour-seen-${t.id}`,"true"),u(!1)}}),p.jsx(Ec,{onTourStart:()=>u(!0)}),p.jsx("div",{className:"flex-1 ml-[280px]",children:p.jsx(Bge,{applications:r,milestones:s,recommendedCases:e,profile:t,activeTab:h})})]}):(t==null?void 0:t.user_type)==="donor"?p.jsx($ge,{}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Please complete your profile to access the dashboard"})})}function Fge({bounties:t,onRefresh:e}){const[n,r]=$.useState(!1),i={total:t.length,open:t.filter(s=>s.status==="open").length,inProgress:t.filter(s=>s.status==="in_progress").length,completed:t.filter(s=>s.status==="completed").length,totalFunding:t.reduce((s,o)=>s+o.funding_goal,0)};return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"NGO Dashboard"}),p.jsx("p",{className:"text-gray-600",children:"Manage your legal bounties and track progress"})]}),p.jsxs("button",{onClick:()=>r(!0),className:"bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded-lg font-medium transition flex items-center gap-2",children:[p.jsx(aA,{className:"w-5 h-5"}),"Create Bounty"]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx(Ra,{icon:p.jsx(Lf,{className:"w-6 h-6"}),label:"Total Cases",value:i.total}),p.jsx(Ra,{icon:p.jsx(vo,{className:"w-6 h-6"}),label:"Open Cases",value:i.open,color:"blue"}),p.jsx(Ra,{icon:p.jsx(SQ,{className:"w-6 h-6"}),label:"In Progress",value:i.inProgress,color:"yellow"}),p.jsx(Ra,{icon:p.jsx(rh,{className:"w-6 h-6"}),label:"Completed",value:i.completed,color:"green"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsx("h2",{className:"text-xl font-bold mb-6",children:"Your Bounties"}),t.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't created any bounties yet"}),p.jsx("button",{onClick:()=>r(!0),className:"text-teal-600 hover:text-teal-700 font-medium",children:"Create your first bounty"})]}):p.jsx("div",{className:"space-y-4",children:t.map(s=>p.jsx(zge,{bounty:s},s.id))})]})]}),n&&p.jsx(Uge,{onClose:()=>r(!1),onSuccess:e})]})}function Bge({applications:t,milestones:e,recommendedCases:n,profile:r,activeTab:i}){const s={applications:t.length,accepted:t.filter(a=>a.status==="accepted").length,pending:t.filter(a=>a.status==="pending").length,activeCases:t.filter(a=>a.status==="accepted").length,successRate:85,earnings:25e3},o=[{type:"milestone",title:"Milestone completed: Initial Documentation",case:"Land Rights Case",time:"2 days ago"},{type:"case",title:"New case assigned: Environmental Justice",case:"",time:"3 days ago"},{type:"rating",title:"Received 5-star rating",case:"Domestic Violence Case",time:"1 week ago"}];return p.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 md:pl-0",children:[p.jsx("div",{className:"bg-white border-b border-gray-200",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-1",children:["Welcome back, ",r.full_name]}),p.jsx("p",{className:"text-gray-600",children:"Here's an overview of your cases and performance"})]}),p.jsxs(Ot,{to:"/bounties",className:"bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded-lg font-medium transition flex items-center gap-2",children:[p.jsx(aA,{className:"w-5 h-5"}),"Browse Bounties"]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[p.jsx(Ra,{label:"Active Cases",value:s.activeCases,icon:p.jsx(Lf,{className:"w-6 h-6"}),color:"bg-teal-50",iconColor:"text-teal-600"}),p.jsx(Ra,{label:"Success Rate",value:`${s.successRate}%`,change:"+5% from average",icon:p.jsx(bQ,{className:"w-6 h-6"}),color:"bg-blue-50",iconColor:"text-blue-600"}),p.jsx(Ra,{label:"Rating",value:"4.8/5.0",change:"Top 10% of lawyers",icon:p.jsx(gP,{className:"w-6 h-6"}),color:"bg-yellow-50",iconColor:"text-yellow-600"}),p.jsx(Ra,{label:"Total Earnings",value:`$${s.earnings.toLocaleString()}`,change:"+12.5% from last month",icon:p.jsx(ix,{className:"w-6 h-6"}),color:"bg-green-50",iconColor:"text-green-600"}),p.jsx(Ra,{label:"Due Today",value:0,icon:p.jsx(vo,{className:"w-6 h-6"}),color:"bg-red-50",iconColor:"text-red-600"})]})]})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[i==="overview"&&p.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Automated Reminder System"}),p.jsx(vo,{className:"w-5 h-5 text-gray-400"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Due Today"}),p.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Upcoming (7 days)"}),p.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Settings"}),p.jsx("a",{href:"?tab=settings",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Configure "})]})]}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsx("div",{className:"text-gray-600",children:" Due Today"}),p.jsx("div",{className:"text-gray-500",children:"No reminders due today"}),p.jsx("div",{className:"text-gray-600 mt-3",children:"Upcoming"}),p.jsx("div",{className:"text-gray-500",children:"No upcoming reminders"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Active Cases"}),t.filter(a=>a.status==="accepted").length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Th,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"No active cases yet"}),p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Start by browsing available bounties"}),p.jsx(Ot,{to:"/bounties",className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-lg font-medium transition",children:"Browse Bounties"})]}):p.jsx("div",{className:"space-y-3",children:t.filter(a=>a.status==="accepted").map(a=>{var l,c;return p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition",children:[p.jsx("h4",{className:"font-medium text-gray-900",children:((l=a.bounties)==null?void 0:l.title)||"Case Title"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((c=a.bounties)==null?void 0:c.category)||"Category"})]},a.id)})})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Recent Activity"}),p.jsx("a",{href:"#",className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View All "})]}),p.jsx("div",{className:"space-y-4",children:o.map((a,l)=>p.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[p.jsxs("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:[a.type==="milestone"&&p.jsx(rh,{className:"w-4 h-4 text-teal-600"}),a.type==="case"&&p.jsx(Lf,{className:"w-4 h-4 text-teal-600"}),a.type==="rating"&&p.jsx(gP,{className:"w-4 h-4 text-teal-600"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.title}),a.case&&p.jsx("p",{className:"text-xs text-gray-500",children:a.case}),p.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},l))})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Recommended Cases"}),p.jsx(Ot,{to:"/bounties",className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View All "})]}),p.jsx("div",{className:"space-y-3",children:n.length===0?p.jsx("p",{className:"text-gray-500 text-sm",children:"No available cases at the moment"}):n.map(a=>p.jsxs(Ot,{to:`/bounties/${a.id}`,className:"block border border-gray-200 rounded-lg p-3 hover:border-teal-300 transition",children:[p.jsx("h4",{className:"font-medium text-sm text-gray-900",children:a.title}),p.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.category}),p.jsxs("p",{className:"text-sm font-medium text-teal-600 mt-2",children:["$",a.funding_goal.toLocaleString()]})]},a.id))})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Application Status"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active Applications"}),p.jsx("p",{className:"text-2xl font-bold text-teal-600 mt-2",children:t.filter(a=>a.status==="pending").length})]}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Accepted"}),p.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:t.filter(a=>a.status==="accepted").length})]})]}),p.jsx("a",{href:"#",className:"inline-block mt-4 text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View Details "})]})]})]}),i==="haki-lens"&&p.jsx($d,{icon:p.jsx(ia,{className:"w-12 h-12"}),title:"HakiLens - Legal Research",description:"AI-powered legal research hub for case law and precedents"}),i==="haki-draft"&&p.jsx($d,{icon:p.jsx(uA,{className:"w-12 h-12"}),title:"HakiDraft - AI Document Generator",description:"Generate professional legal documents with AI assistance"}),i==="haki-review"&&p.jsx($d,{icon:p.jsx(oA,{className:"w-12 h-12"}),title:"HakiReview - Document Analysis",description:"AI-powered document analysis and legal review"}),i==="haki-reminders"&&p.jsx($d,{icon:p.jsx(vo,{className:"w-12 h-12"}),title:"HakiReminders - Task Management",description:"Calendar-based task and deadline manager"}),i==="documents"&&p.jsx($d,{icon:p.jsx(qs,{className:"w-12 h-12"}),title:"HakiDocs - Document Repository",description:"Secure repository for uploading and managing legal files"}),i==="cases"&&p.jsx($d,{icon:p.jsx(Lf,{className:"w-12 h-12"}),title:"Cases Management",description:"Manage all your legal cases and track progress"})]})]})}function $d({icon:t,title:e,description:n}){return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[p.jsx("div",{className:"text-teal-600 flex justify-center mb-4",children:t}),p.jsx("h2",{className:"text-3xl font-bold mb-2",children:e}),p.jsx("p",{className:"text-gray-600 mb-6",children:n}),p.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})}function Ra({label:t,value:e,change:n,icon:r,color:i="bg-gray-50",iconColor:s="text-gray-600"}){return p.jsxs("div",{className:`${i} rounded-lg p-4 border border-gray-200`,children:[p.jsx("div",{className:`${s} mb-3`,children:r}),p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e}),p.jsx("div",{className:"text-xs text-gray-600 mt-1",children:t}),n&&p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:n})]})}function zge({bounty:t}){const e={open:"bg-blue-100 text-blue-700",in_progress:"bg-yellow-100 text-yellow-700",completed:"bg-green-100 text-green-700",cancelled:"bg-gray-100 text-gray-700"};return p.jsxs(Ot,{to:`/bounties/${t.id}`,className:"block border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"font-bold",children:t.title}),p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e[t.status]}`,children:t.status.replace("_"," ")})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:t.jurisdiction}),p.jsxs("span",{className:"font-bold text-teal-600",children:["$",t.funding_goal.toLocaleString()]})]})]})}function Uge({onClose:t,onSuccess:e}){const{profile:n}=$i(),[r,i]=$.useState({title:"",description:"",jurisdiction:"",category:"",fundingGoal:"",deadline:"",tags:""}),[s,o]=$.useState(!1);async function a(l){l.preventDefault(),o(!0);try{const{error:c}=await gn.from("bounties").insert({ngo_id:n==null?void 0:n.id,title:r.title,description:r.description,jurisdiction:r.jurisdiction,category:r.category,funding_goal:Number.parseInt(r.fundingGoal),deadline:r.deadline||null,tags:r.tags.split(",").map(u=>u.trim()).filter(Boolean)});if(c)throw c;e(),t()}catch(c){console.error("Error creating bounty:",c),alert("Failed to create bounty")}finally{o(!1)}}return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:p.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 my-8",children:[p.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Create New Bounty"}),p.jsxs("form",{onSubmit:a,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Title"}),p.jsx("input",{type:"text",value:r.title,onChange:l=>i({...r,title:l.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Land Rights Dispute"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),p.jsx("textarea",{value:r.description,onChange:l=>i({...r,description:l.target.value}),required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Detailed description of the legal case..."})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jurisdiction"}),p.jsx("input",{type:"text",value:r.jurisdiction,onChange:l=>i({...r,jurisdiction:l.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Eastern Province, Kenya"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),p.jsxs("select",{value:r.category,onChange:l=>i({...r,category:l.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[p.jsx("option",{value:"",children:"Select category"}),p.jsx("option",{value:"Land Rights",children:"Land Rights"}),p.jsx("option",{value:"Domestic Violence",children:"Domestic Violence"}),p.jsx("option",{value:"Environmental Justice",children:"Environmental Justice"}),p.jsx("option",{value:"Labor Rights",children:"Labor Rights"}),p.jsx("option",{value:"Child Protection",children:"Child Protection"}),p.jsx("option",{value:"Other",children:"Other"})]})]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Goal (USD)"}),p.jsx("input",{type:"number",value:r.fundingGoal,onChange:l=>i({...r,fundingGoal:l.target.value}),required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"2500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline (Optional)"}),p.jsx("input",{type:"date",value:r.deadline,onChange:l=>i({...r,deadline:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),p.jsx("input",{type:"text",value:r.tags,onChange:l=>i({...r,tags:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"land rights, indigenous communities, corporate accountability"})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50",children:s?"Creating...":"Create Bounty"})]})]})]})})}function $ge(){return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Donor Dashboard"}),p.jsx("p",{className:"text-gray-600",children:"Support legal cases and track your impact"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[p.jsx(ix,{className:"w-16 h-16 mx-auto mb-4 text-teal-600"}),p.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Start Making an Impact"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Browse available legal cases and support those in need"}),p.jsx(Ot,{to:"/bounties",className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-8 py-3 rounded-lg font-medium transition",children:"Browse Cases"})]})]})})}function Vge(){const[t,e]=$.useState({bounties:!1,matching:!1,funding:!1,communication:!1,compliance:!1}),n=r=>{e(i=>({...i,[r]:!i[r]}))};return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-gradient-to-br from-teal-700 to-blue-800 text-white py-16",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Documentation"}),p.jsx("p",{className:"text-xl text-teal-100",children:"Everything you need to know about using HakiChain"})]})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[p.jsx("div",{className:"mb-12",children:p.jsx("input",{type:"text",placeholder:"Search documentation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[p.jsx(Vd,{icon:p.jsx(QX,{className:"w-8 h-8 text-teal-600"}),title:"Getting Started",items:["Introduction to HakiChain","Quick Start Guide","Platform Overview","Whitepaper"]}),p.jsx(Vd,{icon:p.jsx(fm,{className:"w-8 h-8 text-blue-600"}),title:"User Guides",items:["For NGOs","For Lawyers","For Donors"]}),p.jsx(Vd,{icon:p.jsx(rQ,{className:"w-8 h-8 text-purple-600"}),title:"Technical Documentation",items:["Smart Contracts","API Reference","Blockchain Integration"]}),p.jsx(Vd,{icon:p.jsx(xu,{className:"w-8 h-8 text-green-600"}),title:"Platform Features",items:["Legal Bounties","Milestone System","Lawyer Matching"]}),p.jsx(Vd,{icon:p.jsx(N1,{className:"w-8 h-8 text-red-600"}),title:"Legal & Compliance",items:["Terms of Service","Privacy Policy","Data Protection Policy","KYC/AML Policy","Consumer Protection Policy"]}),p.jsx(Vd,{icon:p.jsx(rF,{className:"w-8 h-8 text-yellow-600"}),title:"Support",items:["FAQ","Contact Support","Community Forum"]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(Mp,{title:"Legal Bounties - Complete Guide",isExpanded:t.bounties,onToggle:()=>n("bounties"),icon:p.jsx(xu,{className:"w-6 h-6"}),children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-3",children:"What are Legal Bounties?"}),p.jsx("p",{className:"text-gray-700",children:"Legal bounties are crowdfunded legal cases where donors contribute funds to support specific legal actions, and lawyers compete to take on those cases. The system ensures transparency, accountability, and fair compensation for all parties involved."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Key Features"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsx(Wy,{title:"Transparent Funding",items:["No minimum contribution","Anonymous options available","Tax-deductible receipts"]}),p.jsx(Wy,{title:"Milestone-Based Payments",items:["Competitive lawyer selection","Milestone-based payments","Escrow protection"]}),p.jsx(Wy,{title:"Benefits for Legal Access",items:["Access to quality legal representation","Transparent cost structure","Community-driven justice"]}),p.jsx(Wy,{title:"Benefits for Organizations",items:["Larger contribution amounts","Strategic partnerships","Impact reporting"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Bounty Lifecycle"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(Ky,{number:"1",title:"Creation",description:"NGO or individual creates a bounty with funding goal. Timeline: 1-2 days. Role: NGO/Individual"}),p.jsx(Ky,{number:"2",title:"Funding",description:"Donors contribute funds to reach funding goal. Timeline: 7-30 days. Role: Donors"}),p.jsx(Ky,{number:"3",title:"Selection",description:"Lawyers apply and the best candidate is chosen. Timeline: 3-7 days. Role: Lawyers"}),p.jsx(Ky,{number:"4",title:"Resolution",description:"Case proceeds with milestone-based progress updates. Timeline: Variable. Role: Lawyer + Client"})]})]})]})}),p.jsx(Mp,{title:"Lawyer Matching - AI-Powered System",isExpanded:t.matching,onToggle:()=>n("matching"),icon:p.jsx(fm,{className:"w-6 h-6"}),children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-3",children:"How Lawyer Matching Works"}),p.jsx("p",{className:"text-gray-700 mb-4",children:"Our advanced AI matching algorithm analyzes multiple factors including practice area expertise, geographic compatibility, experience level, availability, reputation, and fee structure to find the perfect lawyer-case fit."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Matching Algorithm Factors"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsx(dR,{title:"Primary Factors (Weight: 60%)",items:["Practice Area Match","Geographic Compatibility","Experience Level"]}),p.jsx(dR,{title:"Secondary Factors (Weight: 40%)",items:["Reputation Score","Availability","Fee Compatibility"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-3",children:"Lawyer Profile Components"}),p.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:p.jsxs("ul",{className:"space-y-3",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Professional Credentials:"})," Law degree, bar admission, practice areas, years of experience"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Performance Metrics:"})," Case success rate, client satisfaction, average case duration"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Personal Information:"})," Languages spoken, communication preferences, availability, personal approach"]})]})})]})]})}),p.jsx(Mp,{title:"Funding Mechanisms & Lawyer Selection",isExpanded:t.funding,onToggle:()=>n("funding"),icon:p.jsx(xu,{className:"w-6 h-6"}),children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"How Bounties Get Funded"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsx(aS,{title:"Individual Donations",items:["No minimum contribution","Anonymous options","Tax-deductible receipts"]}),p.jsx(aS,{title:"NGO Funding",items:["Larger amounts","Strategic partnerships","Impact reporting"]}),p.jsx(aS,{title:"Corporate Sponsorship",items:["CSR benefits","Brand visibility","Legal expertise access"]})]})]}),p.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-3 text-teal-900",children:"Milestone System"}),p.jsx("p",{className:"text-teal-800 mb-4",children:"Payments are released based on predefined milestones to ensure accountability and progress tracking:"}),p.jsxs("ul",{className:"space-y-2 text-teal-800",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Initial Retainer (20%):"})," Released upon lawyer selection"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Milestone Payments:"})," Released as work is completed and verified"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Final Payment (Remaining):"})," Released upon case completion and verification"]})]})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-3 text-blue-900",children:"Escrow Protection"}),p.jsx("p",{className:"text-blue-800",children:"All funds are held in smart contract escrow until milestones are verified and approved, ensuring protection for both lawyers and clients."})]})]})}),p.jsx(Mp,{title:"Communication & Coordination",isExpanded:t.communication,onToggle:()=>n("communication"),icon:p.jsx(fm,{className:"w-6 h-6"}),children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Best Practices"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsx(fR,{title:"For Lawyers",items:["Profile Optimization - Keep information current","Application Strategy - Tailor to specific cases","Maintain high response rates","Show commitment to client success"]}),p.jsx(fR,{title:"For Clients",items:["Case Preparation - Provide detailed information","Define timeline requirements","Set clear expectations and goals","Establish budget constraints"]})]})]}),p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-3 text-yellow-900",children:"Quality Assurance Process"}),p.jsxs("ul",{className:"space-y-2 text-yellow-800",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Credential Verification:"})," Bar admission and license status checks"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Performance Monitoring:"})," Case outcome tracking and client satisfaction"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Continuous Improvement:"})," Regular feedback and algorithm refinement"]})]})]})]})}),p.jsx(Mp,{title:"Legal & Compliance",isExpanded:t.compliance,onToggle:()=>n("compliance"),icon:p.jsx(N1,{className:"w-6 h-6"}),children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Important Documents"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsx(Hd,{title:"Terms of Service",description:"Legal terms and conditions of platform use"}),p.jsx(Hd,{title:"Privacy Policy",description:"How we handle and protect your data"}),p.jsx(Hd,{title:"Data Protection Policy",description:"GDPR and data protection compliance"}),p.jsx(Hd,{title:"KYC/AML Policy",description:"Know Your Customer and Anti-Money Laundering procedures"}),p.jsx(Hd,{title:"Consumer Protection",description:"Consumer rights and protections"}),p.jsx(Hd,{title:"Platform Guidelines",description:"Code of conduct and platform rules"})]})]}),p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-3 text-red-900",children:"Security & Blockchain"}),p.jsxs("ul",{className:"space-y-2 text-red-800",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Smart Contract Escrow:"})," Secure and transparent fund handling"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Document Verification:"})," Blockchain-verified, tamper-proof records"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Wallet Integration:"})," MetaMask and WalletConnect support"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Immutable Records:"})," All transactions permanently recorded on-chain"]})]})]})]})})]})]})]})}function Mp({title:t,isExpanded:e,onToggle:n,icon:r,children:i}){return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsxs("button",{onClick:n,className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"text-teal-600",children:r}),p.jsx("h2",{className:"text-xl font-bold text-left",children:t})]}),p.jsx(tF,{className:`w-6 h-6 text-gray-600 transition-transform ${e?"rotate-180":""}`})]}),e&&p.jsx("div",{className:"border-t border-gray-200 px-6 py-6",children:i})]})}function Vd({icon:t,title:e,items:n}){return p.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition",children:[p.jsx("div",{className:"mb-4",children:t}),p.jsx("h3",{className:"text-lg font-bold mb-4",children:e}),p.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>p.jsx("li",{children:p.jsxs("button",{className:"text-sm text-gray-700 hover:text-teal-600 transition flex items-center gap-2",children:[p.jsx("span",{className:"text-teal-400",children:""}),r]})},i))})]})}function Wy({title:t,items:e}){return p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition",children:[p.jsx("h4",{className:"font-bold mb-2 text-gray-900",children:t}),p.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:e.map((n,r)=>p.jsx("li",{children:n},r))})]})}function dR({title:t,items:e}){return p.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[p.jsx("h4",{className:"font-bold mb-3 text-gray-900",children:t}),p.jsx("ul",{className:"space-y-2",children:e.map((n,r)=>p.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 bg-teal-600 rounded-full"}),n]},r))})]})}function aS({title:t,items:e}){return p.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 border border-teal-200 rounded-lg p-4",children:[p.jsx("h4",{className:"font-bold mb-3 text-teal-900",children:t}),p.jsx("ul",{className:"space-y-2",children:e.map((n,r)=>p.jsxs("li",{className:"text-sm text-teal-800",children:[" ",n]},r))})]})}function fR({title:t,items:e}){return p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsx("h4",{className:"font-bold mb-3 text-blue-900",children:t}),p.jsx("ul",{className:"space-y-2",children:e.map((n,r)=>p.jsxs("li",{className:"text-sm text-blue-800",children:[" ",n]},r))})]})}function Ky({number:t,title:e,description:n}){const i=["bg-teal-100 text-teal-700","bg-blue-100 text-blue-700","bg-purple-100 text-purple-700","bg-green-100 text-green-700"][Number(t)-1];return p.jsxs("div",{className:"flex gap-4 items-start",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 font-bold ${i}`,children:t}),p.jsxs("div",{className:"pt-1",children:[p.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:e}),p.jsx("p",{className:"text-sm text-gray-600",children:n})]})]})}function Hd({title:t,description:e}){return p.jsxs("button",{className:"text-left bg-gray-50 hover:bg-gray-100 border border-gray-200 hover:border-teal-300 rounded-lg p-4 transition",children:[p.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:t}),p.jsx("p",{className:"text-sm text-gray-600",children:e})]})}function Hge(){const{user:t,isAdmin:e}=$i(),n=Hu(),[r,i]=$.useState([]),[s,o]=$.useState(!0),[a,l]=$.useState({total:0,pending:0,approved:0}),{signOut:c}=$i();$.useEffect(()=>{if(!e){n("/login");return}u()},[e,n]);async function u(){try{const{data:m,error:g}=await gn.from("applications").select("*").order("created_at",{ascending:!1});if(g)throw g;i(m||[]);const v=(m==null?void 0:m.filter(w=>w.status==="pending").length)||0,y=(m==null?void 0:m.filter(w=>w.status==="approved").length)||0;l({total:(m==null?void 0:m.length)||0,pending:v,approved:y})}catch(m){console.error("Error loading applications:",m)}finally{o(!1)}}async function d(m){try{const{error:g}=await gn.from("applications").update({status:"approved"}).eq("id",m);if(g)throw g;u()}catch(g){console.error("Error approving application:",g)}}async function h(m){try{const{error:g}=await gn.from("applications").update({status:"rejected"}).eq("id",m);if(g)throw g;u()}catch(g){console.error("Error rejecting application:",g)}}async function f(){await c(),n("/login")}return s?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-gradient-to-r from-red-700 to-red-800 text-white py-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(N1,{className:"w-8 h-8"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),p.jsx("p",{className:"text-red-100 text-sm",children:"Manage lawyer applications and approvals"})]})]}),p.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg transition",children:[p.jsx(l_,{className:"w-4 h-4"}),"Sign Out"]})]})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[p.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[p.jsx(lS,{icon:p.jsx(fm,{className:"w-8 h-8 text-blue-600"}),title:"Total Applications",value:a.total,color:"blue"}),p.jsx(lS,{icon:p.jsx(vo,{className:"w-8 h-8 text-yellow-600"}),title:"Pending Review",value:a.pending,color:"yellow"}),p.jsx(lS,{icon:p.jsx(rh,{className:"w-8 h-8 text-green-600"}),title:"Approved",value:a.approved,color:"green"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-gray-200",children:p.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(eF,{className:"w-6 h-6 text-red-600"}),"Lawyer Applications"]})}),r.length===0?p.jsx("div",{className:"p-12 text-center",children:p.jsx("p",{className:"text-gray-500",children:"No applications yet"})}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Lawyer"}),p.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Case"}),p.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Proposal"}),p.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Applied"}),p.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(m=>p.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[p.jsx("td",{className:"px-6 py-4 text-sm",children:p.jsx("div",{className:"font-medium text-gray-900",children:m.lawyer_email||"Unknown"})}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:m.bounty_title||"N/A"}),p.jsx("td",{className:"px-6 py-4 text-sm",children:p.jsx("p",{className:"text-gray-600 line-clamp-2",children:m.proposal})}),p.jsx("td",{className:"px-6 py-4 text-sm",children:p.jsx(qge,{status:m.status})}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(m.created_at).toLocaleDateString()}),p.jsx("td",{className:"px-6 py-4 text-sm",children:m.status==="pending"?p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>d(m.id),className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition text-xs font-medium",children:"Approve"}),p.jsx("button",{onClick:()=>h(m.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition text-xs font-medium",children:"Reject"})]}):p.jsx("span",{className:"text-gray-500 text-xs",children:"No actions"})})]},m.id))})]})})]})]})]})}function lS({icon:t,title:e,value:n,color:r}){const i={blue:"bg-blue-50",yellow:"bg-yellow-50",green:"bg-green-50"};return p.jsx("div",{className:`${i[r]} rounded-xl p-6`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-600 text-sm font-medium",children:e}),p.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n})]}),t]})})}function qge({status:t}){const e={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"},n={pending:"Pending",approved:"Approved",rejected:"Rejected"};return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e[t]}`,children:n[t]})}function Wge(){const{profile:t}=$i(),[e,n]=$.useState([]),[r,i]=$.useState(!0),[s,o]=$.useState(""),[a,l]=$.useState("all"),[c,u]=$.useState("all");$.useEffect(()=>{t&&d()},[t]);async function d(){try{const{data:v,error:y}=await gn.from("lawyer_cases").select("*").eq("lawyer_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(y)throw y;n(v||[])}catch(v){console.error("Error loading cases:",v)}finally{i(!1)}}const h=e.filter(v=>{const y=v.title.toLowerCase().includes(s.toLowerCase()),w=a==="all"||v.status===a,b=c==="all"||v.priority===c;return y&&w&&b}),f=v=>{switch(v){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},m=v=>{switch(v){case"active":return"bg-teal-100 text-teal-700";case"completed":return"bg-green-100 text-green-700";case"cancelled":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},g=v=>v?Math.ceil((new Date(v).getTime()-new Date().getTime())/(1e3*60*60*24)):null;return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[p.jsx(Ec,{}),p.jsx("div",{className:"flex-1 ml-[280px] p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Active Cases"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track your legal cases"})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",placeholder:"Search cases...",value:s,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsxs("select",{value:a,onChange:v=>l(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[p.jsx("option",{value:"all",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"completed",children:"Completed"}),p.jsx("option",{value:"cancelled",children:"Cancelled"})]}),p.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[p.jsx("option",{value:"all",children:"All Priorities"}),p.jsx("option",{value:"urgent",children:"Urgent"}),p.jsx("option",{value:"high",children:"High"}),p.jsx("option",{value:"medium",children:"Medium"}),p.jsx("option",{value:"low",children:"Low"})]})]})}),r?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Loading cases..."})]})}):h.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(oQ,{className:"w-8 h-8 text-gray-400"})}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cases found"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Start by browsing available bounties"}),p.jsx("a",{href:"/bounties",className:"inline-flex items-center px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition",children:"Browse Bounties"})]}):p.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Case Title"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(v=>{const y=g(v.due_date),w=Math.round(v.progress_current/v.progress_total*100);return p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.title})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-600",children:v.case_type})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${m(v.status)}`,children:v.status})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${f(v.priority)}`,children:v.priority})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-2",children:p.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${w}%`}})}),p.jsxs("span",{className:"text-sm text-gray-600",children:[v.progress_current,"/",v.progress_total]})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.due_date?p.jsxs("div",{children:[p.jsx("div",{children:new Date(v.due_date).toLocaleDateString()}),y!==null&&p.jsxs("div",{className:`text-xs ${y<7?"text-red-600":"text-gray-500"}`,children:[y," days left"]})]}):"-"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.hours_logged||0})]},v.id)})})]})})})]})})]})}const Kge="https://firecrawlscrape.onrender.com";class Gge{constructor(){this.baseUrl=Kge}async scrapeKenyaLaw(e){try{const n=await fetch(`${this.baseUrl}/scrape`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({url:e.url,limit:e.limit||10,scrape_links:e.scrape_links!==void 0?e.scrape_links:!0})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error scraping Kenya Law:",n),new Error(`Failed to scrape: ${n.message}`)}}async chatWithDocument(e){try{const n=await fetch(`${this.baseUrl}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({message:e.message,document_id:e.document_id,context:e.context||""})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error chatting with document:",n),new Error(`Failed to chat: ${n.message}`)}}async checkHealth(){try{const e=await fetch(`${this.baseUrl}/health`,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error checking health:",e),new Error(`Health check failed: ${e.message}`)}}async getFrontend(){try{return await fetch(`${this.baseUrl}/`,{method:"GET"})}catch(e){throw console.error("Error getting frontend:",e),e}}isValidKenyaLawUrl(e){return[/^https?:\/\/(www\.)?kenyalaw\.org/,/^https?:\/\/new\.kenyalaw\.org/,/^https?:\/\/.*\.kenyalaw\.org/].some(r=>r.test(e))}getSuggestedUrls(){return[{url:"https://new.kenyalaw.org/akn/ke/judgment/kehc/2023/",description:"High Court Judgments 2023",type:"listing"},{url:"https://new.kenyalaw.org/akn/ke/act/2010/",description:"Acts of Parliament 2010",type:"listing"},{url:"https://new.kenyalaw.org/akn/aa-au/act/charter/2016/maritime-security-and-safety-and-development-in-africa/eng@2016-10-15",description:"African Charter on Maritime Security",type:"single"},{url:"https://new.kenyalaw.org/akn/ke/judgment/kehc/",description:"All High Court Judgments",type:"listing"}]}}const Sm=new Gge;function hR({content:t}){if(!t)return null;const r=(i=>i.replace(/(<li[^>]*>.*?<\/li>(?:\s*<li[^>]*>.*?<\/li>)*)/g,'<ul class="list-disc list-inside mb-4 space-y-1">$1</ul>').replace(/<p class="text-gray-700 mb-4"><\/p>/g,""))(`<p class="text-gray-700 mb-4">${(i=>i.replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold text-gray-900 mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold text-gray-900 mt-6 mb-3">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-gray-900 mt-6 mb-4">$1</h1>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-gray-900">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic text-gray-700">$1</em>').replace(/```([\s\S]*?)```/g,'<pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm font-mono text-gray-800">$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono text-gray-800">$1</code>').replace(/^\* (.*$)/gm,'<li class="text-gray-700 mb-1">$1</li>').replace(/^- (.*$)/gm,'<li class="text-gray-700 mb-1">$1</li>').replace(/^\d+\. (.*$)/gm,'<li class="text-gray-700 mb-1">$1</li>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 underline">$1</a>').replace(/\n\n/g,'</p><p class="text-gray-700 mb-4">').replace(/\n/g,"<br/>"))(t)}</p>`);return p.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:r}})}function Jge({isOpen:t,onClose:e,caseData:n,documentId:r}){const[i,s]=$.useState([]),[o,a]=$.useState(""),[l,c]=$.useState(!1),u=$.useRef(null),d=()=>{var m;(m=u.current)==null||m.scrollIntoView({behavior:"smooth"})};$.useEffect(()=>{d()},[i]),$.useEffect(()=>{t&&n&&s([{id:Date.now(),type:"system",content:`I'm ready to discuss "${n.title||"this case"}" with you. Ask me anything about the legal content, key points, or implications.`,timestamp:new Date}])},[t,n]);const h=async()=>{var g;if(!o.trim()||l)return;const m={id:Date.now(),type:"user",content:o,timestamp:new Date};s(v=>[...v,m]),a(""),c(!0);try{const v=await Sm.chatWithDocument({message:o,document_id:r,context:`Document: ${n.title||"Legal Document"}
URL: ${n.url}
Content preview: ${((g=n.content)==null?void 0:g.substring(0,500))||"No preview available"}`}),y={id:Date.now()+1,type:"assistant",content:v.response||v.message||"I received your message but couldn't generate a proper response.",timestamp:new Date};s(w=>[...w,y])}catch(v){const y={id:Date.now()+1,type:"error",content:`Sorry, I encountered an error: ${v.message}`,timestamp:new Date};s(w=>[...w,y])}finally{c(!1)}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h())};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx(ox,{className:"w-5 h-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Case Discussion"}),p.jsx("p",{className:"text-sm text-gray-600 truncate max-w-md",children:(n==null?void 0:n.title)||"Legal Document Chat"})]})]}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:p.jsx(Fg,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[i.map(m=>p.jsxs("div",{className:`flex gap-3 ${m.type==="user"?"justify-end":"justify-start"}`,children:[m.type!=="user"&&p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${m.type==="error"?"bg-red-100":"bg-blue-100"}`,children:p.jsx(fP,{className:`w-4 h-4 ${m.type==="error"?"text-red-600":"text-blue-600"}`})}),p.jsxs("div",{className:`max-w-[70%] rounded-lg p-4 ${m.type==="user"?"bg-blue-600 text-white":m.type==="error"?"bg-red-50 text-red-800 border border-red-200":m.type==="system"?"bg-gray-50 text-gray-700 border border-gray-200":"bg-gray-100 text-gray-800"}`,children:[p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.content}),p.jsx("p",{className:`text-xs mt-2 ${m.type==="user"?"text-blue-100":"text-gray-500"}`,children:m.timestamp.toLocaleTimeString()})]}),m.type==="user"&&p.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:p.jsx(cA,{className:"w-4 h-4 text-white"})})]},m.id)),l&&p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(fP,{className:"w-4 h-4 text-blue-600"})}),p.jsx("div",{className:"bg-gray-100 rounded-lg p-4 max-w-[70%]",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ng,{className:"w-4 h-4 animate-spin text-gray-600"}),p.jsx("span",{className:"text-sm text-gray-600",children:"Analyzing case content..."})]})})]}),p.jsx("div",{ref:u})]}),p.jsxs("div",{className:"p-6 border-t border-gray-200",children:[p.jsxs("div",{className:"flex gap-3",children:[p.jsx("textarea",{value:o,onChange:m=>a(m.target.value),onKeyPress:f,placeholder:"Ask about this case... (Press Enter to send, Shift+Enter for new line)",rows:2,className:"flex-1 resize-none border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),p.jsx("button",{onClick:h,disabled:l||!o.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?p.jsx(ng,{className:"w-4 h-4 animate-spin"}):p.jsx(ax,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This chat is powered by AI analysis of the scraped case content."})]})]})}):null}function pR(){var C,M;const[t,e]=$.useState("auto-detect"),[n,r]=$.useState(""),[i,s]=$.useState(!1),[o,a]=$.useState(null),[l,c]=$.useState(null),[u,d]=$.useState({isOpen:!1,caseData:null}),[h,f]=$.useState({}),m=Sm.getSuggestedUrls(),g=async()=>{if(!n.trim()){c("Please enter a valid URL");return}if(!Sm.isValidKenyaLawUrl(n)){c("Please enter a valid Kenya Law URL (kenyalaw.org)");return}s(!0),c(null),a(null);try{const B=await Sm.scrapeKenyaLaw({url:n,limit:t==="single-case"?1:10,scrape_links:t!=="single-case"});a(B)}catch(B){c(B.message)}finally{s(!1)}},v=B=>{r(B),c(null)},y=B=>{d({isOpen:!0,caseData:B})},w=()=>{d({isOpen:!1,caseData:null})},b=B=>{f(z=>({...z,[B]:!z[B]}))},N=()=>{switch(t){case"auto-detect":return"Automatically detects and scrapes cases or document listings";case"listing-crawl":return"Crawls through paginated case listings and document collections";case"single-case":return"Scrapes a single case or document page in detail";default:return""}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Research Mode"}),p.jsx("div",{className:"flex flex-wrap gap-3 pb-4 border-b border-gray-200",children:[{key:"auto-detect",label:"Auto Detect"},{key:"listing-crawl",label:"Listing Crawl"},{key:"single-case",label:"Single Document"}].map(B=>p.jsx("button",{onClick:()=>e(B.key),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${t===B.key?"bg-blue-100 text-blue-700 ring-1 ring-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:B.label},B.key))}),p.jsx("p",{className:"mt-3 text-sm text-gray-600",children:N()})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kenya Law URL"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("input",{type:"url",value:n,onChange:B=>r(B.target.value),placeholder:"https://new.kenyalaw.org/akn/...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),p.jsx("button",{onClick:g,disabled:i||!n.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?p.jsxs(p.Fragment,{children:[p.jsx(ng,{className:"w-4 h-4 animate-spin"}),"Researching..."]}):p.jsxs(p.Fragment,{children:[p.jsx(ia,{className:"w-4 h-4"}),"Start Research"]})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Suggested URLs"}),p.jsx("div",{className:"grid gap-2",children:m.map((B,z)=>p.jsx("button",{onClick:()=>v(B.url),className:"text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition group",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-600",children:B.description}),p.jsx("div",{className:"text-sm text-gray-500 truncate mt-1",children:B.url})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`text-xs px-2 py-1 rounded ${B.type==="listing"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:B.type}),p.jsx(_1,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600"})]})]})},z))})]}),l&&p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Th,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-red-900",children:"Research Failed"}),p.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),o&&p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[p.jsx("div",{className:"bg-green-50 border-b border-green-200 p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(tQ,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-green-900",children:"Research Completed"}),p.jsxs("p",{className:"text-sm text-green-700",children:["Successfully scraped ",o.total_pages," page(s) in ",(C=o.duration)==null?void 0:C.toFixed(2),"s"]})]})]})}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Total Pages:"}),p.jsx("span",{className:"ml-2 text-gray-900",children:o.total_pages})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Duration:"}),p.jsxs("span",{className:"ml-2 text-gray-900",children:[(M=o.duration)==null?void 0:M.toFixed(2),"s"]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Document ID:"}),p.jsx("span",{className:"ml-2 text-gray-900 font-mono text-xs",children:o.document_id})]})]}),o.results&&o.results.length>0&&p.jsxs("div",{children:[p.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Scraped Documents"}),p.jsx("div",{className:"space-y-4",children:o.results.map((B,z)=>p.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:p.jsxs("div",{className:"p-4",children:[p.jsx("div",{className:"flex items-start justify-between mb-2",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("h6",{className:"font-medium text-gray-900",children:B.title||`Document ${z+1}`}),p.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[p.jsxs("button",{onClick:()=>y(B),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition flex items-center gap-1 text-sm font-medium",title:"Chat with this case",children:[p.jsx(ox,{className:"w-3 h-3"}),"Chat with Case"]}),p.jsx("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",title:"Open original document",children:p.jsx(_1,{className:"w-4 h-4"})})]})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-3 break-all",children:B.url})]})}),B.content&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("p",{className:"text-xs text-gray-500",children:["Content (",B.content_length||B.content.length," characters)"]}),p.jsx("button",{onClick:()=>b(z),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 font-medium",children:h[z]?p.jsxs(p.Fragment,{children:[p.jsx(tF,{className:"w-4 h-4"}),"Show Less"]}):p.jsxs(p.Fragment,{children:[p.jsx(nF,{className:"w-4 h-4"}),"Show Full Content"]})})]}),p.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:h[z]?p.jsx("div",{className:"prose prose-sm max-w-none",children:p.jsx(hR,{content:B.content})}):p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Content Preview:"}),p.jsx(hR,{content:B.content.substring(0,500)+"..."})]})})]})]})},z))})]})]})]}),p.jsx(Jge,{isOpen:u.isOpen,onClose:w,caseData:u.caseData,documentId:o==null?void 0:o.document_id})]})}function Yge(){const[t,e]=$.useState(""),[n,r]=$.useState("date_created"),[i,s]=$.useState([]),[o,a]=$.useState(!1),[l,c]=$.useState(null),u=[{id:1,title:"African Charter on Maritime Security and Safety",court:"African Union",case_number:"AU/Charter/2016",date_created:"2016-10-15",parties:["African Union Member States"],summary:"Charter establishing framework for maritime security and safety in Africa",document_type:"Charter",url:"https://new.kenyalaw.org/akn/aa-au/act/charter/2016/maritime-security-and-safety-and-development-in-africa/eng@2016-10-15",content_preview:"The African Charter on Maritime Security and Safety and Development in Africa, also known as the Lom Charter, establishes a comprehensive framework..."}];$.useEffect(()=>{a(!0),setTimeout(()=>{s(u),a(!1)},1e3)},[]);const h=[...i.filter(m=>m.title.toLowerCase().includes(t.toLowerCase())||m.parties.some(g=>g.toLowerCase().includes(t.toLowerCase()))||m.case_number.toLowerCase().includes(t.toLowerCase()))].sort((m,g)=>{switch(n){case"title":return m.title.localeCompare(g.title);case"court":return m.court.localeCompare(g.court);case"case_number":return m.case_number.localeCompare(g.case_number);case"date_created":default:return new Date(g.date_created)-new Date(m.date_created)}}),f=m=>new Date(m).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-4 mb-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",value:t,onChange:m=>e(m.target.value),placeholder:"Search cases by title, parties, or case number...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("select",{value:n,onChange:m=>r(m.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"date_created",children:"Date Created"}),p.jsx("option",{value:"title",children:"Title"}),p.jsx("option",{value:"court",children:"Court"}),p.jsx("option",{value:"case_number",children:"Case Number"})]})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.length," of ",i.length," cases"]})]}),o?p.jsx("div",{className:"text-center py-12",children:p.jsxs("div",{className:"animate-pulse space-y-4",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mx-auto"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded"}),p.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):h.length===0?p.jsxs("div",{className:"text-center py-16",children:[p.jsx(iF,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"No Cases Found":"No Cases Available"}),p.jsx("p",{className:"text-gray-600",children:t?"Try adjusting your search terms or filters.":"Start by running a deep research to populate your database."})]}):p.jsx("div",{className:"space-y-4",children:h.map(m=>p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(m),children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-1 hover:text-blue-600",children:m.title}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(qs,{className:"w-4 h-4"}),m.document_type]}),p.jsx("span",{children:m.court}),p.jsx("span",{children:m.case_number})]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[p.jsx(sA,{className:"w-4 h-4"}),f(m.date_created)]})]}),p.jsx("div",{className:"mb-3",children:p.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:m.content_preview})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-gray-500",children:"Parties:"}),p.jsx("span",{className:"text-sm text-gray-700",children:m.parties.join(", ")})]}),p.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",onClick:g=>g.stopPropagation(),children:["View Source",p.jsx(_1,{className:"w-4 h-4"})]})]})]},m.id))}),l&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Case Details"}),p.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l.title}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Court:"}),p.jsx("span",{className:"ml-2 text-gray-900",children:l.court})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Case Number:"}),p.jsx("span",{className:"ml-2 text-gray-900",children:l.case_number})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Date:"}),p.jsx("span",{className:"ml-2 text-gray-900",children:f(l.date_created)})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Type:"}),p.jsx("span",{className:"ml-2 text-gray-900",children:l.document_type})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Parties"}),p.jsx("p",{className:"text-gray-900",children:l.parties.join(", ")})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Summary"}),p.jsx("p",{className:"text-gray-900",children:l.summary})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Content Preview"}),p.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:p.jsx("p",{className:"text-gray-700",children:l.content_preview})})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:["View Full Document",p.jsx(_1,{className:"w-4 h-4"})]})})]})})]})})]})}function Xge(){const[t,e]=$.useState(""),[n,r]=$.useState([]),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(null),u=[{text:"What are the key provisions of this maritime charter?",category:"Legal Analysis"},{text:"How many countries have signed this charter?",category:"Factual"},{text:"What are the objectives of maritime security mentioned in the document?",category:"Content Summary"},{text:"Explain the definitions of piracy and armed robbery against ships",category:"Legal Definitions"},{text:"What cooperation mechanisms are established by this charter?",category:"Legal Framework"},{text:"What are the monitoring and control provisions?",category:"Compliance"}],d=async()=>{if(!t.trim())return;if(!o.trim()){c("Please provide a document ID from a scraped document to chat with");return}const g={id:Date.now(),type:"user",content:t,timestamp:new Date};r(v=>[...v,g]),s(!0),c(null);try{const v=await Sm.chatWithDocument({message:t,document_id:o,context:n.map(w=>`${w.type}: ${w.content}`).join(`
`)}),y={id:Date.now()+1,type:"ai",content:v.response,references:v.document_references||[],confidence:v.confidence,timestamp:new Date};r(w=>[...w,y]),e("")}catch(v){c(v.message),r(y=>y.slice(0,-1))}finally{s(!1)}},h=g=>{e(g)},f=()=>{r([]),c(null)},m=g=>g.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(lA,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-purple-900 mb-2",children:"AI Legal Assistant"}),p.jsx("p",{className:"text-sm text-purple-700 mb-4",children:"Ask questions about scraped legal documents. The AI will analyze document content and provide detailed answers based on the scraped information."}),p.jsxs("div",{className:"max-w-md",children:[p.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Document ID (from scraping results)"}),p.jsx("input",{type:"text",value:o,onChange:g=>a(g.target.value),placeholder:"e.g., doc_1762627721",className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"})]})]})]})}),n.length>0&&p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[p.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[p.jsx(aF,{className:"w-5 h-5"}),"Chat History"]}),p.jsx("button",{onClick:f,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear Chat"})]}),p.jsxs("div",{className:"max-h-96 overflow-y-auto p-4 space-y-4",children:[n.map(g=>p.jsx("div",{className:`flex ${g.type==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${g.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[p.jsx("p",{className:"text-sm",children:g.content}),p.jsx("p",{className:`text-xs mt-2 ${g.type==="user"?"text-blue-100":"text-gray-500"}`,children:m(g.timestamp)}),g.type==="ai"&&g.references&&g.references.length>0&&p.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[p.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"References:"}),p.jsx("div",{className:"space-y-1",children:g.references.slice(0,3).map((v,y)=>p.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-blue-600 hover:text-blue-800 truncate",children:v},y))})]})]})},g.id)),i&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-3 rounded-lg",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ng,{className:"w-4 h-4 animate-spin"}),p.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})})]})]}),l&&p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Th,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-red-900",children:"Chat Error"}),p.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ask a Legal Question"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("textarea",{value:t,onChange:g=>e(g.target.value),placeholder:"e.g., What are the key provisions for maritime security cooperation?",rows:3,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",onKeyDown:g=>{g.key==="Enter"&&g.ctrlKey&&d()}}),p.jsxs("button",{onClick:d,disabled:i||!t.trim()||!o.trim(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[p.jsx(ax,{className:"w-4 h-4"}),i?"Sending...":"Ask AI"]})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Ctrl+Enter to send quickly"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Suggested Questions"}),p.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:u.map((g,v)=>p.jsxs("button",{onClick:()=>h(g.text),className:"text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition group",children:[p.jsx("div",{className:"flex items-start justify-between mb-2",children:p.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:g.category})}),p.jsx("p",{className:"text-sm text-gray-900 group-hover:text-purple-600",children:g.text})]},v))})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Tips for Better Results"}),p.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[p.jsx("li",{children:" Make sure to enter a valid document ID from your scraping results"}),p.jsx("li",{children:" Ask specific questions about the document content"}),p.jsx("li",{children:" Reference specific sections, articles, or provisions when possible"}),p.jsx("li",{children:" Use follow-up questions to dive deeper into topics"})]})]})]})}function Qge(){var o;const[t,e]=$.useState("deep-research"),[n,r]=$.useState(!1),i=[{id:"deep-research",label:"Deep Research",icon:ia,component:pR},{id:"case-database",label:"Case Database",icon:iF,component:Yge},{id:"ai-assistant",label:"AI Assistant",icon:lA,component:Xge}],s=((o=i.find(a=>a.id===t))==null?void 0:o.component)||pR;return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n&&p.jsx(Xu,{onComplete:()=>r(!1)}),p.jsx(Ec,{onTourStart:()=>r(!0)}),p.jsx("div",{className:"flex-1 ml-[280px] p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:p.jsx(ia,{className:"w-6 h-6 text-white"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiLens - Kenya Law Research Hub"})]}),p.jsx("p",{className:"text-gray-600",children:"Comprehensive legal research with Kenya Law scraping, AI analysis, and document management"})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[p.jsx("div",{className:"border-b border-gray-200",children:p.jsx("div",{className:"flex gap-1 px-6 overflow-x-auto",children:i.map(a=>{const l=a.icon;return p.jsxs("button",{onClick:()=>e(a.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition whitespace-nowrap ${t===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[p.jsx(l,{className:"w-4 h-4"}),a.label]},a.id)})})}),p.jsx("div",{className:"p-8",children:p.jsx(s,{})})]})]})})]})}function Tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function mR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jx(...t){return e=>{let n=!1;const r=t.map(i=>{const s=mR(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():mR(t[i],null)}}}}function oi(...t){return $.useCallback(jx(...t),t)}function Dh(t,e=[]){let n=[];function r(s,o){const a=$.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:h,children:f,...m}=d,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=$.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,m=$.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>$.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return $.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Zge(i,...e)]}function Zge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return $.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ga=globalThis!=null&&globalThis.document?$.useLayoutEffect:()=>{},e0e=tE[" useInsertionEffect ".trim().toString()]||Ga;function OC({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=t0e({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=$.useRef(t!==void 0);$.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=$.useCallback(u=>{var d;if(a){const h=n0e(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function t0e({defaultProp:t,onChange:e}){const[n,r]=$.useState(t),i=$.useRef(n),s=$.useRef(e);return e0e(()=>{s.current=e},[e]),$.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function n0e(t){return typeof t=="function"}function H1(t){const e=r0e(t),n=$.forwardRef((r,i)=>{const{children:s,...o}=r,a=$.Children.toArray(s),l=a.find(s0e);if(l){const c=l.props.children,u=a.map(d=>d===l?$.Children.count(c)>1?$.Children.only(null):$.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...o,ref:i,children:$.isValidElement(c)?$.cloneElement(c,void 0,u):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function r0e(t){const e=$.forwardRef((n,r)=>{const{children:i,...s}=n;if($.isValidElement(i)){const o=a0e(i),a=o0e(s,i.props);return i.type!==$.Fragment&&(a.ref=r?jx(r,o):o),$.cloneElement(i,a)}return $.Children.count(i)>1?$.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var i0e=Symbol("radix.slottable");function s0e(t){return $.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===i0e}function o0e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function a0e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var l0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$n=l0e.reduce((t,e)=>{const n=H1(`Primitive.${e}`),r=$.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function MC(t,e){t&&Og.flushSync(()=>t.dispatchEvent(e))}function DC(t){const e=t+"CollectionProvider",[n,r]=Dh(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,w=mi.useRef(null),b=mi.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:b,collectionRef:w,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=H1(a),c=mi.forwardRef((g,v)=>{const{scope:y,children:w}=g,b=s(a,y),N=oi(v,b.collectionRef);return p.jsx(l,{ref:N,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=H1(u),f=mi.forwardRef((g,v)=>{const{scope:y,children:w,...b}=g,N=mi.useRef(null),C=oi(v,N),M=s(u,y);return mi.useEffect(()=>(M.itemMap.set(N,{ref:N,...b}),()=>void M.itemMap.delete(N))),p.jsx(h,{[d]:"",ref:C,children:w})});f.displayName=u;function m(g){const v=s(t+"CollectionConsumer",g);return mi.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((M,B)=>b.indexOf(M.ref.current)-b.indexOf(B.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,r]}var c0e=$.createContext(void 0);function j9(t){const e=$.useContext(c0e);return t||e||"ltr"}function hs(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t}),$.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function u0e(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t);$.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var d0e="DismissableLayer",aN="dismissableLayer.update",f0e="dismissableLayer.pointerDownOutside",h0e="dismissableLayer.focusOutside",gR,L9=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FC=$.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=$.useContext(L9),[u,d]=$.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=$.useState({}),m=oi(e,B=>d(B)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),w=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,C=m0e(B=>{const z=B.target,F=[...c.branches].some(G=>G.contains(z));!N||F||(i==null||i(B),o==null||o(B),B.defaultPrevented||a==null||a())},h),M=g0e(B=>{const z=B.target;[...c.branches].some(G=>G.contains(z))||(s==null||s(B),o==null||o(B),B.defaultPrevented||a==null||a())},h);return u0e(B=>{w===c.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&a&&(B.preventDefault(),a()))},h),$.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),yR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gR)}},[u,h,n,c]),$.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),yR())},[u,c]),$.useEffect(()=>{const B=()=>f({});return document.addEventListener(aN,B),()=>document.removeEventListener(aN,B)},[]),p.jsx($n.div,{...l,ref:m,style:{pointerEvents:b?N?"auto":"none":void 0,...t.style},onFocusCapture:Tt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Tt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Tt(t.onPointerDownCapture,C.onPointerDownCapture)})});FC.displayName=d0e;var p0e="DismissableLayerBranch",R9=$.forwardRef((t,e)=>{const n=$.useContext(L9),r=$.useRef(null),i=oi(e,r);return $.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx($n.div,{...t,ref:i})});R9.displayName=p0e;function m0e(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=$.useRef(!1),i=$.useRef(()=>{});return $.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){I9(f0e,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function g0e(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=$.useRef(!1);return $.useEffect(()=>{const i=s=>{s.target&&!r.current&&I9(h0e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yR(){const t=new CustomEvent(aN);document.dispatchEvent(t)}function I9(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MC(i,s):i.dispatchEvent(s)}var y0e=FC,v0e=R9,cS=0;function w0e(){$.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vR()),document.body.insertAdjacentElement("beforeend",t[1]??vR()),cS++,()=>{cS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cS--}},[])}function vR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uS="focusScope.autoFocusOnMount",dS="focusScope.autoFocusOnUnmount",wR={bubbles:!1,cancelable:!0},x0e="FocusScope",O9=$.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=$.useState(null),c=hs(i),u=hs(s),d=$.useRef(null),h=oi(e,g=>l(g)),f=$.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;$.useEffect(()=>{if(r){let g=function(b){if(f.paused||!a)return;const N=b.target;a.contains(N)?d.current=N:Nl(d.current,{select:!0})},v=function(b){if(f.paused||!a)return;const N=b.relatedTarget;N!==null&&(a.contains(N)||Nl(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Nl(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,f.paused]),$.useEffect(()=>{if(a){bR.add(f);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(uS,wR);a.addEventListener(uS,c),a.dispatchEvent(y),y.defaultPrevented||(b0e(E0e(M9(a)),{select:!0}),document.activeElement===g&&Nl(a))}return()=>{a.removeEventListener(uS,c),setTimeout(()=>{const y=new CustomEvent(dS,wR);a.addEventListener(dS,u),a.dispatchEvent(y),y.defaultPrevented||Nl(g??document.body,{select:!0}),a.removeEventListener(dS,u),bR.remove(f)},0)}}},[a,c,u,f]);const m=$.useCallback(g=>{if(!n&&!r||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const w=g.currentTarget,[b,N]=S0e(w);b&&N?!g.shiftKey&&y===N?(g.preventDefault(),n&&Nl(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&Nl(N,{select:!0})):y===w&&g.preventDefault()}},[n,r,f.paused]);return p.jsx($n.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});O9.displayName=x0e;function b0e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Nl(r,{select:e}),document.activeElement!==n)return}function S0e(t){const e=M9(t),n=xR(e,t),r=xR(e.reverse(),t);return[n,r]}function M9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xR(t,e){for(const n of t)if(!k0e(n,{upTo:e}))return n}function k0e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _0e(t){return t instanceof HTMLInputElement&&"select"in t}function Nl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_0e(t)&&e&&t.select()}}var bR=N0e();function N0e(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=SR(t,e),t.unshift(e)},remove(e){var n;t=SR(t,e),(n=t[0])==null||n.resume()}}}function SR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function E0e(t){return t.filter(e=>e.tagName!=="A")}var A0e=tE[" useId ".trim().toString()]||(()=>{}),C0e=0;function lN(t){const[e,n]=$.useState(A0e());return Ga(()=>{n(r=>r??String(C0e++))},[t]),t||(e?`radix-${e}`:"")}const T0e=["top","right","bottom","left"],hc=Math.min,Zi=Math.max,q1=Math.round,Gy=Math.floor,ra=t=>({x:t,y:t}),P0e={left:"right",right:"left",bottom:"top",top:"bottom"},j0e={start:"end",end:"start"};function cN(t,e,n){return Zi(t,hc(e,n))}function Ja(t,e){return typeof t=="function"?t(e):t}function Ya(t){return t.split("-")[0]}function Fh(t){return t.split("-")[1]}function BC(t){return t==="x"?"y":"x"}function zC(t){return t==="y"?"height":"width"}const L0e=new Set(["top","bottom"]);function Xo(t){return L0e.has(Ya(t))?"y":"x"}function UC(t){return BC(Xo(t))}function R0e(t,e,n){n===void 0&&(n=!1);const r=Fh(t),i=UC(t),s=zC(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=W1(o)),[o,W1(o)]}function I0e(t){const e=W1(t);return[uN(t),e,uN(e)]}function uN(t){return t.replace(/start|end/g,e=>j0e[e])}const kR=["left","right"],_R=["right","left"],O0e=["top","bottom"],M0e=["bottom","top"];function D0e(t,e,n){switch(t){case"top":case"bottom":return n?e?_R:kR:e?kR:_R;case"left":case"right":return e?O0e:M0e;default:return[]}}function F0e(t,e,n,r){const i=Fh(t);let s=D0e(Ya(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(uN)))),s}function W1(t){return t.replace(/left|right|bottom|top/g,e=>P0e[e])}function B0e(t){return{top:0,right:0,bottom:0,left:0,...t}}function D9(t){return typeof t!="number"?B0e(t):{top:t,right:t,bottom:t,left:t}}function K1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function NR(t,e,n){let{reference:r,floating:i}=t;const s=Xo(e),o=UC(e),a=zC(o),l=Ya(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Fh(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const z0e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=NR(c,r,l),h=r,f={},m=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:w,y:b,data:N,reset:C}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,d=b??d,f={...f,[v]:{...f[v],...N}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=NR(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function pg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ja(e,t),m=D9(f),v=a[h?d==="floating"?"reference":"floating":d],y=K1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=K1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(y.top-C.top+m.top)/N.y,bottom:(C.bottom-y.bottom+m.bottom)/N.y,left:(y.left-C.left+m.left)/N.x,right:(C.right-y.right+m.right)/N.x}}const U0e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ja(t,e)||{};if(c==null)return{};const d=D9(u),h={x:n,y:r},f=UC(i),m=zC(f),g=await o.getDimensions(c),v=f==="y",y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",N=s.reference[m]+s.reference[f]-h[f]-s.floating[m],C=h[f]-s.reference[f],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let B=M?M[b]:0;(!B||!await(o.isElement==null?void 0:o.isElement(M)))&&(B=a.floating[b]||s.floating[m]);const z=N/2-C/2,F=B/2-g[m]/2-1,G=hc(d[y],F),W=hc(d[w],F),L=G,V=B-g[m]-W,E=B/2-g[m]/2+z,te=cN(L,E,V),pe=!l.arrow&&Fh(i)!=null&&E!==te&&s.reference[m]/2-(E<L?G:W)-g[m]/2<0,re=pe?E<L?E-L:E-V:0;return{[f]:h[f]+re,data:{[f]:te,centerOffset:E-te-re,...pe&&{alignmentOffset:re}},reset:pe}}}),$0e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ja(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Ya(i),w=Xo(a),b=Ya(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(b||!g?[W1(a)]:I0e(a)),M=m!=="none";!h&&M&&C.push(...F0e(a,g,m,N));const B=[a,...C],z=await pg(e,v),F=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&F.push(z[y]),d){const E=R0e(i,o,N);F.push(z[E[0]],z[E[1]])}if(G=[...G,{placement:i,overflows:F}],!F.every(E=>E<=0)){var W,L;const E=(((W=s.flip)==null?void 0:W.index)||0)+1,te=B[E];if(te&&(!(d==="alignment"?w!==Xo(te):!1)||G.every(K=>Xo(K.placement)===w?K.overflows[0]>0:!0)))return{data:{index:E,overflows:G},reset:{placement:te}};let pe=(L=G.filter(re=>re.overflows[0]<=0).sort((re,K)=>re.overflows[1]-K.overflows[1])[0])==null?void 0:L.placement;if(!pe)switch(f){case"bestFit":{var V;const re=(V=G.filter(K=>{if(M){const Y=Xo(K.placement);return Y===w||Y==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(Y=>Y>0).reduce((Y,q)=>Y+q,0)]).sort((K,Y)=>K[1]-Y[1])[0])==null?void 0:V[0];re&&(pe=re);break}case"initialPlacement":pe=a;break}if(i!==pe)return{reset:{placement:pe}}}return{}}}};function ER(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function AR(t){return T0e.some(e=>t[e]>=0)}const V0e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ja(t,e);switch(r){case"referenceHidden":{const s=await pg(e,{...i,elementContext:"reference"}),o=ER(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:AR(o)}}}case"escaped":{const s=await pg(e,{...i,altBoundary:!0}),o=ER(s,n.floating);return{data:{escapedOffsets:o,escaped:AR(o)}}}default:return{}}}}},F9=new Set(["left","top"]);async function H0e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ya(n),a=Fh(n),l=Xo(n)==="y",c=F9.has(o)?-1:1,u=s&&l?-1:1,d=Ja(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const q0e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await H0e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},W0e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...l}=Ja(t,e),c={x:n,y:r},u=await pg(e,l),d=Xo(Ya(i)),h=BC(d);let f=c[h],m=c[d];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=f+u[v],b=f-u[y];f=cN(w,f,b)}if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=m+u[v],b=m-u[y];m=cN(w,m,b)}const g=a.fn({...e,[h]:f,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[d]:o}}}}}},K0e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ja(t,e),u={x:n,y:r},d=Xo(i),h=BC(d);let f=u[h],m=u[d];const g=Ja(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",N=s.reference[h]-s.floating[b]+v.mainAxis,C=s.reference[h]+s.reference[b]-v.mainAxis;f<N?f=N:f>C&&(f=C)}if(c){var y,w;const b=h==="y"?"width":"height",N=F9.has(Ya(i)),C=s.reference[d]-s.floating[b]+(N&&((y=o.offset)==null?void 0:y[d])||0)+(N?0:v.crossAxis),M=s.reference[d]+s.reference[b]+(N?0:((w=o.offset)==null?void 0:w[d])||0)-(N?v.crossAxis:0);m<C?m=C:m>M&&(m=M)}return{[h]:f,[d]:m}}}},G0e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ja(t,e),u=await pg(e,c),d=Ya(i),h=Fh(i),f=Xo(i)==="y",{width:m,height:g}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const w=g-u.top-u.bottom,b=m-u.left-u.right,N=hc(g-u[v],w),C=hc(m-u[y],b),M=!e.middlewareData.shift;let B=N,z=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(B=w),M&&!h){const G=Zi(u.left,0),W=Zi(u.right,0),L=Zi(u.top,0),V=Zi(u.bottom,0);f?z=m-2*(G!==0||W!==0?G+W:Zi(u.left,u.right)):B=g-2*(L!==0||V!==0?L+V:Zi(u.top,u.bottom))}await l({...e,availableWidth:z,availableHeight:B});const F=await o.getDimensions(a.floating);return m!==F.width||g!==F.height?{reset:{rects:!0}}:{}}}};function Lx(){return typeof window<"u"}function Bh(t){return B9(t)?(t.nodeName||"").toLowerCase():"#document"}function cs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ua(t){var e;return(e=(B9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B9(t){return Lx()?t instanceof Node||t instanceof cs(t).Node:!1}function _o(t){return Lx()?t instanceof Element||t instanceof cs(t).Element:!1}function sa(t){return Lx()?t instanceof HTMLElement||t instanceof cs(t).HTMLElement:!1}function CR(t){return!Lx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cs(t).ShadowRoot}const J0e=new Set(["inline","contents"]);function Xg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=No(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!J0e.has(i)}const Y0e=new Set(["table","td","th"]);function X0e(t){return Y0e.has(Bh(t))}const Q0e=[":popover-open",":modal"];function Rx(t){return Q0e.some(e=>{try{return t.matches(e)}catch{return!1}})}const Z0e=["transform","translate","scale","rotate","perspective"],eye=["transform","translate","scale","rotate","perspective","filter"],tye=["paint","layout","strict","content"];function $C(t){const e=VC(),n=_o(t)?No(t):t;return Z0e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||eye.some(r=>(n.willChange||"").includes(r))||tye.some(r=>(n.contain||"").includes(r))}function nye(t){let e=pc(t);for(;sa(e)&&!ph(e);){if($C(e))return e;if(Rx(e))return null;e=pc(e)}return null}function VC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rye=new Set(["html","body","#document"]);function ph(t){return rye.has(Bh(t))}function No(t){return cs(t).getComputedStyle(t)}function Ix(t){return _o(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pc(t){if(Bh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CR(t)&&t.host||ua(t);return CR(e)?e.host:e}function z9(t){const e=pc(t);return ph(e)?t.ownerDocument?t.ownerDocument.body:t.body:sa(e)&&Xg(e)?e:z9(e)}function mg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=z9(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=cs(i);if(s){const a=dN(o);return e.concat(o,o.visualViewport||[],Xg(i)?i:[],a&&n?mg(a):[])}return e.concat(i,mg(i,[],n))}function dN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U9(t){const e=No(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=sa(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=q1(n)!==s||q1(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function HC(t){return _o(t)?t:t.contextElement}function Vf(t){const e=HC(t);if(!sa(e))return ra(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=U9(e);let o=(s?q1(n.width):n.width)/r,a=(s?q1(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iye=ra(0);function $9(t){const e=cs(t);return!VC()||!e.visualViewport?iye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cs(t)?!1:e}function Ou(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=HC(t);let o=ra(1);e&&(r?_o(r)&&(o=Vf(r)):o=Vf(t));const a=sye(s,n,r)?$9(s):ra(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=cs(s),f=r&&_o(r)?cs(r):r;let m=h,g=dN(m);for(;g&&r&&f!==m;){const v=Vf(g),y=g.getBoundingClientRect(),w=No(g),b=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,N=y.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=b,c+=N,m=cs(g),g=dN(m)}}return K1({width:u,height:d,x:l,y:c})}function Ox(t,e){const n=Ix(t).scrollLeft;return e?e.left+n:Ou(ua(t)).left+n}function V9(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ox(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function oye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ua(r),a=e?Rx(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ra(1);const u=ra(0),d=sa(r);if((d||!d&&!s)&&((Bh(r)!=="body"||Xg(o))&&(l=Ix(r)),sa(r))){const f=Ou(r);c=Vf(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?V9(o,l):ra(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function aye(t){return Array.from(t.getClientRects())}function lye(t){const e=ua(t),n=Ix(t),r=t.ownerDocument.body,i=Zi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ox(t);const a=-n.scrollTop;return No(r).direction==="rtl"&&(o+=Zi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const TR=25;function cye(t,e){const n=cs(t),r=ua(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=VC();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=Ox(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-f);m<=TR&&(s-=m)}else c<=TR&&(s+=c);return{width:s,height:o,x:a,y:l}}const uye=new Set(["absolute","fixed"]);function dye(t,e){const n=Ou(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=sa(t)?Vf(t):ra(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function PR(t,e,n){let r;if(e==="viewport")r=cye(t,n);else if(e==="document")r=lye(ua(t));else if(_o(e))r=dye(e,n);else{const i=$9(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return K1(r)}function H9(t,e){const n=pc(t);return n===e||!_o(n)||ph(n)?!1:No(n).position==="fixed"||H9(n,e)}function fye(t,e){const n=e.get(t);if(n)return n;let r=mg(t,[],!1).filter(a=>_o(a)&&Bh(a)!=="body"),i=null;const s=No(t).position==="fixed";let o=s?pc(t):t;for(;_o(o)&&!ph(o);){const a=No(o),l=$C(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&uye.has(i.position)||Xg(o)&&!l&&H9(t,o))?r=r.filter(u=>u!==o):i=a,o=pc(o)}return e.set(t,r),r}function hye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Rx(e)?[]:fye(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=PR(e,u,i);return c.top=Zi(d.top,c.top),c.right=hc(d.right,c.right),c.bottom=hc(d.bottom,c.bottom),c.left=Zi(d.left,c.left),c},PR(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pye(t){const{width:e,height:n}=U9(t);return{width:e,height:n}}function mye(t,e,n){const r=sa(e),i=ua(e),s=n==="fixed",o=Ou(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ra(0);function c(){l.x=Ox(i)}if(r||!r&&!s)if((Bh(e)!=="body"||Xg(i))&&(a=Ix(e)),r){const f=Ou(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?V9(i,a):ra(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function fS(t){return No(t).position==="static"}function jR(t,e){if(!sa(t)||No(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ua(t)===n&&(n=n.ownerDocument.body),n}function q9(t,e){const n=cs(t);if(Rx(t))return n;if(!sa(t)){let i=pc(t);for(;i&&!ph(i);){if(_o(i)&&!fS(i))return i;i=pc(i)}return n}let r=jR(t,e);for(;r&&X0e(r)&&fS(r);)r=jR(r,e);return r&&ph(r)&&fS(r)&&!$C(r)?n:r||nye(t)||n}const gye=async function(t){const e=this.getOffsetParent||q9,n=this.getDimensions,r=await n(t.floating);return{reference:mye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yye(t){return No(t).direction==="rtl"}const vye={convertOffsetParentRelativeRectToViewportRelativeRect:oye,getDocumentElement:ua,getClippingRect:hye,getOffsetParent:q9,getElementRects:gye,getClientRects:aye,getDimensions:pye,getScale:Vf,isElement:_o,isRTL:yye};function W9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wye(t,e){let n=null,r;const i=ua(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const m=Gy(d),g=Gy(i.clientWidth-(u+h)),v=Gy(i.clientHeight-(d+f)),y=Gy(u),b={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Zi(0,hc(1,l))||1};let N=!0;function C(M){const B=M[0].intersectionRatio;if(B!==l){if(!N)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!W9(c,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(t)}return o(!0),s}function xye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=HC(t),u=i||s?[...c?mg(c):[],...mg(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?wye(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let m,g=l?Ou(t):null;l&&v();function v(){const y=Ou(t);g&&!W9(g,y)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const bye=q0e,Sye=W0e,kye=$0e,_ye=G0e,Nye=V0e,LR=U0e,Eye=K0e,Aye=(t,e,n)=>{const r=new Map,i={platform:vye,...n},s={...i.platform,_c:r};return z0e(t,e,{...i,platform:s})};var Cye=typeof document<"u",Tye=function(){},Fv=Cye?$.useLayoutEffect:Tye;function G1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!G1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!G1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function K9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function RR(t,e){const n=K9(t);return Math.round(e*n)/n}function hS(t){const e=$.useRef(t);return Fv(()=>{e.current=t}),e}function Pye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=$.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=$.useState(r);G1(h,r)||f(r);const[m,g]=$.useState(null),[v,y]=$.useState(null),w=$.useCallback(K=>{K!==M.current&&(M.current=K,g(K))},[]),b=$.useCallback(K=>{K!==B.current&&(B.current=K,y(K))},[]),N=s||m,C=o||v,M=$.useRef(null),B=$.useRef(null),z=$.useRef(u),F=l!=null,G=hS(l),W=hS(i),L=hS(c),V=$.useCallback(()=>{if(!M.current||!B.current)return;const K={placement:e,strategy:n,middleware:h};W.current&&(K.platform=W.current),Aye(M.current,B.current,K).then(Y=>{const q={...Y,isPositioned:L.current!==!1};E.current&&!G1(z.current,q)&&(z.current=q,Og.flushSync(()=>{d(q)}))})},[h,e,n,W,L]);Fv(()=>{c===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,d(K=>({...K,isPositioned:!1})))},[c]);const E=$.useRef(!1);Fv(()=>(E.current=!0,()=>{E.current=!1}),[]),Fv(()=>{if(N&&(M.current=N),C&&(B.current=C),N&&C){if(G.current)return G.current(N,C,V);V()}},[N,C,V,G,F]);const te=$.useMemo(()=>({reference:M,floating:B,setReference:w,setFloating:b}),[w,b]),pe=$.useMemo(()=>({reference:N,floating:C}),[N,C]),re=$.useMemo(()=>{const K={position:n,left:0,top:0};if(!pe.floating)return K;const Y=RR(pe.floating,u.x),q=RR(pe.floating,u.y);return a?{...K,transform:"translate("+Y+"px, "+q+"px)",...K9(pe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:q}},[n,a,pe.floating,u.x,u.y]);return $.useMemo(()=>({...u,update:V,refs:te,elements:pe,floatingStyles:re}),[u,V,te,pe,re])}const jye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?LR({element:r.current,padding:i}).fn(n):{}:r?LR({element:r,padding:i}).fn(n):{}}}},Lye=(t,e)=>({...bye(t),options:[t,e]}),Rye=(t,e)=>({...Sye(t),options:[t,e]}),Iye=(t,e)=>({...Eye(t),options:[t,e]}),Oye=(t,e)=>({...kye(t),options:[t,e]}),Mye=(t,e)=>({..._ye(t),options:[t,e]}),Dye=(t,e)=>({...Nye(t),options:[t,e]}),Fye=(t,e)=>({...jye(t),options:[t,e]});var Bye="Arrow",G9=$.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx($n.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});G9.displayName=Bye;var zye=G9;function Uye(t){const[e,n]=$.useState(void 0);return Ga(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qC="Popper",[J9,Y9]=Dh(qC),[$ye,X9]=J9(qC),Q9=t=>{const{__scopePopper:e,children:n}=t,[r,i]=$.useState(null);return p.jsx($ye,{scope:e,anchor:r,onAnchorChange:i,children:n})};Q9.displayName=qC;var Z9="PopperAnchor",eU=$.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=X9(Z9,n),o=$.useRef(null),a=oi(e,o),l=$.useRef(null);return $.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:p.jsx($n.div,{...i,ref:a})});eU.displayName=Z9;var WC="PopperContent",[Vye,Hye]=J9(WC),tU=$.forwardRef((t,e)=>{var O,I,ne,ce,X,se;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:m,...g}=t,v=X9(WC,n),[y,w]=$.useState(null),b=oi(e,xe=>w(xe)),[N,C]=$.useState(null),M=Uye(N),B=(M==null?void 0:M.width)??0,z=(M==null?void 0:M.height)??0,F=r+(s!=="center"?"-"+s:""),G=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(c)?c:[c],L=W.length>0,V={padding:G,boundary:W.filter(Wye),altBoundary:L},{refs:E,floatingStyles:te,placement:pe,isPositioned:re,middlewareData:K}=Pye({strategy:"fixed",placement:F,whileElementsMounted:(...xe)=>xye(...xe,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[Lye({mainAxis:i+z,alignmentAxis:o}),l&&Rye({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Iye():void 0,...V}),l&&Oye({...V}),Mye({...V,apply:({elements:xe,rects:U,availableWidth:me,availableHeight:j})=>{const{width:k,height:_}=U.reference,D=xe.floating.style;D.setProperty("--radix-popper-available-width",`${me}px`),D.setProperty("--radix-popper-available-height",`${j}px`),D.setProperty("--radix-popper-anchor-width",`${k}px`),D.setProperty("--radix-popper-anchor-height",`${_}px`)}}),N&&Fye({element:N,padding:a}),Kye({arrowWidth:B,arrowHeight:z}),h&&Dye({strategy:"referenceHidden",...V})]}),[Y,q]=iU(pe),de=hs(m);Ga(()=>{re&&(de==null||de())},[re,de]);const T=(O=K.arrow)==null?void 0:O.x,R=(I=K.arrow)==null?void 0:I.y,J=((ne=K.arrow)==null?void 0:ne.centerOffset)!==0,[ae,Q]=$.useState();return Ga(()=>{y&&Q(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:re?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ce=K.transformOrigin)==null?void 0:ce.x,(X=K.transformOrigin)==null?void 0:X.y].join(" "),...((se=K.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(Vye,{scope:n,placedSide:Y,onArrowChange:C,arrowX:T,arrowY:R,shouldHideArrow:J,children:p.jsx($n.div,{"data-side":Y,"data-align":q,...g,ref:b,style:{...g.style,animation:re?void 0:"none"}})})})});tU.displayName=WC;var nU="PopperArrow",qye={top:"bottom",right:"left",bottom:"top",left:"right"},rU=$.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Hye(nU,r),o=qye[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(zye,{...i,ref:n,style:{...i.style,display:"block"}})})});rU.displayName=nU;function Wye(t){return t!==null}var Kye=t=>({name:"transformOrigin",options:t,fn(e){var v,y,w;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=iU(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?d:`${h}px`,g=`${-l}px`):c==="top"?(m=o?d:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?d:`${f}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:m,y:g}}}});function iU(t){const[e,n="center"]=t.split("-");return[e,n]}var Gye=Q9,Jye=eU,Yye=tU,Xye=rU,Qye="Portal",KC=$.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=$.useState(!1);Ga(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RD.createPortal(p.jsx($n.div,{...r,ref:e}),o):null});KC.displayName=Qye;function Zye(t,e){return $.useReducer((n,r)=>e[n][r]??n,t)}var zh=t=>{const{present:e,children:n}=t,r=eve(e),i=typeof n=="function"?n({present:r.isPresent}):$.Children.only(n),s=oi(r.ref,tve(i));return typeof n=="function"||r.isPresent?$.cloneElement(i,{ref:s}):null};zh.displayName="Presence";function eve(t){const[e,n]=$.useState(),r=$.useRef(null),i=$.useRef(t),s=$.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Zye(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const c=Jy(r.current);s.current=a==="mounted"?c:"none"},[a]),Ga(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=Jy(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ga(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=Jy(r.current).includes(CSS.escape(f.animationName));if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=f=>{f.target===e&&(s.current=Jy(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:$.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Jy(t){return(t==null?void 0:t.animationName)||"none"}function tve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pS="rovingFocusGroup.onEntryFocus",nve={bubbles:!1,cancelable:!0},Qg="RovingFocusGroup",[fN,sU,rve]=DC(Qg),[ive,oU]=Dh(Qg,[rve]),[sve,ove]=ive(Qg),aU=$.forwardRef((t,e)=>p.jsx(fN.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(fN.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(ave,{...t,ref:e})})}));aU.displayName=Qg;var ave=$.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=$.useRef(null),f=oi(e,h),m=j9(s),[g,v]=OC({prop:o,defaultProp:a??null,onChange:l,caller:Qg}),[y,w]=$.useState(!1),b=hs(c),N=sU(n),C=$.useRef(!1),[M,B]=$.useState(0);return $.useEffect(()=>{const z=h.current;if(z)return z.addEventListener(pS,b),()=>z.removeEventListener(pS,b)},[b]),p.jsx(sve,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:$.useCallback(z=>v(z),[v]),onItemShiftTab:$.useCallback(()=>w(!0),[]),onFocusableItemAdd:$.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:$.useCallback(()=>B(z=>z-1),[]),children:p.jsx($n.div,{tabIndex:y||M===0?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Tt(t.onMouseDown,()=>{C.current=!0}),onFocus:Tt(t.onFocus,z=>{const F=!C.current;if(z.target===z.currentTarget&&F&&!y){const G=new CustomEvent(pS,nve);if(z.currentTarget.dispatchEvent(G),!G.defaultPrevented){const W=N().filter(pe=>pe.focusable),L=W.find(pe=>pe.active),V=W.find(pe=>pe.id===g),te=[L,V,...W].filter(Boolean).map(pe=>pe.ref.current);uU(te,u)}}C.current=!1}),onBlur:Tt(t.onBlur,()=>w(!1))})})}),lU="RovingFocusGroupItem",cU=$.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=lN(),c=s||l,u=ove(lU,n),d=u.currentTabStopId===c,h=sU(n),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:g}=u;return $.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),p.jsx(fN.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:p.jsx($n.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Tt(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Tt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Tt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=uve(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const N=b.indexOf(v.currentTarget);b=u.loop?dve(b,N+1):b.slice(N+1)}setTimeout(()=>uU(b))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});cU.displayName=lU;var lve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uve(t,e,n){const r=cve(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return lve[r]}function uU(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function dve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fve=aU,hve=cU,pve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qd=new WeakMap,Yy=new WeakMap,Xy={},mS=0,dU=function(t){return t&&(t.host||dU(t.parentNode))},mve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dU(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gve=function(t,e,n,r){var i=mve(e,Array.isArray(t)?t:[t]);Xy[n]||(Xy[n]=new WeakMap);var s=Xy[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),m=f!==null&&f!=="false",g=(qd.get(h)||0)+1,v=(s.get(h)||0)+1;qd.set(h,g),s.set(h,v),o.push(h),g===1&&m&&Yy.set(h,!0),v===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),a.clear(),mS++,function(){o.forEach(function(d){var h=qd.get(d)-1,f=s.get(d)-1;qd.set(d,h),s.set(d,f),h||(Yy.has(d)||d.removeAttribute(r),Yy.delete(d)),f||d.removeAttribute(n)}),mS--,mS||(qd=new WeakMap,qd=new WeakMap,Yy=new WeakMap,Xy={})}},yve=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),gve(r,i,n,"aria-hidden")):function(){return null}},Bv="right-scroll-bar-position",zv="width-before-scroll-bar",vve="with-scroll-bars-hidden",wve="--removed-body-scroll-bar-size";function gS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xve(t,e){var n=$.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bve=typeof window<"u"?$.useLayoutEffect:$.useEffect,IR=new WeakMap;function Sve(t,e){var n=xve(null,function(r){return t.forEach(function(i){return gS(i,r)})});return bve(function(){var r=IR.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||gS(a,null)}),s.forEach(function(a){i.has(a)||gS(a,o)})}IR.set(n,t)},[t]),n}function kve(t){return t}function _ve(t,e){e===void 0&&(e=kve);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Nve(t){t===void 0&&(t={});var e=_ve(null);return e.options=Is({async:!0,ssr:!1},t),e}var fU=function(t){var e=t.sideCar,n=bc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,Is({},n))};fU.isSideCarExport=!0;function Eve(t,e){return t.useMedium(e),fU}var hU=Nve(),yS=function(){},Mx=$.forwardRef(function(t,e){var n=$.useRef(null),r=$.useState({onScrollCapture:yS,onWheelCapture:yS,onTouchMoveCapture:yS}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,m=t.noIsolation,g=t.inert,v=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,b=t.gapMode,N=bc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,M=Sve([n,e]),B=Is(Is({},N),i);return $.createElement($.Fragment,null,u&&$.createElement(C,{sideCar:hU,removeScrollBar:c,shards:d,noRelative:f,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?$.cloneElement($.Children.only(a),Is(Is({},B),{ref:M})):$.createElement(w,Is({},B,{className:l,ref:M}),a))});Mx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mx.classNames={fullWidth:zv,zeroRight:Bv};var Ave=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cve(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ave();return e&&t.setAttribute("nonce",e),t}function Tve(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Pve(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jve=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Cve())&&(Tve(e,n),Pve(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Lve=function(){var t=jve();return function(e,n){$.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},pU=function(){var t=Lve(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Rve={left:0,top:0,right:0,gap:0},vS=function(t){return parseInt(t||"",10)||0},Ive=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vS(n),vS(r),vS(i)]},Ove=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Rve;var e=Ive(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Mve=pU(),Hf="data-scroll-locked",Dve=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vve,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bv," .").concat(Bv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zv," .").concat(zv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hf,`] {
    `).concat(wve,": ").concat(a,`px;
  }
`)},OR=function(){var t=parseInt(document.body.getAttribute(Hf)||"0",10);return isFinite(t)?t:0},Fve=function(){$.useEffect(function(){return document.body.setAttribute(Hf,(OR()+1).toString()),function(){var t=OR()-1;t<=0?document.body.removeAttribute(Hf):document.body.setAttribute(Hf,t.toString())}},[])},Bve=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Fve();var s=$.useMemo(function(){return Ove(i)},[i]);return $.createElement(Mve,{styles:Dve(s,!e,i,n?"":"!important")})},hN=!1;if(typeof window<"u")try{var Qy=Object.defineProperty({},"passive",{get:function(){return hN=!0,!0}});window.addEventListener("test",Qy,Qy),window.removeEventListener("test",Qy,Qy)}catch{hN=!1}var Wd=hN?{passive:!1}:!1,zve=function(t){return t.tagName==="TEXTAREA"},mU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zve(t)&&n[e]==="visible")},Uve=function(t){return mU(t,"overflowY")},$ve=function(t){return mU(t,"overflowX")},MR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gU(t,r);if(i){var s=yU(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Vve=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Hve=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},gU=function(t,e){return t==="v"?Uve(e):$ve(e)},yU=function(t,e){return t==="v"?Vve(e):Hve(e)},qve=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wve=function(t,e,n,r,i){var s=qve(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=yU(t,a),m=f[0],g=f[1],v=f[2],y=g-v-s*m;(m||y)&&gU(t,a)&&(d+=y,h+=m);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},Zy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DR=function(t){return[t.deltaX,t.deltaY]},FR=function(t){return t&&"current"in t?t.current:t},Kve=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jve=0,Kd=[];function Yve(t){var e=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),i=$.useState(Jve++)[0],s=$.useState(pU)[0],o=$.useRef(t);$.useEffect(function(){o.current=t},[t]),$.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=JE([t.lockRef.current],(t.shards||[]).map(FR),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=$.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Zy(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-y[0],N="deltaY"in g?g.deltaY:w[1]-y[1],C,M=g.target,B=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in g&&B==="h"&&M.type==="range")return!1;var z=MR(B,M);if(!z)return!0;if(z?C=B:(C=B==="v"?"h":"v",z=MR(B,M)),!z)return!1;if(!r.current&&"changedTouches"in g&&(b||N)&&(r.current=C),!C)return!0;var F=r.current||C;return Wve(F,v,g,F==="h"?b:N)},[]),l=$.useCallback(function(g){var v=g;if(!(!Kd.length||Kd[Kd.length-1]!==s)){var y="deltaY"in v?DR(v):Zy(v),w=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&Kve(C.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(FR).filter(Boolean).filter(function(C){return C.contains(v.target)}),N=b.length>0?a(v,b[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),c=$.useCallback(function(g,v,y,w){var b={name:g,delta:v,target:y,should:w,shadowParent:Xve(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(N){return N!==b})},1)},[]),u=$.useCallback(function(g){n.current=Zy(g),r.current=void 0},[]),d=$.useCallback(function(g){c(g.type,DR(g),g.target,a(g,t.lockRef.current))},[]),h=$.useCallback(function(g){c(g.type,Zy(g),g.target,a(g,t.lockRef.current))},[]);$.useEffect(function(){return Kd.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Wd),document.addEventListener("touchmove",l,Wd),document.addEventListener("touchstart",u,Wd),function(){Kd=Kd.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Wd),document.removeEventListener("touchmove",l,Wd),document.removeEventListener("touchstart",u,Wd)}},[]);var f=t.removeScrollBar,m=t.inert;return $.createElement($.Fragment,null,m?$.createElement(s,{styles:Gve(i)}):null,f?$.createElement(Bve,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Xve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qve=Eve(hU,Yve);var vU=$.forwardRef(function(t,e){return $.createElement(Mx,Is({},t,{ref:e,sideCar:Qve}))});vU.classNames=Mx.classNames;var pN=["Enter"," "],Zve=["ArrowDown","PageUp","Home"],wU=["ArrowUp","PageDown","End"],e1e=[...Zve,...wU],t1e={ltr:[...pN,"ArrowRight"],rtl:[...pN,"ArrowLeft"]},n1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zg="Menu",[gg,r1e,i1e]=DC(Zg),[Qu,xU]=Dh(Zg,[i1e,Y9,oU]),Dx=Y9(),bU=oU(),[s1e,Zu]=Qu(Zg),[o1e,e0]=Qu(Zg),SU=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Dx(e),[l,c]=$.useState(null),u=$.useRef(!1),d=hs(s),h=j9(i);return $.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),p.jsx(Gye,{...a,children:p.jsx(s1e,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:p.jsx(o1e,{scope:e,onClose:$.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};SU.displayName=Zg;var a1e="MenuAnchor",GC=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Dx(n);return p.jsx(Jye,{...i,...r,ref:e})});GC.displayName=a1e;var JC="MenuPortal",[l1e,kU]=Qu(JC,{forceMount:void 0}),_U=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Zu(JC,e);return p.jsx(l1e,{scope:e,forceMount:n,children:p.jsx(zh,{present:n||s.open,children:p.jsx(KC,{asChild:!0,container:i,children:r})})})};_U.displayName=JC;var zs="MenuContent",[c1e,YC]=Qu(zs),NU=$.forwardRef((t,e)=>{const n=kU(zs,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Zu(zs,t.__scopeMenu),o=e0(zs,t.__scopeMenu);return p.jsx(gg.Provider,{scope:t.__scopeMenu,children:p.jsx(zh,{present:r||s.open,children:p.jsx(gg.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(u1e,{...i,ref:e}):p.jsx(d1e,{...i,ref:e})})})})}),u1e=$.forwardRef((t,e)=>{const n=Zu(zs,t.__scopeMenu),r=$.useRef(null),i=oi(e,r);return $.useEffect(()=>{const s=r.current;if(s)return yve(s)},[]),p.jsx(XC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Tt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),d1e=$.forwardRef((t,e)=>{const n=Zu(zs,t.__scopeMenu);return p.jsx(XC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),f1e=H1("MenuContent.ScrollLock"),XC=$.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:m,...g}=t,v=Zu(zs,n),y=e0(zs,n),w=Dx(n),b=bU(n),N=r1e(n),[C,M]=$.useState(null),B=$.useRef(null),z=oi(e,B,v.onContentChange),F=$.useRef(0),G=$.useRef(""),W=$.useRef(0),L=$.useRef(null),V=$.useRef("right"),E=$.useRef(0),te=m?vU:$.Fragment,pe=m?{as:f1e,allowPinchZoom:!0}:void 0,re=Y=>{var O,I;const q=G.current+Y,de=N().filter(ne=>!ne.disabled),T=document.activeElement,R=(O=de.find(ne=>ne.ref.current===T))==null?void 0:O.textValue,J=de.map(ne=>ne.textValue),ae=_1e(J,q,R),Q=(I=de.find(ne=>ne.textValue===ae))==null?void 0:I.ref.current;(function ne(ce){G.current=ce,window.clearTimeout(F.current),ce!==""&&(F.current=window.setTimeout(()=>ne(""),1e3))})(q),Q&&setTimeout(()=>Q.focus())};$.useEffect(()=>()=>window.clearTimeout(F.current),[]),w0e();const K=$.useCallback(Y=>{var de,T;return V.current===((de=L.current)==null?void 0:de.side)&&E1e(Y,(T=L.current)==null?void 0:T.area)},[]);return p.jsx(c1e,{scope:n,searchRef:G,onItemEnter:$.useCallback(Y=>{K(Y)&&Y.preventDefault()},[K]),onItemLeave:$.useCallback(Y=>{var q;K(Y)||((q=B.current)==null||q.focus(),M(null))},[K]),onTriggerLeave:$.useCallback(Y=>{K(Y)&&Y.preventDefault()},[K]),pointerGraceTimerRef:W,onPointerGraceIntentChange:$.useCallback(Y=>{L.current=Y},[]),children:p.jsx(te,{...pe,children:p.jsx(O9,{asChild:!0,trapped:i,onMountAutoFocus:Tt(s,Y=>{var q;Y.preventDefault(),(q=B.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(FC,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:p.jsx(fve,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:M,onEntryFocus:Tt(l,Y=>{y.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(Yye,{role:"menu","aria-orientation":"vertical","data-state":UU(v.open),"data-radix-menu-content":"",dir:y.dir,...w,...g,ref:z,style:{outline:"none",...g.style},onKeyDown:Tt(g.onKeyDown,Y=>{const de=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,T=Y.ctrlKey||Y.altKey||Y.metaKey,R=Y.key.length===1;de&&(Y.key==="Tab"&&Y.preventDefault(),!T&&R&&re(Y.key));const J=B.current;if(Y.target!==J||!e1e.includes(Y.key))return;Y.preventDefault();const Q=N().filter(O=>!O.disabled).map(O=>O.ref.current);wU.includes(Y.key)&&Q.reverse(),S1e(Q)}),onBlur:Tt(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(F.current),G.current="")}),onPointerMove:Tt(t.onPointerMove,yg(Y=>{const q=Y.target,de=E.current!==Y.clientX;if(Y.currentTarget.contains(q)&&de){const T=Y.clientX>E.current?"right":"left";V.current=T,E.current=Y.clientX}}))})})})})})})});NU.displayName=zs;var h1e="MenuGroup",QC=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx($n.div,{role:"group",...r,ref:e})});QC.displayName=h1e;var p1e="MenuLabel",EU=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx($n.div,{...r,ref:e})});EU.displayName=p1e;var J1="MenuItem",BR="menu.itemSelect",Fx=$.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=$.useRef(null),o=e0(J1,t.__scopeMenu),a=YC(J1,t.__scopeMenu),l=oi(e,s),c=$.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(BR,{bubbles:!0,cancelable:!0});d.addEventListener(BR,f=>r==null?void 0:r(f),{once:!0}),MC(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(AU,{...i,ref:l,disabled:n,onClick:Tt(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:Tt(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Tt(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||pN.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Fx.displayName=J1;var AU=$.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=YC(J1,n),a=bU(n),l=$.useRef(null),c=oi(e,l),[u,d]=$.useState(!1),[h,f]=$.useState("");return $.useEffect(()=>{const m=l.current;m&&f((m.textContent??"").trim())},[s.children]),p.jsx(gg.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:p.jsx(hve,{asChild:!0,...a,focusable:!r,children:p.jsx($n.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Tt(t.onPointerMove,yg(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Tt(t.onPointerLeave,yg(m=>o.onItemLeave(m))),onFocus:Tt(t.onFocus,()=>d(!0)),onBlur:Tt(t.onBlur,()=>d(!1))})})})}),m1e="MenuCheckboxItem",CU=$.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return p.jsx(RU,{scope:t.__scopeMenu,checked:n,children:p.jsx(Fx,{role:"menuitemcheckbox","aria-checked":Y1(n)?"mixed":n,...i,ref:e,"data-state":eT(n),onSelect:Tt(i.onSelect,()=>r==null?void 0:r(Y1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CU.displayName=m1e;var TU="MenuRadioGroup",[g1e,y1e]=Qu(TU,{value:void 0,onValueChange:()=>{}}),PU=$.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=hs(r);return p.jsx(g1e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:p.jsx(QC,{...i,ref:e})})});PU.displayName=TU;var jU="MenuRadioItem",LU=$.forwardRef((t,e)=>{const{value:n,...r}=t,i=y1e(jU,t.__scopeMenu),s=n===i.value;return p.jsx(RU,{scope:t.__scopeMenu,checked:s,children:p.jsx(Fx,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":eT(s),onSelect:Tt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});LU.displayName=jU;var ZC="MenuItemIndicator",[RU,v1e]=Qu(ZC,{checked:!1}),IU=$.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=v1e(ZC,n);return p.jsx(zh,{present:r||Y1(s.checked)||s.checked===!0,children:p.jsx($n.span,{...i,ref:e,"data-state":eT(s.checked)})})});IU.displayName=ZC;var w1e="MenuSeparator",OU=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx($n.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OU.displayName=w1e;var x1e="MenuArrow",MU=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Dx(n);return p.jsx(Xye,{...i,...r,ref:e})});MU.displayName=x1e;var b1e="MenuSub",[TEe,DU]=Qu(b1e),Jp="MenuSubTrigger",FU=$.forwardRef((t,e)=>{const n=Zu(Jp,t.__scopeMenu),r=e0(Jp,t.__scopeMenu),i=DU(Jp,t.__scopeMenu),s=YC(Jp,t.__scopeMenu),o=$.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=$.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return $.useEffect(()=>u,[u]),$.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),p.jsx(GC,{asChild:!0,...c,children:p.jsx(AU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":UU(n.open),...t,ref:jx(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Tt(t.onPointerMove,yg(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Tt(t.onPointerLeave,yg(d=>{var f,m;u();const h=(f=n.content)==null?void 0:f.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,v=g==="right",y=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Tt(t.onKeyDown,d=>{var f;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||t1e[r.dir].includes(d.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),d.preventDefault())})})})});FU.displayName=Jp;var BU="MenuSubContent",zU=$.forwardRef((t,e)=>{const n=kU(zs,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Zu(zs,t.__scopeMenu),o=e0(zs,t.__scopeMenu),a=DU(BU,t.__scopeMenu),l=$.useRef(null),c=oi(e,l);return p.jsx(gg.Provider,{scope:t.__scopeMenu,children:p.jsx(zh,{present:r||s.open,children:p.jsx(gg.Slot,{scope:t.__scopeMenu,children:p.jsx(XC,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Tt(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Tt(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Tt(t.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),h=n1e[o.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});zU.displayName=BU;function UU(t){return t?"open":"closed"}function Y1(t){return t==="indeterminate"}function eT(t){return Y1(t)?"indeterminate":t?"checked":"unchecked"}function S1e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function k1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _1e(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=k1e(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function N1e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function E1e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return N1e(n,e)}function yg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var A1e=SU,C1e=GC,T1e=_U,P1e=NU,j1e=QC,L1e=EU,R1e=Fx,I1e=CU,O1e=PU,M1e=LU,D1e=IU,F1e=OU,B1e=MU,z1e=FU,U1e=zU,Bx="DropdownMenu",[$1e]=Dh(Bx,[xU]),Ni=xU(),[V1e,$U]=$1e(Bx),VU=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Ni(e),c=$.useRef(null),[u,d]=OC({prop:i,defaultProp:s??!1,onChange:o,caller:Bx});return p.jsx(V1e,{scope:e,triggerId:lN(),triggerRef:c,contentId:lN(),open:u,onOpenChange:d,onOpenToggle:$.useCallback(()=>d(h=>!h),[d]),modal:a,children:p.jsx(A1e,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};VU.displayName=Bx;var HU="DropdownMenuTrigger",qU=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=$U(HU,n),o=Ni(n);return p.jsx(C1e,{asChild:!0,...o,children:p.jsx($n.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:jx(e,s.triggerRef),onPointerDown:Tt(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Tt(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});qU.displayName=HU;var H1e="DropdownMenuPortal",WU=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ni(e);return p.jsx(T1e,{...r,...n})};WU.displayName=H1e;var KU="DropdownMenuContent",GU=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$U(KU,n),s=Ni(n),o=$.useRef(!1);return p.jsx(P1e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Tt(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Tt(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GU.displayName=KU;var q1e="DropdownMenuGroup",W1e=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(j1e,{...i,...r,ref:e})});W1e.displayName=q1e;var K1e="DropdownMenuLabel",G1e=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(L1e,{...i,...r,ref:e})});G1e.displayName=K1e;var J1e="DropdownMenuItem",JU=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(R1e,{...i,...r,ref:e})});JU.displayName=J1e;var Y1e="DropdownMenuCheckboxItem",X1e=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(I1e,{...i,...r,ref:e})});X1e.displayName=Y1e;var Q1e="DropdownMenuRadioGroup",Z1e=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(O1e,{...i,...r,ref:e})});Z1e.displayName=Q1e;var ewe="DropdownMenuRadioItem",twe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(M1e,{...i,...r,ref:e})});twe.displayName=ewe;var nwe="DropdownMenuItemIndicator",rwe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(D1e,{...i,...r,ref:e})});rwe.displayName=nwe;var iwe="DropdownMenuSeparator",swe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(F1e,{...i,...r,ref:e})});swe.displayName=iwe;var owe="DropdownMenuArrow",awe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(B1e,{...i,...r,ref:e})});awe.displayName=owe;var lwe="DropdownMenuSubTrigger",cwe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(z1e,{...i,...r,ref:e})});cwe.displayName=lwe;var uwe="DropdownMenuSubContent",dwe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ni(n);return p.jsx(U1e,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dwe.displayName=uwe;var fwe=VU,hwe=qU,pwe=WU,mwe=GU,gwe=JU;function YU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=YU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function XU(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=YU(t))&&(r&&(r+=" "),r+=e);return r}const tT="-",ywe=t=>{const e=wwe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(tT);return a[0]===""&&a.length!==1&&a.shift(),QU(a,e)||vwe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},QU=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?QU(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(tT);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},zR=/^\[(.+)\]$/,vwe=t=>{if(zR.test(t)){const e=zR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wwe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return bwe(Object.entries(t.classGroups),n).forEach(([s,o])=>{mN(o,r,s,e)}),r},mN=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:UR(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(xwe(i)){mN(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{mN(o,UR(e,s),n,r)})})},UR=(t,e)=>{let n=t;return e.split(tT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xwe=t=>t.isThemeGetter,bwe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Swe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},ZU="!",kwe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let v=0;v<a.length;v++){let y=a[v];if(c===0){if(y===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(ZU),m=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},_we=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Nwe=t=>({cache:Swe(t.cacheSize),parseClassName:kwe(t),...ywe(t)}),Ewe=/\s+/,Awe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Ewe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let m=!!f,g=r(m?h.substring(0,f):h);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const v=_we(u).join(":"),y=d?v+ZU:v,w=y+g;if(s.includes(w))continue;s.push(w);const b=i(g,m);for(let N=0;N<b.length;++N){const C=b[N];s.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function Cwe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=e$(e))&&(r&&(r+=" "),r+=n);return r}const e$=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=e$(t[r]))&&(n&&(n+=" "),n+=e);return n};function Twe(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=Nwe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Awe(l,n);return i(l,u),u}return function(){return s(Cwe.apply(null,arguments))}}const vn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},t$=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pwe=/^\d+\/\d+$/,jwe=new Set(["px","full","screen"]),Lwe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rwe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Iwe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Owe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mwe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_a=t=>qf(t)||jwe.has(t)||Pwe.test(t),bl=t=>Uh(t,"length",Hwe),qf=t=>!!t&&!Number.isNaN(Number(t)),wS=t=>Uh(t,"number",qf),Dp=t=>!!t&&Number.isInteger(Number(t)),Dwe=t=>t.endsWith("%")&&qf(t.slice(0,-1)),Rt=t=>t$.test(t),Sl=t=>Lwe.test(t),Fwe=new Set(["length","size","percentage"]),Bwe=t=>Uh(t,Fwe,n$),zwe=t=>Uh(t,"position",n$),Uwe=new Set(["image","url"]),$we=t=>Uh(t,Uwe,Wwe),Vwe=t=>Uh(t,"",qwe),Fp=()=>!0,Uh=(t,e,n)=>{const r=t$.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Hwe=t=>Rwe.test(t)&&!Iwe.test(t),n$=()=>!1,qwe=t=>Owe.test(t),Wwe=t=>Mwe.test(t),Kwe=()=>{const t=vn("colors"),e=vn("spacing"),n=vn("blur"),r=vn("brightness"),i=vn("borderColor"),s=vn("borderRadius"),o=vn("borderSpacing"),a=vn("borderWidth"),l=vn("contrast"),c=vn("grayscale"),u=vn("hueRotate"),d=vn("invert"),h=vn("gap"),f=vn("gradientColorStops"),m=vn("gradientColorStopPositions"),g=vn("inset"),v=vn("margin"),y=vn("opacity"),w=vn("padding"),b=vn("saturate"),N=vn("scale"),C=vn("sepia"),M=vn("skew"),B=vn("space"),z=vn("translate"),F=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Rt,e],L=()=>[Rt,e],V=()=>["",_a,bl],E=()=>["auto",qf,Rt],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],pe=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Rt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[qf,Rt];return{cacheSize:500,separator:":",theme:{colors:[Fp],spacing:[_a,bl],blur:["none","",Sl,Rt],brightness:de(),borderColor:[t],borderRadius:["none","","full",Sl,Rt],borderSpacing:L(),borderWidth:V(),contrast:de(),grayscale:Y(),hueRotate:de(),invert:Y(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[Dwe,bl],inset:W(),margin:W(),opacity:de(),padding:L(),saturate:de(),scale:de(),sepia:Y(),skew:de(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[Sl]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Rt]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dp,Rt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Dp,Rt]}],"grid-cols":[{"grid-cols":[Fp]}],"col-start-end":[{col:["auto",{span:["full",Dp,Rt]},Rt]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Fp]}],"row-start-end":[{row:["auto",{span:[Dp,Rt]},Rt]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,e]}],"min-w":[{"min-w":[Rt,e,"min","max","fit"]}],"max-w":[{"max-w":[Rt,e,"none","full","min","max","fit","prose",{screen:[Sl]},Sl]}],h:[{h:[Rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sl,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wS]}],"font-family":[{font:[Fp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",qf,wS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_a,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_a,bl]}],"underline-offset":[{"underline-offset":["auto",_a,Rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),zwe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bwe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$we]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...pe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:pe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...pe()]}],"outline-offset":[{"outline-offset":[_a,Rt]}],"outline-w":[{outline:[_a,bl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[_a,bl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sl,Vwe]}],"shadow-color":[{shadow:[Fp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sl,Rt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Dp,Rt]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_a,bl,wS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gwe=Twe(Kwe);function Ac(...t){return Gwe(XU(t))}function Jwe({...t}){return p.jsx(fwe,{"data-slot":"dropdown-menu",...t})}function Ywe({...t}){return p.jsx(hwe,{"data-slot":"dropdown-menu-trigger",...t})}function Xwe({className:t,sideOffset:e=4,...n}){return p.jsx(pwe,{children:p.jsx(mwe,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ac("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function ev({className:t,inset:e,variant:n="default",...r}){return p.jsx(gwe,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Ac("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}const Qwe=1,Zwe=1e6;let xS=0;function exe(){return xS=(xS+1)%Number.MAX_SAFE_INTEGER,xS.toString()}const bS=new Map,$R=t=>{if(bS.has(t))return;const e=setTimeout(()=>{bS.delete(t),km({type:"REMOVE_TOAST",toastId:t})},Zwe);bS.set(t,e)},txe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Qwe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?$R(n):t.toasts.forEach(r=>{$R(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Uv=[];let $v={toasts:[]};function km(t){$v=txe($v,t),Uv.forEach(e=>{e($v)})}function Ii({...t}){const e=exe(),n=i=>km({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>km({type:"DISMISS_TOAST",toastId:e});return km({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function nxe(){const[t,e]=$.useState($v);return $.useEffect(()=>(Uv.push(e),()=>{const n=Uv.indexOf(e);n>-1&&Uv.splice(n,1)}),[t]),{...t,toast:Ii,dismiss:n=>km({type:"DISMISS_TOAST",toastId:n})}}const rxe="HakiChain Advocates LLP",ixe="1st Floor, Haki Towers, Parliament Road, Nairobi",sxe="P.O. Box 12345-00100 Nairobi | Tel: +254 700 000000 | Email: info@hakichain.com";function r$(t){if(!t)return"";let e=t.replace(/\r/g,"");return e=e.replace(/```[\s\S]*?```/g,n=>n.replace(/```/g,"")),e=e.replace(/`([^`]+)`/g,"$1"),e=e.replace(/\*\*([^*]+)\*\*/g,"$1"),e=e.replace(/__([^_]+)__/g,"$1"),e=e.replace(/\*([^*]+)\*/g,"$1"),e=e.replace(/_([^_]+)_/g,"$1"),e=e.replace(/^#+\s*/gm,""),e=e.replace(/^>\s*/gm,""),e=e.replace(/^[-*+]\s+/gm,""),e=e.replace(/\|/g,""),e=e.replace(/-{3,}/g,""),e=e.replace(/\n{3,}/g,`

`),e=e.replace(/[ \t]+\n/g,`
`),e=e.replace(/[\u2013\u2014]/g,"-"),e=e.replace(/\s+$/g,""),e.trim()}function oxe(t){const e=t??new Date;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"long",year:"numeric"}).format(e)}function axe(t,e){if(t&&t.trim().length>0)return t.trim();const n=Math.max(e.length+5,12);return"_".repeat(n)}function lxe(t){const e=t.split(/\n{2,}/).map(i=>i.trim()).filter(Boolean);if(e.length===0)return`1. ____________________

2. ____________________`;let n=1;const r=[];return e.forEach(i=>{const s=i.split(/\n+/).map(a=>a.trim()).filter(Boolean);if(s.length===0)return;const o=s[0];r.push(`${n}. ${o}`),s.length>1&&s.slice(1).forEach((l,c)=>{const u=String.fromCharCode(97+c);r.push(`   (${u}) ${l}`)}),r.push(""),n+=1}),r.join(`
`).trim()}function cxe(t){const{documentTitle:e,recipientName:n,recipientCompany:r,recipientAddress:i,subject:s,body:o,signerName:a,signerTitle:l,cc:c,date:u}=t,d=r$(o),h=lxe(d),f=[rxe.toUpperCase(),ixe,sxe].join(`
`),m=e.toUpperCase(),g=[axe(n,"Recipient Name"),r||"",i||"____________________ (Recipient Address)"].filter(Boolean),v=s?`RE: ${s.toUpperCase()}`:`RE: ${e.toUpperCase()}`,y=["Yours faithfully,","","______________________________",a?a.toUpperCase():"",l||"For: _________________"].filter(Boolean),w=c&&c.length>0?`
CC: ${c.join(", ")}`:"";return[f,"",oxe(u),"",g.join(`
`),"",v,"",m,"",h,"",y.join(`
`),w].filter(N=>N!==void 0&&N!=="").join(`

`)}var i$={exports:{}},s$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=$;function uxe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dxe=typeof Object.is=="function"?Object.is:uxe,fxe=mh.useState,hxe=mh.useEffect,pxe=mh.useLayoutEffect,mxe=mh.useDebugValue;function gxe(t,e){var n=e(),r=fxe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return pxe(function(){i.value=n,i.getSnapshot=e,SS(i)&&s({inst:i})},[t,n,e]),hxe(function(){return SS(i)&&s({inst:i}),t(function(){SS(i)&&s({inst:i})})},[t]),mxe(n),n}function SS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dxe(t,n)}catch{return!0}}function yxe(t,e){return e()}var vxe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yxe:gxe;s$.useSyncExternalStore=mh.useSyncExternalStore!==void 0?mh.useSyncExternalStore:vxe;i$.exports=s$;var nT=i$.exports;function Ir(t){this.content=t}Ir.prototype={constructor:Ir,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Ir(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ir(n)},addToStart:function(t,e){return new Ir([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ir(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Ir(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ir.from(t),t.size?new Ir(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ir.from(t),t.size?new Ir(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ir.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ir.from=function(t){if(t instanceof Ir)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ir(e)};function o$(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=o$(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function a$(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=a$(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class He{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new He(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new He(r,i)}cutByIndex(e,n){return e==n?He.empty:e==0&&n==this.content.length?this:new He(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new He(i,s)}addToStart(e){return new He([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new He(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return o$(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return a$(this,e,n,r)}findIndex(e){if(e==0)return tv(0,e);if(e==this.size)return tv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?tv(n+1,s):tv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return He.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new He(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return He.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new He(n||e,r)}static from(e){if(!e)return He.empty;if(e instanceof He)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new He([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}He.empty=new He([],0);const kS={index:0,offset:0};function tv(t,e){return kS.index=t,kS.offset=e,kS}function X1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!X1(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!X1(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let cn=class gN{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&X1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return gN.none;if(e instanceof gN)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};cn.none=[];class Q1 extends Error{}class nt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=c$(this.content,e+this.openStart,n);return r&&new nt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new nt(l$(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return nt.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new nt(He.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new nt(e,r,i)}}nt.empty=new nt(He.empty,0,0);function l$(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(l$(s.content,e-i-1,n-i-1)))}function c$(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=c$(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function wxe(t,e,n){if(n.openStart>t.depth)throw new Q1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Q1("Inconsistent open depths");return u$(t,e,n,0)}function u$(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=u$(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Nu(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=xxe(n,t);return Nu(s,f$(t,o,a,e,r))}else return Nu(s,Z1(t,e,r))}function d$(t,e){if(!e.type.compatibleContent(t.type))throw new Q1("Cannot join "+e.type.name+" onto "+t.type.name)}function yN(t,e,n){let r=t.node(n);return d$(r,e.node(n)),r}function _u(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function _m(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(_u(t.nodeAfter,r),s++));for(let a=s;a<o;a++)_u(i.child(a),r);e&&e.depth==n&&e.textOffset&&_u(e.nodeBefore,r)}function Nu(t,e){return t.type.checkContent(e),t.copy(e)}function f$(t,e,n,r,i){let s=t.depth>i&&yN(t,e,i+1),o=r.depth>i&&yN(n,r,i+1),a=[];return _m(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(d$(s,o),_u(Nu(s,f$(t,e,n,r,i+1)),a)):(s&&_u(Nu(s,Z1(t,e,i+1)),a),_m(e,n,i,a),o&&_u(Nu(o,Z1(n,r,i+1)),a)),_m(r,null,i,a),new He(a)}function Z1(t,e,n){let r=[];if(_m(null,t,n,r),t.depth>n){let i=yN(t,e,n+1);_u(Nu(i,Z1(t,e,n+1)),r)}return _m(e,null,n,r),new He(r)}function xxe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(He.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class vg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return cn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ew(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new vg(n,r,s)}static resolveCached(e,n){let r=VR.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else VR.set(e,r=new bxe);let i=r.elts[r.i]=vg.resolve(e,n);return r.i=(r.i+1)%Sxe,i}}class bxe{constructor(){this.elts=[],this.i=0}}const Sxe=12,VR=new WeakMap;class ew{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const kxe=Object.create(null);let tc=class vN{constructor(e,n,r,i=cn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||He.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&X1(this.attrs,n||e.defaultAttrs||kxe)&&cn.sameSet(this.marks,r||cn.none)}copy(e=null){return e==this.content?this:new vN(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new vN(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return nt.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new nt(c,i.depth-o,s.depth-o)}replace(e,n,r){return wxe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return vg.resolveCached(this,e)}resolveNoCache(e){return vg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),h$(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=He.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=cn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!cn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=He.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};tc.prototype.text=void 0;class tw extends tc{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):h$(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new tw(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new tw(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function h$(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Mu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new _xe(e,n);if(r.next==null)return Mu.empty;let i=p$(r);r.next&&r.err("Unexpected trailing text");let s=jxe(Pxe(i));return Lxe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return He.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Mu.empty=new Mu(!0);class _xe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function p$(t){let e=[];do e.push(Nxe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Nxe(t){let e=[];do e.push(Exe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Exe(t){let e=Txe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Axe(t,e);else break;return e}function HR(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Axe(t,e){let n=HR(t),r=n;return t.eat(",")&&(t.next!="}"?r=HR(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Cxe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Txe(t){if(t.eat("(")){let e=p$(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Cxe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Pxe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function m$(t,e){return e-t}function qR(t,e){let n=[];return r(e),n.sort(m$);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function jxe(t){let e=Object.create(null);return n(qR(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);qR(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Mu(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(m$);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function Lxe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function g$(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function y$(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function v$(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function w$(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Ixe(t,r,e[r]);return n}let WR=class x${constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=w$(e,r.attrs),this.defaultAttrs=g$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Mu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:y$(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new tc(this,this.computeAttrs(e),He.from(n),cn.setFrom(r))}createChecked(e=null,n,r){return n=He.from(n),this.checkContent(n),new tc(this,this.computeAttrs(e),n,cn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=He.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(He.empty,!0);return s?new tc(this,e,n.append(s),cn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){v$(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:cn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new x$(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Rxe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Ixe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Rxe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class zx{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=w$(e,i.attrs),this.excluded=null;let s=g$(this.attrs);this.instance=s?new cn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new cn(this,y$(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new zx(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){v$(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class b${constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ir.from(e.nodes),n.marks=Ir.from(e.marks||{}),this.nodes=WR.compile(this.spec.nodes,this),this.marks=zx.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Mu.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?KR(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:KR(this,o.split(" "))}this.nodeFromJSON=i=>tc.fromJSON(this,i),this.markFromJSON=i=>cn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof WR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new tw(r,r.defaultAttrs,e,cn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function KR(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Oxe(t){return t.tag!=null}function Mxe(t){return t.style!=null}class nc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Oxe(i))this.tags.push(i);else if(Mxe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new JR(this,n,!1);return r.addAll(e,cn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new JR(this,n,!0);return r.addAll(e,cn.none,n.from,n.to),nt.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Bxe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=YR(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=YR(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new nc(e,nc.schemaRules(e)))}}const S$={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Dxe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},k$={ol:!0,ul:!0},wg=1,wN=2,Nm=4;function GR(t,e,n){return e!=null?(e?wg:0)|(e==="full"?wN:0):t&&t.whitespace=="pre"?wg|wN:n&~Nm}class nv{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=cn.none,this.match=s||(o&Nm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(He.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&wg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=He.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(He.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!S$.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class JR{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=GR(null,n.preserveWhitespace,0)|(r?Nm:0);i?s=new nv(i.type,i.attrs,cn.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new nv(null,null,cn.none,!0,null,o):s=new nv(e.schema.topNodeType,null,cn.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&wN?"full":this.localPreserveWS||(i.options&wg)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(o.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;k$.hasOwnProperty(o)&&this.parser.normalizeLists&&Fxe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Dxe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(S$.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=cn.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):XR(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=GR(e,s,o.options);o.options&Nm&&o.content.length==0&&(a|=Nm);let l=cn.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):XR(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new nv(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=wg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Fxe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&k$.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Bxe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function YR(t){let e={};for(let n in t)e[n]=t[n];return e}function XR(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class ed{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=_S(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Vv(_S(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Vv(_S(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Vv(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ed(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=QR(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return QR(e.marks)}}function QR(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function _S(t){return t.document||window.document}const ZR=new WeakMap;function zxe(t){let e=ZR.get(t);return e===void 0&&ZR.set(t,e=Uxe(t)),e}function Uxe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Vv(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=zxe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:m}=Vv(t,h,n,r);if(l.appendChild(f),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const _$=65535,N$=Math.pow(2,16);function $xe(t,e){return t+e*N$}function eI(t){return t&_$}function Vxe(t){return(t-(t&_$))/N$}const E$=1,A$=2,Hv=4,C$=8;class xN{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&C$)>0}get deletedBefore(){return(this.delInfo&(E$|Hv))>0}get deletedAfter(){return(this.delInfo&(A$|Hv))>0}get deletedAcross(){return(this.delInfo&Hv)>0}}class ns{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ns.empty)return ns.empty}recover(e){let n=0,r=eI(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Vxe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,f=l+i+(h<0?0:u);if(r)return f;let m=e==(n<0?l:d)?null:$xe(a/3,e-l),g=e==l?A$:e==d?E$:Hv;return(n<0?e!=l:e!=d)&&(g|=C$),new xN(f,g,m)}i+=u-c}return r?e+i:new xN(e+i,0,null)}touches(e,n){let r=0,i=eI(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new ns(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ns.empty:new ns(e<0?[0,-e,0]:[0,0,e])}}ns.empty=new ns([]);class xg{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new xg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new xg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new xN(e,i,null)}}const NS=Object.create(null);class li{getMap(){return ns.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=NS[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in NS)throw new RangeError("Duplicate use of step JSON ID "+e);return NS[e]=n,n.prototype.jsonID=e,n}}class cr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new cr(e,null)}static fail(e){return new cr(null,e)}static fromReplace(e,n,r,i){try{return cr.ok(e.replace(n,r,i))}catch(s){if(s instanceof Q1)return cr.fail(s.message);throw s}}}function rT(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(rT(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return He.fromArray(r)}class Vl extends li{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new nt(rT(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return cr.fromReplace(e,this.from,this.to,s)}invert(){return new wo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vl(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vl(n.from,n.to,e.markFromJSON(n.mark))}}li.jsonID("addMark",Vl);class wo extends li{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new nt(rT(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return cr.fromReplace(e,this.from,this.to,r)}invert(){return new Vl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new wo(n.pos,r.pos,this.mark)}merge(e){return e instanceof wo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wo(n.from,n.to,e.markFromJSON(n.mark))}}li.jsonID("removeMark",wo);class Hl extends li{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return cr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return cr.fromReplace(e,this.pos,this.pos+1,new nt(He.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Hl(this.pos,n.marks[i]);return new Hl(this.pos,this.mark)}}return new Du(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hl(n.pos,e.markFromJSON(n.mark))}}li.jsonID("addNodeMark",Hl);class Du extends li{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return cr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return cr.fromReplace(e,this.pos,this.pos+1,new nt(He.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Hl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Du(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Du(n.pos,e.markFromJSON(n.mark))}}li.jsonID("removeNodeMark",Du);class Nr extends li{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&bN(e,this.from,this.to)?cr.fail("Structure replace would overwrite content"):cr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ns([this.from,this.to-this.from,this.slice.size])}invert(e){return new Nr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Nr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Nr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?nt.empty:new nt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Nr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?nt.empty:new nt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Nr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Nr(n.from,n.to,nt.fromJSON(e,n.slice),!!n.structure)}}li.jsonID("replace",Nr);class Ar extends li{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(bN(e,this.from,this.gapFrom)||bN(e,this.gapTo,this.to)))return cr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return cr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?cr.fromReplace(e,this.from,this.to,r):cr.fail("Content does not fit in gap")}getMap(){return new ns([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ar(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ar(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ar(n.from,n.to,n.gapFrom,n.gapTo,nt.fromJSON(e,n.slice),n.insert,!!n.structure)}}li.jsonID("replaceAround",Ar);function bN(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Hxe(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),f=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=f:i.push(o=new wo(h,f,d[g])));a&&a.to==h?a.to=f:s.push(a=new Vl(h,f,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function qxe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof zx){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let f=0;f<i.length;f++){let m=i[f];m.step==s-1&&d.eq(i[f].style)&&(h=m)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new wo(o.from,o.to,o.style)))}function iT(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new Nr(a,u,nt.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new wo(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,m;for(;h=f.exec(c.text);)m||(m=new nt(He.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Nr(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(He.empty,!0);t.replace(a,a,new nt(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Wxe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $h(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!Wxe(i,s,o))break}return null}function Kxe(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=He.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=He.from(r.node(m).copy(u)),d++):l--;let h=He.empty,f=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=He.from(i.node(m).copy(h)),f++):c++;t.step(new Ar(l,c,o,a,new nt(u.append(h),d,f),u.size-d,!0))}function sT(t,e,n=null,r=t){let i=Gxe(t,e),s=i&&Jxe(r,e);return s?i.map(tI).concat({type:e,attrs:n}).concat(s.map(tI)):null}function tI(t){return{type:t,attrs:null}}function Gxe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function Jxe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function Yxe(t,e,n){let r=He.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=He.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Ar(i,s,i,s,new nt(r,0,0),n.length,!0))}function Xxe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&Qxe(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!m?c=!1:!f&&m&&(c=!0)}c===!1&&P$(t,o,a,s),iT(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new Ar(d,h,d+1,h-1,new nt(He.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&T$(t,o,a,s),!1}})}function T$(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function P$(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Qxe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Zxe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ar(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new nt(He.from(o),0,0),1,!0))}function Ua(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(f=f.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function ebe(t,e,n=1,r){let i=t.doc.resolve(e),s=He.empty,o=He.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=He.from(i.node(a).copy(s));let u=r&&r[c];o=He.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new Nr(e,e,new nt(s.append(o),n,n),!0))}function Cc(t,e){let n=t.resolve(e),r=n.index();return j$(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function tbe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function j$(t,e){return!!(t&&e&&!t.isLeaf&&tbe(t,e))}function Ux(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&j$(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function nbe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);P$(t,u.node(),u.before(),a)}o.inlineContent&&iT(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Nr(c,l.map(e+n,-1),nt.empty,!0)),r===!0){let u=t.doc.resolve(c);T$(t,u.node(),u.before(),t.steps.length)}return t}function rbe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function L$(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function $x(t,e,n=e,r=nt.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return R$(i,s,r)?new Nr(e,n,r):new ibe(i,s,r).fit()}function R$(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class ibe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=He.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=He.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new nt(s,o,a);return e>-1?new Ar(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Nr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ES(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(He.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ES(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new nt(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ES(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new nt(Yp(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new nt(Yp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(I$(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let m=c==a.childCount;m||(f=-1),this.placed=Xp(this.placed,n,He.from(u)),this.frontier[n].match=d,m&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=a;g<f;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?e==0?nt.empty:new nt(Yp(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new nt(Yp(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!AS(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=AS(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=AS(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Xp(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Xp(this.placed,this.depth,He.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(He.empty,!0);n.childCount&&(this.placed=Xp(this.placed,this.frontier.length,n))}}function Yp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Yp(t.firstChild.content,e-1,n)))}function Xp(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Xp(t.lastChild.content,e-1,n)))}function ES(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function I$(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,I$(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(He.empty,!0)))),t.copy(r)}function AS(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!sbe(n,s.content,o)?a:null}function sbe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function obe(t){return t.spec.defining||t.spec.definingForContent}function abe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(R$(i,s,r))return t.step(new Nr(e,n,r));let o=M$(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let m=h.firstChild;if(c.push(m),f==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let f=c[h],m=obe(f.type);if(m&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(m||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),m=c[f];if(m)for(let g=0;g<o.length;g++){let v=o[(g+l)%o.length],y=!0;v<0&&(y=!1,v=-v);let w=i.node(v-1),b=i.index(v-1);if(w.canReplaceWith(b,b,m.type,m.marks))return t.replace(i.before(v),y?s.after(v):n,new nt(O$(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),n=s.after(f))}}function O$(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(O$(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(He.empty,!0))}return t}function lbe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=rbe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new nt(He.from(r),0,0))}function cbe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=M$(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function M$(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Wf extends li{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return cr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return cr.fromReplace(e,this.pos,this.pos+1,new nt(He.from(i),0,n.isLeaf?0:1))}getMap(){return ns.empty}invert(e){return new Wf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wf(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wf(n.pos,n.attr,n.value)}}li.jsonID("attr",Wf);class bg extends li{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return cr.ok(r)}getMap(){return ns.empty}invert(e){return new bg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bg(n.attr,n.value)}}li.jsonID("docAttr",bg);let gh=class extends Error{};gh=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};gh.prototype=Object.create(Error.prototype);gh.prototype.constructor=gh;gh.prototype.name="TransformError";class D${constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new xg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new gh(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=nt.empty){let i=$x(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new nt(He.from(r),0,0))}delete(e,n){return this.replace(e,n,nt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return abe(this,e,n,r),this}replaceRangeWith(e,n,r){return lbe(this,e,n,r),this}deleteRange(e,n){return cbe(this,e,n),this}lift(e,n){return Kxe(this,e,n),this}join(e,n=1){return nbe(this,e,n),this}wrap(e,n){return Yxe(this,e,n),this}setBlockType(e,n=e,r,i=null){return Xxe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Zxe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Wf(e,n,r)),this}setDocAttribute(e,n){return this.step(new bg(e,n)),this}addNodeMark(e,n){return this.step(new Hl(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof cn)n.isInSet(r.marks)&&this.step(new Du(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new Du(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return ebe(this,e,n,r),this}addMark(e,n,r){return Hxe(this,e,n,r),this}removeMark(e,n,r){return qxe(this,e,n,r),this}clearIncompatible(e,n,r){return iT(this,e,n,r),this}}const CS=Object.create(null);class Dt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new ube(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=nt.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?nt.empty:n),a==0&&iI(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),iI(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new _t(e):tf(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?tf(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):tf(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new us(e.node(0))}static atStart(e){return tf(e,e,0,0,1)||new us(e)}static atEnd(e){return tf(e,e,e.content.size,e.childCount,-1)||new us(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=CS[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in CS)throw new RangeError("Duplicate use of selection JSON ID "+e);return CS[e]=n,n.prototype.jsonID=e,n}getBookmark(){return _t.between(this.$anchor,this.$head).getBookmark()}}Dt.prototype.visible=!0;class ube{constructor(e,n){this.$from=e,this.$to=n}}let nI=!1;function rI(t){!nI&&!t.parent.inlineContent&&(nI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class _t extends Dt{constructor(e,n=e){rI(e),rI(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Dt.near(r);let i=e.resolve(n.map(this.anchor));return new _t(i.parent.inlineContent?i:r,r)}replace(e,n=nt.empty){if(super.replace(e,n),n==nt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof _t&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Vx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _t(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Dt.findFrom(n,r,!0)||Dt.findFrom(n,-r,!0);if(s)n=s.$head;else return Dt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Dt.findFrom(e,-r,!0)||Dt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new _t(e,n)}}Dt.jsonID("text",_t);class Vx{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Vx(e.map(this.anchor),e.map(this.head))}resolve(e){return _t.between(e.resolve(this.anchor),e.resolve(this.head))}}class ht extends Dt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Dt.near(s):new ht(s)}content(){return new nt(He.from(this.node),0,0)}eq(e){return e instanceof ht&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new oT(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ht(e.resolve(n.anchor))}static create(e,n){return new ht(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ht.prototype.visible=!1;Dt.jsonID("node",ht);class oT{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Vx(r,r):new oT(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ht.isSelectable(r)?new ht(n):Dt.near(n)}}class us extends Dt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=nt.empty){if(n==nt.empty){e.delete(0,e.doc.content.size);let r=Dt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new us(e)}map(e){return new us(e)}eq(e){return e instanceof us}getBookmark(){return dbe}}Dt.jsonID("all",us);const dbe={map(){return this},resolve(t){return new us(t)}};function tf(t,e,n,r,i,s=!1){if(e.inlineContent)return _t.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ht.isSelectable(a))return ht.create(t,n-(i<0?a.nodeSize:0))}else{let l=tf(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function iI(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Nr||i instanceof Ar))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(Dt.near(t.doc.resolve(o),n))}const sI=1,rv=2,oI=4;class fbe extends D${constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|sI)&~rv,this.storedMarks=null,this}get selectionSet(){return(this.updated&sI)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=rv,this}ensureMarks(e){return cn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&rv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~rv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||cn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Dt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oI,this}get scrolledIntoView(){return(this.updated&oI)>0}}function aI(t,e){return!e||!t?t:t.bind(e)}class Qp{constructor(e,n,r){this.name=e,this.init=aI(n.init,r),this.apply=aI(n.apply,r)}}const hbe=[new Qp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Qp("selection",{init(t,e){return t.selection||Dt.atStart(e.doc)},apply(t){return t.selection}}),new Qp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Qp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class TS{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=hbe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Qp(r.key,r.spec.state,r))})}}class _f{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new _f(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new fbe(this)}static create(e){let n=new TS(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new _f(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new TS(this.schema,e.plugins),r=n.fields,i=new _f(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new TS(e.schema,e.plugins),s=new _f(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=tc.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Dt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function F$(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=F$(i,e,{})),n[r]=i}return n}class Vn{constructor(e){this.spec=e,this.props={},e.props&&F$(e.props,this,this.props),this.key=e.key?e.key.key:B$("plugin")}getState(e){return e[this.key]}}const PS=Object.create(null);function B$(t){return t in PS?t+"$"+ ++PS[t]:(PS[t]=0,t+"$")}class Tr{constructor(e="key"){this.key=B$(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const aT=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function z$(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const U$=(t,e,n)=>{let r=z$(t,n);if(!r)return!1;let i=lT(r);if(!i){let o=r.blockRange(),a=o&&$h(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(Y$(t,i,e,-1))return!0;if(r.parent.content.size==0&&(yh(s,"end")||ht.isSelectable(s)))for(let o=r.depth;;o--){let a=$x(t.doc,r.before(o),r.after(o),nt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(yh(s,"end")?Dt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ht.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},pbe=(t,e,n)=>{let r=z$(t,n);if(!r)return!1;let i=lT(r);return i?$$(t,i,e):!1},mbe=(t,e,n)=>{let r=H$(t,n);if(!r)return!1;let i=cT(r);return i?$$(t,i,e):!1};function $$(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=$x(t.doc,s,l,nt.empty);if(!c||c.from!=s||c instanceof Nr&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(_t.create(u.doc,s)),n(u.scrollIntoView())}return!0}function yh(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const V$=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=lT(r)}let o=s&&s.nodeBefore;return!o||!ht.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ht.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function lT(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function H$(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const q$=(t,e,n)=>{let r=H$(t,n);if(!r)return!1;let i=cT(r);if(!i)return!1;let s=i.nodeAfter;if(Y$(t,i,e,1))return!0;if(r.parent.content.size==0&&(yh(s,"start")||ht.isSelectable(s))){let o=$x(t.doc,r.before(),r.after(),nt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(yh(s,"start")?Dt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ht.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},W$=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=cT(r)}let o=s&&s.nodeAfter;return!o||!ht.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ht.create(t.doc,s.pos)).scrollIntoView()),!0)};function cT(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const gbe=(t,e)=>{let n=t.selection,r=n instanceof ht,i;if(r){if(n.node.isTextblock||!Cc(t.doc,n.from))return!1;i=n.from}else if(i=Ux(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(ht.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},ybe=(t,e)=>{let n=t.selection,r;if(n instanceof ht){if(n.node.isTextblock||!Cc(t.doc,n.to))return!1;r=n.to}else if(r=Ux(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},vbe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&$h(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},K$=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function uT(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const wbe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=uT(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Dt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},G$=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof us||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=uT(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(_t.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},J$=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ua(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&$h(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function xbe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ht&&e.selection.node.isBlock)return!r.parentOffset||!Ua(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let f=r.depth;;f--)if(r.node(f).isBlock){l=r.end(f)==r.pos+(r.depth-f),c=r.start(f)==r.pos-(r.depth-f),a=uT(r.node(f-1).contentMatchAt(r.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof _t||e.selection instanceof us)&&u.deleteSelection();let d=u.mapping.map(r.pos),h=Ua(u.doc,d,s.length,s);if(h||(s[0]=a?{type:a}:null,h=Ua(u.doc,d,s.length,s)),!h)return!1;if(u.split(d,s.length,s),!l&&c&&r.node(o).type!=a){let f=u.mapping.map(r.before(o)),m=u.doc.resolve(f);a&&r.node(o-1).canReplaceWith(m.index(),m.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return n&&n(u.scrollIntoView()),!0}}const bbe=xbe(),Sbe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(ht.create(t.doc,i))),!0)};function kbe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Cc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Y$(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&kbe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let f=e.pos+s.nodeSize,m=He.empty;for(let y=o.length-1;y>=0;y--)m=He.from(o[y].create(null,m));m=He.from(i.copy(m));let g=t.tr.step(new Ar(e.pos-1,f,e.pos,f,new nt(m,1,0),o.length,!0)),v=g.doc.resolve(f+2*o.length);v.nodeAfter&&v.nodeAfter.type==i.type&&Cc(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Dt.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&$h(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&yh(s,"start",!0)&&yh(i,"end")){let f=i,m=[];for(;m.push(f),!f.isTextblock;)f=f.lastChild;let g=s,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let y=He.empty;for(let b=m.length-1;b>=0;b--)y=He.from(m[b].copy(y));let w=t.tr.step(new Ar(e.pos-m.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new nt(y,m.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function X$(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(_t.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const _be=X$(-1),Nbe=X$(1);function Ebe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&sT(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function lI(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function dT(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}dT(aT,U$,V$);dT(aT,q$,W$);dT(K$,G$,J$,bbe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Abe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return Cbe(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Cbe(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new ew(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new ew(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=sT(s,n,r,e);return a?(t&&Tbe(t,e,a,i,n),!0):!1}function Tbe(t,e,n,r,i){let s=He.empty;for(let u=n.length-1;u>=0;u--)s=He.from(n[u].type.create(n[u].attrs,s));t.step(new Ar(e.start-(r?2:0),e.end,e.start,e.end,new nt(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&Ua(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Pbe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?jbe(e,n,t,s):Lbe(e,n,s):!0:!1}}function jbe(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Ar(s-1,o,s,o,new nt(He.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ew(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=$h(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Cc(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function Lbe(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)f-=i.child(m).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?He.empty:He.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return r.step(new Ar(d-(a?1:0),h+(l?1:0),d+1,h-1,new nt((a?He.empty:He.from(i.copy(He.empty))).append(l?He.empty:He.from(i.copy(He.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Rbe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=He.from(c?t.create():null),d=new nt(He.from(t.create(null,He.from(a.type.create(null,u)))),c?3:1,0),h=s.start,f=s.end;n(e.tr.step(new Ar(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}const Dr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},vh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let SN=null;const ja=function(t,e,n){let r=SN||(SN=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Ibe=function(){SN=null},Fu=function(t,e,n,r){return n&&(cI(t,e,n,r,-1)||cI(t,e,n,r,1))},Obe=/^(img|br|input|textarea|hr)$/i;function cI(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ms(t))){let o=t.parentNode;if(!o||o.nodeType!=1||t0(t)||Obe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Dr(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?Ms(t):0}else return!1}}function Ms(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Mbe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ms(t)}else if(t.parentNode&&!t0(t))e=Dr(t),t=t.parentNode;else return null}}function Dbe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!t0(t))e=Dr(t)+1,t=t.parentNode;else return null}}function Fbe(t,e,n){for(let r=e==0,i=e==Ms(t);r||i;){if(t==n)return!0;let s=Dr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ms(t)}}function t0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Hx=function(t){return t.focusNode&&Fu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ou(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Bbe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function zbe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ms(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ms(r.startContainer),r.startOffset)}}}const oa=typeof navigator<"u"?navigator:null,uI=typeof document<"u"?document:null,Tc=oa&&oa.userAgent||"",kN=/Edge\/(\d+)/.exec(Tc),Q$=/MSIE \d/.exec(Tc),_N=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tc),Ui=!!(Q$||_N||kN),rc=Q$?document.documentMode:_N?+_N[1]:kN?+kN[1]:0,Us=!Ui&&/gecko\/(\d+)/i.test(Tc);Us&&+(/Firefox\/(\d+)/.exec(Tc)||[0,0])[1];const NN=!Ui&&/Chrome\/(\d+)/.exec(Tc),ni=!!NN,Z$=NN?+NN[1]:0,xi=!Ui&&!!oa&&/Apple Computer/.test(oa.vendor),wh=xi&&(/Mobile\/\w+/.test(Tc)||!!oa&&oa.maxTouchPoints>2),Ps=wh||(oa?/Mac/.test(oa.platform):!1),Ube=oa?/Win/.test(oa.platform):!1,Da=/Android \d/.test(Tc),n0=!!uI&&"webkitFontSmoothing"in uI.documentElement.style,$be=n0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Vbe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Na(t,e){return typeof t=="number"?t:t[e]}function Hbe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function dI(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=vh(o);continue}let a=o,l=a==s.body,c=l?Vbe(s):Hbe(a),u=0,d=0;if(e.top<c.top+Na(r,"top")?d=-(c.top-e.top+Na(i,"top")):e.bottom>c.bottom-Na(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Na(i,"top")-c.top:e.bottom-c.bottom+Na(i,"bottom")),e.left<c.left+Na(r,"left")?u=-(c.left-e.left+Na(i,"left")):e.right>c.right-Na(r,"right")&&(u=e.right-c.right+Na(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-f,v=a.scrollTop-m;e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v}}let h=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(h))break;o=h=="absolute"?o.offsetParent:vh(o)}}function qbe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:eV(t.dom)}}function eV(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=vh(r));return e}function Wbe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;tV(n,r==0?0:r-e)}function tV(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Gd=null;function Kbe(t){if(t.setActive)return t.setActive();if(Gd)return t.focus(Gd);let e=eV(t);t.focus(Gd==null?{get preventScroll(){return Gd={preventScroll:!0},!0}}:void 0),Gd||(Gd=!1,tV(e,0))}function nV(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ja(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let m=h[f];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?Gbe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:nV(n,i)}function Gbe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=El(r,1);if(s.top!=s.bottom&&fT(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function fT(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Jbe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Ybe(t,e,n){let{node:r,offset:i}=nV(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Xbe(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function rV(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(fT(e,c))return rV(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function Qbe(t,e){let n=t.dom.ownerDocument,r,i=0,s=zbe(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!fT(e,c)||(o=rV(t.dom,e,c),!o))return null}if(xi)for(let c=o;r&&c;c=vh(c))c.draggable&&(r=void 0);if(o=Jbe(o,e),r){if(Us&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;n0&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Xbe(t,r,i,e))}a==null&&(a=Ybe(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function fI(t){return t.top<t.bottom||t.left<t.right}function El(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(fI(r))return r}return Array.prototype.find.call(n,fI)||t.getBoundingClientRect()}const Zbe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iV(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=n0||Us;if(r.nodeType==3)if(o&&(Zbe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=El(ja(r,i,i),n);if(Us&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=El(ja(r,i-1,i-1),-1);if(c.top==l.top){let u=El(ja(r,i,i+1),-1);if(u.top!=l.top)return Bp(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Bp(El(ja(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ms(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return jS(l.getBoundingClientRect(),!1)}if(s==null&&i<Ms(r)){let l=r.childNodes[i];if(l.nodeType==1)return jS(l.getBoundingClientRect(),!0)}return jS(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ms(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ja(l,Ms(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Bp(El(c,1),!1)}if(s==null&&i<Ms(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ja(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Bp(El(c,-1),!0)}return Bp(El(r.nodeType==3?ja(r):r,-n),n>=0)}function Bp(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function jS(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function sV(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function e2e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return sV(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=iV(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ja(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const t2e=/[\u0590-\u08ac]/;function n2e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!t2e.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:sV(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),v=m&&!f.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),v}):r.pos==r.start()||r.pos==r.end()}let hI=null,pI=null,mI=!1;function r2e(t,e,n){return hI==e&&pI==n?mI:(hI=e,pI=n,mI=n=="up"||n=="down"?e2e(t,e,n):n2e(t,e,n))}const $s=0,gI=1,pu=2,aa=3;class r0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=$s,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Dr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof aV){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof oV&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Dr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Dr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Dr(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Dr(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,m=0;f<this.children.length;f++){let g=this.children[f],v=m+g.size;if(s>m&&o<v)return g.setSelection(e-m-g.border,n-m-g.border,r,i);m=v}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Us||xi)&&e==n){let{node:f,offset:m}=a;if(f.nodeType==3){if(d=!!(m&&f.nodeValue[m-1]==`
`),d&&m==f.nodeValue.length)for(let g=f,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:Dr(v)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=f.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Us&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||d&&xi)&&Fu(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Fu(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==n)&&!(d&&Us)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>n){let m=a;a=l,l=m}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?pu:gI,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=aa:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?pu:aa}r=o}this.dirty=pu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?pu:gI;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class oV extends r0{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==$s&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class i2e extends r0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Bu extends r0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=ed.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Bu(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&aa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=aa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=$s){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$s}}slice(e,n,r){let i=Bu.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=AN(s,n,o,r)),e>0&&(s=AN(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ic extends r0{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ed.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=uV(u,r,n),c?l=new s2e(e,n,r,i,u,d||null,h,c,s,o+1):n.isText?new qx(e,n,r,i,u,h,s):new ic(e,n,r,i,u,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>He.empty)}return e}matchesNode(e,n,r){return this.dirty==$s&&e.eq(this.node)&&nw(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new a2e(this,o&&o.node,e);u2e(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?cn.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let f;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,f,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==pu)&&(o&&this.protectLocalComposition(e,o),lV(this.contentDOM,this.children,e),wh&&d2e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof _t)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=f2e(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new i2e(this,s,n,i);e.input.compositionNodes.push(o),this.children=AN(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==aa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$s}updateOuterDeco(e){if(nw(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=cV(this.dom,this.nodeDOM,EN(this.outerDeco,this.node,n),EN(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function yI(t,e,n,r,i){uV(r,e,t);let s=new ic(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class qx extends ic{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==aa||this.dirty!=$s&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$s||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=$s,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new qx(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=aa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class aV extends r0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==$s&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class s2e extends ic{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==aa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function lV(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=vI(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Bu){let l=r?r.previousSibling:t.lastChild;lV(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=vI(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Em=function(t){t&&(this.nodeName=t)};Em.prototype=Object.create(null);const mu=[new Em];function EN(t,e,n){if(t.length==0)return mu;let r=n?mu[0]:new Em,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Em(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Em(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function cV(t,e,n,r){if(n==mu&&r==mu)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=mu[0]),i=l}o2e(i,a||mu[0],o)}return i}function o2e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function uV(t,e,n){return cV(t,t,mu,EN(e,n,t.nodeType!=1))}function nw(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function vI(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class a2e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=l2e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=$s,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Bu.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==aa&&o.dom==o.contentDOM&&(o.dirty=pu),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ic){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=aa&&nw(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=pu,d.updateChildren(i,o+1),d.dirty=$s),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!nw(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=ic.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=ic.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new oV(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Bu;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof qx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xi||ni)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new aV(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function l2e(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Bu)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function c2e(t,e){return t.type.side-e.type.side}function u2e(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let v=i[o++];v.widget&&(u?(d||(d=[u])).push(v):u=v)}if(u)if(d){d.sort(c2e);for(let v=0;v<d.length;v++)n(d[v],c,!!l)}else n(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<t.childCount)f=c,h=t.child(c++);else break;for(let v=0;v<a.length;v++)a[v].to<=s&&a.splice(v--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+h.nodeSize;if(h.isText){let v=m;o<i.length&&i[o].from<v&&(v=i[o].from);for(let y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<m&&(l=h.cut(v-s),h=h.cut(0,v-s),m=v,f=-1)}else for(;o<i.length&&i[o].to<m;)o++;let g=h.isInline&&!h.isLeaf?a.filter(v=>!v.inline):a.slice();r(h,g,e.forChild(s,h),f),s=m}}function d2e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function f2e(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function AN(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function hT(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Hx(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ht.isSelectable(d)&&i.parent&&!(d.isInline&&Fbe(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new ht(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,h=o;for(let f=0;f<n.rangeCount;f++){let m=n.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=pT(t,u,a,d)}return c}function dV(t){return t.editable?t.hasFocus():hV(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function $a(t,e=!1){let n=t.state.selection;if(fV(t,n),!!dV(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ni){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Fu(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)p2e(t);else{let{anchor:r,head:i}=n,s,o;wI&&!(n instanceof _t)&&(n.$from.parent.inlineContent||(s=xI(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=xI(t,n.to))),t.docView.setSelection(r,i,t,e),wI&&(s&&bI(s),o&&bI(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&h2e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const wI=xi||ni&&Z$<63;function xI(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(xi&&i&&i.contentEditable=="false")return LS(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return LS(i);if(s)return LS(s)}}function LS(t){return t.contentEditable="true",xi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function bI(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function h2e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!dV(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function p2e(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Dr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ui&&rc<=11&&(n.disabled=!0,n.disabled=!1)}function fV(t,e){if(e instanceof ht){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(SI(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else SI(t)}function SI(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function pT(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||_t.between(e,n,r)}function kI(t){return t.editable&&!t.hasFocus()?!1:hV(t)}function hV(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function m2e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Fu(e.node,e.offset,n.anchorNode,n.anchorOffset)}function CN(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Dt.findFrom(s,e)}function jl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function _I(t,e,n){let r=t.state.selection;if(r instanceof _t)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return jl(t,new _t(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=CN(t.state,e);return i&&i instanceof ht?jl(t,i):!1}else if(!(Ps&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ht.isSelectable(s)?jl(t,new ht(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):n0?jl(t,new _t(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ht&&r.node.isInline)return jl(t,new _t(e>0?r.$to:r.$from));{let i=CN(t.state,e);return i?jl(t,i):!1}}}function rw(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Am(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Jd(t,e){return e<0?g2e(t):y2e(t)}function g2e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Us&&n.nodeType==1&&r<rw(n)&&Am(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Am(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(pV(n))break;{let a=n.previousSibling;for(;a&&Am(a,-1);)i=n.parentNode,s=Dr(a),a=a.previousSibling;if(a)n=a,r=rw(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?TN(t,n,r):i&&TN(t,i,s)}function y2e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=rw(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Am(a,1))s=n,o=++r;else break}else{if(pV(n))break;{let a=n.nextSibling;for(;a&&Am(a,1);)s=a.parentNode,o=Dr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=rw(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&TN(t,s,o)}function pV(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function v2e(t,e){for(;t&&e==t.childNodes.length&&!t0(t);)e=Dr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function w2e(t,e){for(;t&&!e&&!t0(t);)e=Dr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function TN(t,e,n){if(e.nodeType!=3){let s,o;(o=v2e(e,n))?(e=o,n=0):(s=w2e(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Hx(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&$a(t)},50)}function NI(t,e){let n=t.state.doc.resolve(e);if(!(ni||Ube)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function EI(t,e,n){let r=t.state.selection;if(r instanceof _t&&!r.empty||n.indexOf("s")>-1||Ps&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=CN(t.state,e);if(o&&o instanceof ht)return jl(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof us?Dt.near(o,e):Dt.findFrom(o,e);return a?jl(t,a):!1}return!1}function AI(t,e){if(!(t.state.selection instanceof _t))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function CI(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function x2e(t){if(!xi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;CI(t,r,"true"),setTimeout(()=>CI(t,r,"false"),20)}return!1}function b2e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function S2e(t,e){let n=e.keyCode,r=b2e(e);if(n==8||Ps&&n==72&&r=="c")return AI(t,-1)||Jd(t,-1);if(n==46&&!e.shiftKey||Ps&&n==68&&r=="c")return AI(t,1)||Jd(t,1);if(n==13||n==27)return!0;if(n==37||Ps&&n==66&&r=="c"){let i=n==37?NI(t,t.state.selection.from)=="ltr"?-1:1:-1;return _I(t,i,r)||Jd(t,i)}else if(n==39||Ps&&n==70&&r=="c"){let i=n==39?NI(t,t.state.selection.from)=="ltr"?1:-1:1;return _I(t,i,r)||Jd(t,i)}else{if(n==38||Ps&&n==80&&r=="c")return EI(t,-1,r)||Jd(t,-1);if(n==40||Ps&&n==78&&r=="c")return x2e(t)||EI(t,1,r)||Jd(t,1);if(r==(Ps?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function mT(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=t.someProp("clipboardSerializer")||ed.fromSchema(t.state.schema),a=xV(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=wV[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let m=a.createElement(u[f]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function mV(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return a=new nt(He.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",h=>{a=h(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,m=ed.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=o.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(f.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=E2e(n),n0&&A2e(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||nc.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!k2e.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=C2e(TI(a,+u[1],+u[2]),u[4]);else if(a=nt.maxOpen(_2e(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=TI(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const k2e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _2e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&yV(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=vV(o[o.length-1],s.length));let u=gV(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return He.from(o)}return t}function gV(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,He.from(t));return t}function yV(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=yV(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(He.from(gV(n,t,i+1))))}}function vV(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,vV(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(He.empty,!0);return t.copy(n.append(r))}function PN(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=PN(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(He.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function TI(t,e,n){return e<t.openStart&&(t=new nt(PN(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new nt(PN(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const wV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let PI=null;function xV(){return PI||(PI=document.implementation.createHTMLDocument("title"))}let RS=null;function N2e(t){let e=window.trustedTypes;return e?(RS||(RS=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),RS.createHTML(t)):t}function E2e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=xV().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&wV[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=N2e(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function A2e(t){let e=t.querySelectorAll(ni?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function C2e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=He.from(l.create(r[a+1],i)),s++,o++}return new nt(i,s,o)}const bi={},Si={},T2e={touchstart:!0,touchmove:!0};class P2e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function j2e(t){for(let e in bi){let n=bi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{R2e(t,r)&&!gT(t,r)&&(t.editable||!(r.type in Si))&&n(t,r)},T2e[e]?{passive:!0}:void 0)}xi&&t.dom.addEventListener("input",()=>null),jN(t)}function ql(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function L2e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function jN(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>gT(t,r))})}function gT(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function R2e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function I2e(t,e){!gT(t,e)&&bi[e.type]&&(t.editable||!(e.type in Si))&&bi[e.type](t,e)}Si.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!SV(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Da&&ni&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),wh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ou(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||S2e(t,n)?n.preventDefault():ql(t,"key")};Si.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Si.keypress=(t,e)=>{let n=e;if(SV(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ps&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof _t)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Wx(t){return{left:t.clientX,top:t.clientY}}function O2e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function yT(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Kf(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function M2e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ht.isSelectable(r)?(Kf(t,new ht(n)),!0):!1}function D2e(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ht&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ht.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Kf(t,ht.create(t.state.doc,i)),!0):!1}function F2e(t,e,n,r,i){return yT(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?D2e(t,n):M2e(t,n))}function B2e(t,e,n,r){return yT(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function z2e(t,e,n,r){return yT(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||U2e(t,n,r)}function U2e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Kf(t,_t.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Kf(t,_t.create(r,a+1,a+1+o.content.size));else if(ht.isSelectable(o))Kf(t,ht.create(r,a));else continue;return!0}}function vT(t){return iw(t)}const bV=Ps?"metaKey":"ctrlKey";bi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=vT(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&O2e(n,t.input.lastClick)&&!n[bV]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Wx(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new $2e(t,o,n,!!r)):(s=="doubleClick"?B2e:z2e)(t,o.pos,o.inside,n)?n.preventDefault():ql(t,"pointer"))};class $2e{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[bV],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ht&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Us&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ql(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$a(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Wx(e))),this.updateAllowDefault(e),this.allowDefault||!n?ql(this.view,"pointer"):F2e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xi&&this.mightDrag&&!this.mightDrag.node.isAtom||ni&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Kf(this.view,Dt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ql(this.view,"pointer")}move(e){this.updateAllowDefault(e),ql(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}bi.touchstart=t=>{t.input.lastTouch=Date.now(),vT(t),ql(t,"pointer")};bi.touchmove=t=>{t.input.lastTouch=Date.now(),ql(t,"pointer")};bi.contextmenu=t=>vT(t);function SV(t,e){return t.composing?!0:xi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const V2e=Da?5e3:-1;Si.compositionstart=Si.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof _t&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),iw(t,!0),t.markCursor=null;else if(iw(t,!e.selection.empty),Us&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}kV(t,V2e)};Si.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,kV(t,20))};function kV(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>iw(t),e))}function _V(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=q2e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function H2e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Mbe(e.focusNode,e.focusOffset),r=Dbe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function q2e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function iw(t,e=!1){if(!(Da&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_V(t),e||t.docView&&t.docView.dirty){let n=hT(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function W2e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Sg=Ui&&rc<15||wh&&$be<604;bi.copy=Si.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Sg?null:n.clipboardData,o=r.content(),{dom:a,text:l}=mT(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):W2e(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function K2e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function G2e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?kg(t,r.value,null,i,e):kg(t,r.textContent,r.innerHTML,i,e)},50)}function kg(t,e,n,r,i){let s=mV(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||nt.empty)))return!0;if(!s)return!1;let o=K2e(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function NV(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Si.paste=(t,e)=>{let n=e;if(t.composing&&!Da)return;let r=Sg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&kg(t,NV(r),r.getData("text/html"),i,n)?n.preventDefault():G2e(t,n)};class EV{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const J2e=Ps?"altKey":"ctrlKey";function AV(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[J2e]}bi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Wx(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ht?i.to-1:i.to))){if(r&&r.mightDrag)o=ht.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=ht.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=mT(t,a);(!n.dataTransfer.files.length||!ni||Z$>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Sg?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Sg||n.dataTransfer.setData("text/plain",c),t.dragging=new EV(u,AV(t,n),o)};bi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Si.dragover=Si.dragenter=(t,e)=>e.preventDefault();Si.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Wx(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t,!1)}):o=mV(t,NV(n.dataTransfer),Sg?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&AV(t,n));if(t.someProp("handleDrop",m=>m(t,n,o||nt.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?L$(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let f=c.doc.resolve(u);if(d&&ht.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ht(f));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,v,y,w)=>m=w),c.setSelection(pT(t,f,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};bi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&$a(t)},20))};bi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};bi.beforeinput=(t,e)=>{if(ni&&Da&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,ou(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Si)bi[t]=Si[t];function _g(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class sw{constructor(e,n){this.toDOM=e,this.spec=n||Eu,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new vi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof sw&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_g(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sc{constructor(e,n){this.attrs=e,this.spec=n||Eu}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new vi(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof sc&&_g(this.attrs,e.attrs)&&_g(this.spec,e.spec)}static is(e){return e.type instanceof sc}destroy(){}}class wT{constructor(e,n){this.attrs=e,this.spec=n||Eu}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new vi(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof wT&&_g(this.attrs,e.attrs)&&_g(this.spec,e.spec)}destroy(){}}class vi{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new vi(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new vi(e,e,new sw(n,r))}static inline(e,n,r,i){return new vi(e,n,new sc(r,i))}static node(e,n,r,i){return new vi(e,n,new wT(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sc}get widget(){return this.type instanceof sw}}const nf=[],Eu={};class Tn{constructor(e,n){this.local=e.length?e:nf,this.children=n.length?n:nf}static create(e,n){return n.length?ow(n,e,0,Eu):Xr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Xr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Eu)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Y2e(this.children,o||[],e,n,r,i,s):o?new Tn(o.sort(Au),nf):Xr}add(e,n){return n.length?this==Xr?Tn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=TV(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,ow(u,a,c+1,Eu)),s+=3}});let o=CV(s?PV(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Tn(o.length?this.local.concat(o).sort(Au):this.local,i||this.children)}remove(e){return e.length==0||this==Xr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Xr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Tn(i,r):Xr}forChild(e,n){if(this==Xr)return this;if(n.isLeaf)return Tn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof sc){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Tn(i.sort(Au),nf);return r?new Dl([a,r]):a}return r||Xr}eq(e){if(this==e)return!0;if(!(e instanceof Tn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return xT(this.localsInner(e))}localsInner(e){if(this==Xr)return nf;if(e.inlineContent||!this.local.some(sc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof sc||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Tn.empty=new Tn([],[]);Tn.removeOverlap=xT;const Xr=Tn.empty;class Dl{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Eu));return Dl.from(r)}forChild(e,n){if(n.isLeaf)return Tn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Xr&&(s instanceof Dl?r=r.concat(s.members):r.push(s))}return Dl.from(r)}eq(e){if(!(e instanceof Dl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?xT(r?n:n.sort(Au)):nf}static from(e){switch(e.length){case 0:return Xr;case 1:return e[0];default:return new Dl(e.every(n=>n instanceof Tn)?e:e.reduce((n,r)=>n.concat(r instanceof Tn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Y2e(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,f,m,g)=>{let v=g-m-(f-h);for(let y=0;y<a.length;y+=3){let w=a[y+1];if(w<0||h>w+u-d)continue;let b=a[y]+u-d;f>=b?a[y+1]=h<=b?-2:-1:h>=u&&v&&(a[y]+=v,a[y+1]+=v)}d+=v}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),f=h-i,{index:m,offset:g}=r.content.findIndex(d),v=r.maybeChild(m);if(v&&g==d&&g+v.nodeSize==f){let y=a[c+2].mapInner(n,v,u+1,t[c]+s+1,o);y!=Xr?(a[c]=d,a[c+1]=f,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=X2e(a,t,e,n,i,s,o),u=ow(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let f=u.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Tn(e.sort(Au),a)}function CV(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new vi(i.from+e,i.to+e,i.type))}return n}function X2e(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function TV(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function PV(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ow(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=TV(t,a,l+n);if(c){s=!0;let u=ow(c,a,n+l+1,r);u!=Xr&&i.push(l,l+a.nodeSize,u)}});let o=CV(s?PV(t):t,-n).sort(Au);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Tn(o,i):Xr}function Au(t,e){return t.from-e.from||t.to-e.to}function xT(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),jI(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),jI(e,i,r.copy(s.from,r.to)));break}}}return e}function jI(t,e,n){for(;e<t.length&&Au(n,t[e])>0;)e++;t.splice(e,0,n)}function IS(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Xr&&e.push(r)}),t.cursorWrapper&&e.push(Tn.create(t.state.doc,[t.cursorWrapper.deco])),Dl.from(e)}const Q2e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Z2e=Ui&&rc<=11;class e5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class t5e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new e5e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ui&&rc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Z2e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Q2e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(kI(this.view)){if(this.suppressingSelectionUpdates)return $a(this.view);if(Ui&&rc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=vh(s))n.add(s);for(let s=e.anchorNode;s;s=vh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&kI(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Us&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||i5e(e,d)!=f)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Hx(r)&&(c=hT(e))&&c.eq(Dt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$a(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),n5e(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||$a(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ui&&rc<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?Dr(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Dr(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let LI=new WeakMap,RI=!1;function n5e(t){if(!LI.has(t)&&(LI.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Us,RI)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),RI=!0}}function II(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Fu(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function r5e(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return II(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?II(t,n):null}function i5e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function s5e(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Hx(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ni&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let y=r.childNodes[v-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){s=v;break}if(!w||w.size)break}let d=t.state.doc,h=t.someProp("domParser")||nc.fromSchema(t.state.schema),f=d.resolve(o),m=null,g=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:o5e,context:f});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),m={anchor:v+o,head:y+o}}return{doc:g,sel:m,from:o,to:a}}function o5e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(xi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||xi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const a5e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function l5e(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let B=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=hT(t,B);if(z&&!t.state.selection.eq(z)){if(ni&&Da&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",G=>G(t,ou(13,"Enter"))))return;let F=t.state.tr.setSelection(z);B=="pointer"?F.setMeta("pointer",!0):B=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),t.dispatch(F)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=s5e(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,f="end"):(h=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let m=d5e(d.content,c.doc.content,c.from,h,f);if(m&&t.input.domChangeCount++,(wh&&t.input.lastIOSEnter>Date.now()-225||Da)&&i.some(B=>B.nodeType==1&&!a5e.test(B.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",B=>B(t,ou(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof _t&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let B=OI(t,t.state.doc,c.sel);if(B&&!B.eq(t.state.selection)){let z=t.state.tr.setSelection(B);s&&z.setMeta("composition",s),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof _t&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Ui&&rc<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),v=c.doc.resolveNoCache(m.endB-c.from),y=u.resolve(m.start),w=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=m.endA;if((wh&&t.input.lastIOSEnter>Date.now()-225&&(!w||i.some(B=>B.nodeName=="DIV"||B.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&g.pos<v.pos&&!/\S/.test(c.doc.textBetween(g.pos,v.pos,"","")))&&t.someProp("handleKeyDown",B=>B(t,ou(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&u5e(u,m.start,m.endA,g,v)&&t.someProp("handleKeyDown",B=>B(t,ou(8,"Backspace")))){Da&&ni&&t.domObserver.suppressSelectionUpdates();return}ni&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Da&&!w&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,v=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(B){return B(t,ou(13,"Enter"))})},20));let b=m.start,N=m.endA,C=B=>{let z=B||t.state.tr.replace(b,N,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let F=OI(t,z.doc,c.sel);F&&!(ni&&t.composing&&F.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==b||F.head==z.mapping.map(N)-1)||Ui&&F.empty&&F.head==b)&&z.setSelection(F)}return s&&z.setMeta("composition",s),z.scrollIntoView()},M;if(w)if(g.pos==v.pos){Ui&&rc<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>$a(t),20));let B=C(t.state.tr.delete(b,N)),z=u.resolve(m.start).marksAcross(u.resolve(m.endA));z&&B.ensureMarks(z),t.dispatch(B)}else if(m.endA==m.endB&&(M=c5e(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let B=C(t.state.tr);M.type=="add"?B.addMark(b,N,M.mark):B.removeMark(b,N,M.mark),t.dispatch(B)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let B=g.parent.textBetween(g.parentOffset,v.parentOffset),z=()=>C(t.state.tr.insertText(B,b,N));t.someProp("handleTextInput",F=>F(t,b,N,B,z))||t.dispatch(z())}else t.dispatch(C());else t.dispatch(C())}function OI(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pT(t,e.resolve(n.anchor),e.resolve(n.head))}function c5e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(He.from(c).eq(t))return{mark:a,type:o}}function u5e(t,e,n,r,i){if(n-e<=i.pos-r.pos||OS(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(OS(s,!0,!0));return!o.parent.isTextblock||o.pos>n||OS(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function OS(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function d5e(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&MI(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&MI(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function MI(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class jV{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new P2e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(UI),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=BI(this),FI(this),this.nodeViews=zI(this),this.docView=yI(this.state.doc,DI(this),IS(this),this.dom,this),this.domObserver=new t5e(this,(r,i,s,o)=>l5e(this,r,i,s,o)),this.domObserver.start(),j2e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&jN(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(UI),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(_V(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=zI(this);h5e(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&jN(this),this.editable=BI(this),FI(this);let l=IS(this),c=DI(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&qbe(this);if(o){this.domObserver.stop();let f=d&&(Ui||ni)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&f5e(i.selection,e.selection);if(d){let m=ni?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=H2e(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=yI(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&m2e(this))?$a(this,f):(fV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&Wbe(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ht){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&dI(this,n.getBoundingClientRect(),e)}else dI(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new EV(e.slice,e.move,i<0?void 0:ht.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Ui){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Kbe(this.dom),$a(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Qbe(this,e)}coordsAtPos(e,n=1){return iV(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return r2e(this,n||this.state,e)}pasteHTML(e,n){return kg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return kg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return mT(this,e)}destroy(){this.docView&&(L2e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],IS(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Ibe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return I2e(this,e)}domSelectionRange(){let e=this.domSelection();return e?xi&&this.root.nodeType===11&&Bbe(this.dom.ownerDocument)==this.dom&&r5e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}jV.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function DI(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[vi.node(0,t.state.doc.content.size,e)]}function FI(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vi.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function BI(t){return!t.someProp("editable",e=>e(t.state)===!1)}function f5e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function zI(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function h5e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function UI(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},aw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},p5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),m5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Fr=0;Fr<10;Fr++)mc[48+Fr]=mc[96+Fr]=String(Fr);for(var Fr=1;Fr<=24;Fr++)mc[Fr+111]="F"+Fr;for(var Fr=65;Fr<=90;Fr++)mc[Fr]=String.fromCharCode(Fr+32),aw[Fr]=String.fromCharCode(Fr);for(var MS in mc)aw.hasOwnProperty(MS)||(aw[MS]=mc[MS]);function g5e(t){var e=p5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||m5e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?aw:mc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const y5e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),v5e=typeof navigator<"u"&&/Win/.test(navigator.platform);function w5e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))y5e?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function x5e(t){let e=Object.create(null);for(let n in t)e[w5e(n)]=t[n];return e}function DS(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function b5e(t){return new Vn({props:{handleKeyDown:LV(t)}})}function LV(t){let e=x5e(t);return function(n,r){let i=g5e(r),s,o=e[DS(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[DS(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(v5e&&r.ctrlKey&&r.altKey)&&(s=mc[r.keyCode])&&s!=i){let a=e[DS(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var S5e=Object.defineProperty,bT=(t,e)=>{for(var n in e)S5e(t,n,{get:e[n],enumerable:!0})};function Kx(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Gx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const u=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...m)=>{const g=this.buildProps(l,e),v=h(...m)(g);return o.push(v),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:Kx({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},RV={};bT(RV,{blur:()=>k5e,clearContent:()=>_5e,clearNodes:()=>N5e,command:()=>E5e,createParagraphNear:()=>A5e,cut:()=>C5e,deleteCurrentNode:()=>T5e,deleteNode:()=>P5e,deleteRange:()=>j5e,deleteSelection:()=>L5e,enter:()=>R5e,exitCode:()=>I5e,extendMarkRange:()=>O5e,first:()=>M5e,focus:()=>F5e,forEach:()=>B5e,insertContent:()=>z5e,insertContentAt:()=>V5e,joinBackward:()=>W5e,joinDown:()=>q5e,joinForward:()=>K5e,joinItemBackward:()=>G5e,joinItemForward:()=>J5e,joinTextblockBackward:()=>Y5e,joinTextblockForward:()=>X5e,joinUp:()=>H5e,keyboardShortcut:()=>Z5e,lift:()=>eSe,liftEmptyBlock:()=>tSe,liftListItem:()=>nSe,newlineInCode:()=>rSe,resetAttributes:()=>iSe,scrollIntoView:()=>sSe,selectAll:()=>oSe,selectNodeBackward:()=>aSe,selectNodeForward:()=>lSe,selectParentNode:()=>cSe,selectTextblockEnd:()=>uSe,selectTextblockStart:()=>dSe,setContent:()=>fSe,setMark:()=>PSe,setMeta:()=>jSe,setNode:()=>LSe,setNodeSelection:()=>RSe,setTextSelection:()=>ISe,sinkListItem:()=>OSe,splitBlock:()=>MSe,splitListItem:()=>DSe,toggleList:()=>FSe,toggleMark:()=>BSe,toggleNode:()=>zSe,toggleWrap:()=>USe,undoInputRule:()=>$Se,unsetAllMarks:()=>VSe,unsetMark:()=>HSe,updateAttributes:()=>qSe,wrapIn:()=>WSe,wrapInList:()=>KSe});var k5e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),_5e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),N5e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const m=$h(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(m||m===0)&&e.lift(f,m)})}),!0},E5e=t=>e=>t(e),A5e=()=>({state:t,dispatch:e})=>G$(t,e),C5e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new _t(r.doc.resolve(Math.max(o-1,0)))),!0},T5e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1};function dr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var P5e=t=>({tr:e,state:n,dispatch:r})=>{const i=dr(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},j5e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},L5e=()=>({state:t,dispatch:e})=>aT(t,e),R5e=()=>({commands:t})=>t.keyboardShortcut("Enter"),I5e=()=>({state:t,dispatch:e})=>wbe(t,e);function ST(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function lw(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:ST(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function IV(t,e,n={}){return t.find(r=>r.type===e&&lw(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function $I(t,e,n={}){return!!IV(t,e,n)}function kT(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!IV([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&$I([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&$I([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function el(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var O5e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=el(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=kT(l,s,e);if(d&&d.from<=c&&d.to>=u){const h=_t.create(o,d.from,d.to);n.setSelection(h)}}return!0},M5e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function OV(t){return t instanceof _t}function gu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function MV(t,e=null){if(!e)return null;const n=Dt.atStart(t),r=Dt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?_t.create(t,gu(0,i,s),gu(t.content.size,i,s)):_t.create(t,gu(e,i,s),gu(e,i,s))}function D5e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _T(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var F5e=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(_T()||D5e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!OV(n.state.selection))return o(),!0;const a=MV(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},B5e=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),z5e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),DV=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&DV(r)}return t};function iv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return DV(n)}function Ng(t,e,n){if(t instanceof tc||t instanceof He)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return He.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Ng("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new b$({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?nc.fromSchema(l).parseSlice(iv(t),n.parseOptions):nc.fromSchema(l).parse(iv(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=nc.fromSchema(e);return n.slice?s.parseSlice(iv(t),n.parseOptions).content:s.parse(iv(t),n.parseOptions)}return Ng("",e,n)}function U5e(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Nr||i instanceof Ar))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(Dt.near(t.doc.resolve(o),n))}var $5e=t=>!("type"in t),V5e=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=v=>{s.emit("contentError",{editor:s,error:v,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ng(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(v){l(v)}try{a=Ng(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(v){return l(v),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,f=!0;if(($5e(a)?a:[a]).forEach(v=>{v.check(),h=h?v.isText&&v.marks.length===0:!1,f=f?v.isBlock:!1}),u===d&&f){const{parent:v}=r.doc.resolve(u);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(u-=1,d+=1)}let g;if(h){if(Array.isArray(e))g=e.map(v=>v.text||"").join("");else if(e instanceof He){let v="";e.forEach(y=>{y.text&&(v+=y.text)}),g=v}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,d)}else{g=a;const v=r.doc.resolve(u),y=v.node(),w=v.parentOffset===0,b=y.isText||y.isTextblock,N=y.content.size>0;w&&b&&N&&(u=Math.max(0,u-1)),r.replaceWith(u,d,g)}n.updateSelection&&U5e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},H5e=()=>({state:t,dispatch:e})=>gbe(t,e),q5e=()=>({state:t,dispatch:e})=>ybe(t,e),W5e=()=>({state:t,dispatch:e})=>U$(t,e),K5e=()=>({state:t,dispatch:e})=>q$(t,e),G5e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ux(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},J5e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ux(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Y5e=()=>({state:t,dispatch:e})=>pbe(t,e),X5e=()=>({state:t,dispatch:e})=>mbe(t,e);function FV(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Q5e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))_T()||FV()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Z5e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Q5e(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function gc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?dr(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),m=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:m})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>lw(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}var eSe=(t,e={})=>({state:n,dispatch:r})=>{const i=dr(t,n.schema);return gc(n,i,e)?vbe(n,r):!1},tSe=()=>({state:t,dispatch:e})=>J$(t,e),nSe=t=>({state:e,dispatch:n})=>{const r=dr(t,e.schema);return Pbe(r)(e,n)},rSe=()=>({state:t,dispatch:e})=>K$(t,e);function Jx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function VI(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var iSe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Jx(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=dr(t,r.schema)),a==="mark"&&(o=el(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,VI(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(VI(d.attrs,e)))})})}),!0):!1},sSe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),oSe=()=>({tr:t,dispatch:e})=>{if(e){const n=new us(t.doc);t.setSelection(n)}return!0},aSe=()=>({state:t,dispatch:e})=>V$(t,e),lSe=()=>({state:t,dispatch:e})=>W$(t,e),cSe=()=>({state:t,dispatch:e})=>Sbe(t,e),uSe=()=>({state:t,dispatch:e})=>Nbe(t,e),dSe=()=>({state:t,dispatch:e})=>_be(t,e);function LN(t,e,n={},r={}){return Ng(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var fSe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=LN(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function BV(t,e){const n=el(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function zV(t,e){const n=new D$(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function hSe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function pSe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function mSe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Yx(t){return e=>mSe(e.$from,t)}function ft(t,e,n){return t.config[e]===void 0&&t.parent?ft(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ft(t.parent,e,n):null}):t.config[e]}function NT(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ft(e,"addExtensions",n);return r?[e,...NT(r())]:e}).flat(10)}function ET(t,e){const n=ed.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function UV(t){return typeof t=="function"}function en(t,e=void 0,...n){return UV(t)?e?t.bind(e)(...n):t(...n):t}function gSe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Eg(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function $V(t){const e=[],{nodeExtensions:n,markExtensions:r}=Eg(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=ft(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ft(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...s,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function fr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function cw(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>fr(n,r),{})}function ySe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function HI(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):ySe(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function qI(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&gSe(n)?!1:n!=null))}function vSe(t,e){var n;const r=$V(t),{nodeExtensions:i,markExtensions:s}=Eg(t),o=(n=i.find(c=>ft(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((y,w)=>{const b=ft(w,"extendNodeSchema",d);return{...y,...b?b(c):{}}},{}),f=qI({...h,content:en(ft(c,"content",d)),marks:en(ft(c,"marks",d)),group:en(ft(c,"group",d)),inline:en(ft(c,"inline",d)),atom:en(ft(c,"atom",d)),selectable:en(ft(c,"selectable",d)),draggable:en(ft(c,"draggable",d)),code:en(ft(c,"code",d)),whitespace:en(ft(c,"whitespace",d)),linebreakReplacement:en(ft(c,"linebreakReplacement",d)),defining:en(ft(c,"defining",d)),isolating:en(ft(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var w,b;return[y.name,{default:(w=y==null?void 0:y.attribute)==null?void 0:w.default,validate:(b=y==null?void 0:y.attribute)==null?void 0:b.validate}]}))}),m=en(ft(c,"parseHTML",d));m&&(f.parseDOM=m.map(y=>HI(y,u)));const g=ft(c,"renderHTML",d);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:cw(y,u)}));const v=ft(c,"renderText",d);return v&&(f.toText=v),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,y)=>{const w=ft(y,"extendMarkSchema",d);return{...v,...w?w(c):{}}},{}),f=qI({...h,inclusive:en(ft(c,"inclusive",d)),excludes:en(ft(c,"excludes",d)),group:en(ft(c,"group",d)),spanning:en(ft(c,"spanning",d)),code:en(ft(c,"code",d)),attrs:Object.fromEntries(u.map(v=>{var y,w;return[v.name,{default:(y=v==null?void 0:v.attribute)==null?void 0:y.default,validate:(w=v==null?void 0:v.attribute)==null?void 0:w.validate}]}))}),m=en(ft(c,"parseHTML",d));m&&(f.parseDOM=m.map(v=>HI(v,u)));const g=ft(c,"renderHTML",d);return g&&(f.toDOM=v=>g({mark:v,HTMLAttributes:cw(v,u)})),[c.name,f]}));return new b$({topNode:o,nodes:a,marks:l})}function wSe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function AT(t){return t.sort((n,r)=>{const i=ft(n,"priority")||100,s=ft(r,"priority")||100;return i>s?-1:i<s?1:0})}function VV(t){const e=AT(NT(t)),n=wSe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function HV(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function xSe(t,e){const n={from:0,to:t.content.size};return HV(t,n,e)}function qV(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function bSe(t,e){const n=dr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function WV(t,e){const n=Jx(typeof e=="string"?e:e.name,t.schema);return n==="node"?bSe(t,e):n==="mark"?BV(t,e):{}}function SSe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function kSe(t){const e=SSe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function KV(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),h=e.invert().map(u);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),kSe(r)}function CT(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=kT(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var _Se=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);(a==null?void 0:a.type.name)===e?o=a:s-=1}return[o,s]};function FS(t,e){return e.nodes[t]||e.marks[t]||null}function qv(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var NSe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function RN(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?el(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>lw(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,m=h.pos;t.doc.nodesBetween(f,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,v),w=Math.min(m,v+g.nodeSize),b=w-y;o+=b,a.push(...g.marks.map(N=>({mark:N,from:y,to:w})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>lw(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function ESe(t,e,n={}){if(!e)return gc(t,null,n)||RN(t,null,n);const r=Jx(e,t.schema);return r==="node"?gc(t,e,n):r==="mark"?RN(t,e,n):!1}var ASe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Yx(a=>a.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},CSe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function WI(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function KI(t,e){const{nodeExtensions:n}=Eg(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=en(ft(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Xx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Xx(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function GV(t){return t instanceof ht}function TSe(t,e,n){var r;const{selection:i}=e;let s=null;if(OV(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=f&&m}return!c}),c})}var PSe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=el(t,r.schema);if(i)if(o){const c=BV(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,f)=>{const m=Math.max(f,u),g=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&n.addMark(m,g,l.create({...y.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return TSe(r,n,l)},jSe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),LSe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=dr(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>lI(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>lI(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},RSe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=gu(t,0,r.content.size),s=ht.create(r,i);e.setSelection(s)}return!0},ISe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=_t.atStart(r).from,a=_t.atEnd(r).to,l=gu(i,o,a),c=gu(s,o,a),u=_t.create(r,l,c);e.setSelection(u)}return!0},OSe=t=>({state:e,dispatch:n})=>{const r=dr(t,e.schema);return Rbe(r)(e,n)};function GI(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var MSe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=qv(c,a.node().type.name,a.node().attrs);if(s instanceof ht&&s.node.isBlock)return!a.parentOffset||!Ua(o,a.pos)?!1:(r&&(t&&GI(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:hSe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,m=Ua(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!m&&Ua(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(m&&(s instanceof _t&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),v=e.doc.resolve(g);a.node(-1).canReplaceWith(v.index(),v.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&GI(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},DSe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=dr(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=He.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let z=l.depth-w;z>=l.depth-3;z-=1)y=He.from(l.node(z).copy(y));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,N={...qv(h,l.node().type.name,l.node().attrs),...e},C=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(N))||void 0;y=y.append(He.from(a.createAndFill(null,C)||void 0));const M=l.before(l.depth-(w-1));n.replace(M,l.after(-b),new nt(y,4-w,0));let B=-1;n.doc.nodesBetween(M,n.doc.content.size,(z,F)=>{if(B>-1)return!1;z.isTextblock&&z.content.size===0&&(B=F+1)}),B>-1&&n.setSelection(_t.near(n.doc.resolve(B))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...qv(h,d.type.name,d.attrs),...e},g={...qv(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const v=f?[{type:a,attrs:m},{type:f,attrs:g}]:[{type:a,attrs:m}];if(!Ua(n.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:w}=r,{splittableMarks:b}=s.extensionManager,N=w||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!N||!i)return!0;const C=N.filter(M=>b.includes(M.type.name));n.ensureMarks(C)}return!0},BS=(t,e)=>{const n=Yx(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Cc(t.doc,n.pos)&&t.join(n.pos),!0},zS=(t,e)=>{const n=Yx(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Cc(t.doc,r)&&t.join(r),!0},FSe=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=dr(t,o.schema),m=dr(e,o.schema),{selection:g,storedMarks:v}=o,{$from:y,$to:w}=g,b=y.blockRange(w),N=v||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const C=Yx(M=>KI(M.type.name,d))(g);if(b.depth>=1&&C&&b.depth-C.depth<=1){if(C.node.type===f)return c.liftListItem(m);if(KI(C.node.type.name,d)&&f.validContent(C.node.content)&&a)return l().command(()=>(s.setNodeMarkup(C.pos,f),!0)).command(()=>BS(s,f)).command(()=>zS(s,f)).run()}return!n||!N||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>BS(s,f)).command(()=>zS(s,f)).run():l().command(()=>{const M=u().wrapInList(f,r),B=N.filter(z=>h.includes(z.type.name));return s.ensureMarks(B),M?!0:c.clearNodes()}).wrapInList(f,r).command(()=>BS(s,f)).command(()=>zS(s,f)).run()},BSe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=el(t,r.schema);return RN(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},zSe=(t,e,n={})=>({state:r,commands:i})=>{const s=dr(t,r.schema),o=dr(e,r.schema),a=gc(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},USe=(t,e={})=>({state:n,commands:r})=>{const i=dr(t,n.schema);return gc(n,i,e)?r.lift(i):r.wrapIn(i,e)},$Se=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},VSe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},HSe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=el(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:h,to:f}=a;const m=(s=c.marks().find(v=>v.type===l))==null?void 0:s.attrs,g=kT(c,l,m);g&&(h=g.from,f=g.to),n.removeMark(h,f,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},qSe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Jx(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=dr(t,r.schema)),a==="mark"&&(o=el(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,h,f,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,v)=>{s&&s===g.type&&(f=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,h=g)}):r.doc.nodesBetween(c,u,(g,v)=>{v<c&&s&&s===g.type&&(f=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,h=g),v>=c&&v<=u&&(s&&s===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(y=>{if(o===y.type){const w=Math.max(v,c),b=Math.min(v+g.nodeSize,u);n.addMark(w,b,o.create({...y.attrs,...e}))}}))}),h&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(g=>{o===g.type&&n.addMark(f,m,o.create({...g.attrs,...e}))}))}),!0):!1},WSe=(t,e={})=>({state:n,dispatch:r})=>{const i=dr(t,n.schema);return Ebe(i,e)(n,r)},KSe=(t,e={})=>({state:n,dispatch:r})=>{const i=dr(t,n.schema);return Abe(i,e)(n,r)},GSe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Qx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},JSe=(t,e)=>{if(ST(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function sv(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=NSe(c)+s;return o.forEach(h=>{if(u)return;const f=JSe(d,h.find);if(!f)return;const m=l.state.tr,g=Kx({state:l.state,transaction:m}),v={from:r-(f[0].length-s.length),to:i},{commands:y,chain:w,can:b}=new Gx({editor:n,state:g});h.handler({state:g,range:v,match:f,commands:y,chain:w,can:b})===null||!m.steps.length||(h.undoable&&m.setMeta(a,{transform:m,from:r,to:i,text:s}),l.dispatch(m),u=!0)}),u}function YSe(t){const{editor:e,rules:n}=t,r=new Vn({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=ET(He.from(u),o.schema);const{from:d}=l,h=d+u.length;sv({editor:e,from:d,to:h,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return sv({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&sv({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?sv({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function XSe(t){return Object.prototype.toString.call(t).slice(8,-1)}function ov(t){return XSe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function JV(t,e){const n={...t};return ov(t)&&ov(e)&&Object.keys(e).forEach(r=>{ov(e[r])&&ov(t[r])?n[r]=JV(t[r],e[r]):n[r]=e[r]}),n}var TT=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...en(ft(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...en(ft(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>JV(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},td=class YV extends TT{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new YV(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function QSe(t){return typeof t=="number"}var ZSe=class{constructor(t){this.find=t.find,this.handler=t.handler}},eke=(t,e,n)=>{if(ST(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function tke(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Gx({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,m)=>{var g,v,y,w,b;if((v=(g=f.type)==null?void 0:g.spec)!=null&&v.code||!(f.isText||f.isTextblock||f.isInline))return;const N=(b=(w=(y=f.content)==null?void 0:y.size)!=null?w:f.nodeSize)!=null?b:0,C=Math.max(r,m),M=Math.min(i,m+N);if(C>=M)return;const B=f.isText?f.text||"":f.textBetween(C-m,M-m,void 0,"");eke(B,s.find,o).forEach(F=>{if(F.index===void 0)return;const G=C+F.index+1,W=G+F[0].length,L={from:n.tr.mapping.map(G),to:n.tr.mapping.map(W)},V=s.handler({state:n,range:L,match:F,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(V)})}),d.every(f=>f!==null)}var av=null,nke=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function rke(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:h,rule:f,pasteEvt:m})=>{const g=u.tr,v=Kx({state:u,transaction:g});if(!(!tke({editor:e,state:v,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new Vn({view(d){const h=m=>{var g;r=(g=d.dom.parentElement)!=null&&g.contains(m.target)?d.dom.parentElement:null,r&&(av=e)},f=()=>{av&&(av=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(s=r===d.dom.parentElement,a=h,!s){const f=av;f!=null&&f.isEditable&&setTimeout(()=>{const m=f.state.selection;m&&f.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,h)=>{var f;const m=(f=h.clipboardData)==null?void 0:f.getData("text/html");return o=h,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,v=m.getMeta("uiEvent")==="drop"&&!s,y=m.getMeta("applyPasteRules"),w=!!y;if(!g&&!v&&!w)return;if(w){let{text:C}=y;typeof C=="string"?C=C:C=ET(He.from(C),f.schema);const{from:M}=y,B=M+C.length,z=nke(C);return l({rule:u,state:f,from:M,to:{b:B},pasteEvt:z})}const b=h.doc.content.findDiffStart(f.doc.content),N=h.doc.content.findDiffEnd(f.doc.content);if(!(!QSe(b)||!N||b===N.b))return l({rule:u,state:f,from:b,to:N,pasteEvt:o})}}))}var Zx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=VV(t),this.schema=vSe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:FS(e.name,this.schema)},r=ft(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return AT([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:FS(r.name,this.schema)},s=[],o=ft(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&ft(r,"exitable",i)&&(a.ArrowRight=()=>td.handleExit({editor:t,mark:r})),o){const h=Object.fromEntries(Object.entries(o()).map(([f,m])=>[f,()=>m({editor:t})]));a={...a,...h}}const l=b5e(a);s.push(l);const c=ft(r,"addInputRules",i);if(WI(r,t.options.enableInputRules)&&c){const h=c();if(h&&h.length){const f=YSe({editor:t,rules:h}),m=Array.isArray(f)?f:[f];s.push(...m)}}const u=ft(r,"addPasteRules",i);if(WI(r,t.options.enablePasteRules)&&u){const h=u();if(h&&h.length){const f=rke({editor:t,rules:h});s.push(...f)}}const d=ft(r,"addProseMirrorPlugins",i);if(d){const h=d();s.push(...h)}return s})}get attributes(){return $V(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Eg(this.extensions);return Object.fromEntries(e.filter(n=>!!ft(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:dr(n.name,this.schema)},s=ft(n,"addNodeView",i);if(!s)return[];const o=s();if(!o)return[];const a=(l,c,u,d,h)=>{const f=cw(l,r);return o({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:t,extension:n,HTMLAttributes:f})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Eg(this.extensions);return Object.fromEntries(e.filter(n=>!!ft(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:el(n.name,this.schema)},s=ft(n,"addMarkView",i);if(!s)return[];const o=(a,l,c)=>{const u=cw(a,r);return s()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:d=>{yke(a,t,d)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:FS(e.name,this.schema)};e.type==="mark"&&((n=en(ft(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ft(e,"onBeforeCreate",r),s=ft(e,"onCreate",r),o=ft(e,"onUpdate",r),a=ft(e,"onSelectionUpdate",r),l=ft(e,"onTransaction",r),c=ft(e,"onFocus",r),u=ft(e,"onBlur",r),d=ft(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};Zx.resolve=VV;Zx.sort=AT;Zx.flatten=NT;var ike={};bT(ike,{ClipboardTextSerializer:()=>QV,Commands:()=>ZV,Delete:()=>eH,Drop:()=>tH,Editable:()=>nH,FocusEvents:()=>iH,Keymap:()=>sH,Paste:()=>oH,Tabindex:()=>aH,focusEventsPluginKey:()=>rH});var hr=class XV extends TT{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new XV(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},QV=hr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Vn({key:new Tr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=qV(n);return HV(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),ZV=hr.create({name:"commands",addCommands(){return{...RV}}}),eH=hr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=zV(t.before,[t,...e]);KV(u).forEach(f=>{u.mapping.mapResult(f.oldRange.from).deletedAfter&&u.mapping.mapResult(f.oldRange.to).deletedBefore&&u.before.nodesBetween(f.oldRange.from,f.oldRange.to,(m,g)=>{const v=g+m.nodeSize-2,y=f.oldRange.from<=g&&v<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:v,newFrom:u.mapping.map(g),newTo:u.mapping.map(v),deletedRange:f.oldRange,newRange:f.newRange,partial:!y,editor:this.editor,transaction:t,combinedTransform:u})})});const h=u.mapping;u.steps.forEach((f,m)=>{var g,v;if(f instanceof wo){const y=h.slice(m).map(f.from,-1),w=h.slice(m).map(f.to),b=h.invert().map(y,-1),N=h.invert().map(w),C=(g=u.doc.nodeAt(y-1))==null?void 0:g.marks.some(B=>B.eq(f.mark)),M=(v=u.doc.nodeAt(w))==null?void 0:v.marks.some(B=>B.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:b,to:N},newRange:{from:y,to:w},partial:!!(M||C),editor:this.editor,transaction:t,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),tH=hr.create({name:"drop",addProseMirrorPlugins(){return[new Vn({key:new Tr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),nH=hr.create({name:"editable",addProseMirrorPlugins(){return[new Vn({key:new Tr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rH=new Tr("focusEvents"),iH=hr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Vn({key:rH,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),sH=hr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=m.parent.type.spec.isolating,v=d.pos-d.parentOffset,y=g&&m.parent.childCount===1?v===d.pos:Dt.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _T()||FV()?s:i},addProseMirrorPlugins(){return[new Vn({key:new Tr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Dt.atStart(e.doc).from,c=Dt.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Xx(n.doc))return;const h=n.tr,f=Kx({state:n,transaction:h}),{commands:m}=new Gx({editor:this.editor,state:f});if(m.clearNodes(),!!h.steps.length)return h}})]}}),oH=hr.create({name:"paste",addProseMirrorPlugins(){return[new Vn({key:new Tr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),aH=hr.create({name:"tabindex",addProseMirrorPlugins(){return[new Vn({key:new Tr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),ske=class rf{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new rf(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new rf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new rf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new rf(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new rf(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},oke=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function ake(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var lke=class extends GSe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=MV(e,this.options.autofocus);this.editorState=_f.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=ake(oke,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=UV(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[nH,QV.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),ZV,iH,sH,aH,tH,oH,eH].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Zx(r,this)}createCommandManager(){this.commandManager=new Gx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=LN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=LN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new jV(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return WV(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return ESe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ET(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return xSe(this.state.doc,{blockSeparator:e,textSerializers:{...qV(this.schema),...n}})}get isEmpty(){return Xx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new ske(e,this)}get $doc(){return this.$pos(0)}};function xh(t){return new Qx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=en(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(CT(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function cke(t){return new Qx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=en(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:t.undoable})}function IN(t){return new Qx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=en(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function bh(t){return new Qx({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=en(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&sT(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:f}=t.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(v=>f.includes(v.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Cc(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)},undoable:t.undoable})}function uke(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ht){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var dke={};bT(dke,{createAtomBlockMarkdownSpec:()=>fke,createBlockMarkdownSpec:()=>hke,createInlineMarkdownSpec:()=>gke,parseAttributes:()=>PT,parseIndentedBlocks:()=>ON,renderNestedMarkdownContent:()=>LT,serializeAttributes:()=>jT});function PT(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));e.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,u])=>{var d;const h=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),f=n[h];f&&(e[c]=f.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(e[u]=!0)}),e}function jT(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function fke(t){const{nodeName:e,name:n,parseAttributes:r=PT,serializeAttributes:i=jT,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=t,l=n||e,c=u=>{if(!a)return u;const d={};return a.forEach(h=>{h in u&&(d[h]=u[h])}),d};return{parseMarkdown:(u,d)=>{const h={...s,...u.attributes};return d.createNode(e,h,[])},markdownTokenizer:{name:e,level:"block",start(u){var d;const h=new RegExp(`^:::${l}(?:\\s|$)`,"m"),f=(d=u.match(h))==null?void 0:d.index;return f!==void 0?f:-1},tokenize(u,d,h){const f=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(f);if(!m)return;const g=m[1]||"",v=r(g);if(!o.find(w=>!(w in v)))return{type:e,raw:m[0],attributes:v}}},renderMarkdown:u=>{const d=c(u.attrs||{}),h=i(d),f=h?` {${h}}`:"";return`:::${l}${f} :::`}}}function hke(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=PT,serializeAttributes:s=jT,defaultAttributes:o={},content:a="block",allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const h={};return l.forEach(f=>{f in d&&(h[f]=d[f])}),h};return{parseMarkdown:(d,h)=>{let f;if(r){const g=r(d);f=typeof g=="string"?[{type:"text",text:g}]:g}else a==="block"?f=h.parseChildren(d.tokens||[]):f=h.parseInline(d.tokens||[]);const m={...o,...d.attributes};return h.createNode(e,m,f)},markdownTokenizer:{name:e,level:"block",start(d){var h;const f=new RegExp(`^:::${c}`,"m"),m=(h=d.match(f))==null?void 0:h.index;return m!==void 0?m:-1},tokenize(d,h,f){var m;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),v=d.match(g);if(!v)return;const[y,w=""]=v,b=i(w);let N=1;const C=y.length;let M="";const B=/^:::([\w-]*)(\s.*)?/gm,z=d.slice(C);for(B.lastIndex=0;;){const F=B.exec(z);if(F===null)break;const G=F.index,W=F[1];if(!((m=F[2])!=null&&m.endsWith(":::"))){if(W)N+=1;else if(N-=1,N===0){const L=z.slice(0,G);M=L.trim();const V=d.slice(0,C+G+F[0].length);let E=[];if(M)if(a==="block")for(E=f.blockTokens(L),E.forEach(te=>{te.text&&(!te.tokens||te.tokens.length===0)&&(te.tokens=f.inlineTokens(te.text))});E.length>0;){const te=E[E.length-1];if(te.type==="paragraph"&&(!te.text||te.text.trim()===""))E.pop();else break}else E=f.inlineTokens(M);return{type:e,raw:V,attributes:b,content:M,tokens:E}}}}}},renderMarkdown:(d,h)=>{const f=u(d.attrs||{}),m=s(f),g=m?` {${m}}`:"",v=h.renderChildren(d.content||[],`

`);return`:::${c}${g}

${v}

:::`}}}function pke(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,o]=r;e[i]=s||o,r=n.exec(t)}return e}function mke(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function gke(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=pke,serializeAttributes:s=mke,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=t,c=n||e,u=h=>{if(!l)return h;const f={};return l.forEach(m=>{m in h&&(f[m]=h[m])}),f},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,f)=>{const m={...o,...h.attributes};if(a)return f.createNode(e,m);const g=r?r(h):h.content||"";return g?f.createNode(e,m,[f.createTextNode(g)]):f.createNode(e,m,[])},markdownTokenizer:{name:e,level:"inline",start(h){const f=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=h.match(f),g=m==null?void 0:m.index;return g!==void 0?g:-1},tokenize(h,f,m){const g=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),v=h.match(g);if(!v)return;let y="",w="";if(a){const[,N]=v;w=N}else{const[,N,C]=v;w=N,y=C||""}const b=i(w.trim());return{type:e,raw:v[0],content:y.trim(),attributes:b}}},renderMarkdown:h=>{let f="";r?f=r(h):h.content&&h.content.length>0&&(f=h.content.filter(y=>y.type==="text").map(y=>y.text).join(""));const m=u(h.attrs||{}),g=s(m),v=g?` ${g}`:"";return a?`[${c}${v}]`:`[${c}${v}]${f}[/${c}]`}}}function ON(t,e,n){var r,i,s,o;const a=t.split(`
`),l=[];let c="",u=0;const d=e.baseIndentSize||2;for(;u<a.length;){const h=a[u],f=h.match(e.itemPattern);if(!f){if(l.length>0)break;if(h.trim()===""){u+=1;continue}else return}const m=e.extractItemData(f),{indentLevel:g,mainContent:v}=m;c=`${c}${h}
`;const y=[v];for(u+=1;u<a.length;){const C=a[u];if(C.trim()===""){const B=a.slice(u+1).findIndex(G=>G.trim()!=="");if(B===-1)break;if((((i=(r=a[u+1+B].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>g){y.push(C),c=`${c}${C}
`,u+=1;continue}else break}if((((o=(s=C.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>g)y.push(C),c=`${c}${C}
`,u+=1;else break}let w;const b=y.slice(1);if(b.length>0){const C=b.map(M=>M.slice(g+d)).join(`
`);C.trim()&&(e.customNestedParser?w=e.customNestedParser(C):w=n.blockTokens(C))}const N=e.createToken(m,w);l.push(N)}if(l.length!==0)return{items:l,raw:c.trim()}}function LT(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...o]=t.content,a=e.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(c=>{const u=e.renderChildren([c]);if(u){const d=u.split(`
`).map(h=>h?e.indent(h):"").join(`
`);l.push(d)}}),l.join(`
`)}function yke(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((a,l)=>{const c=s.mapping.map(l),u=s.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(f=>{if(f!==o)return!1;d=f}),!d)return;let h=!1;if(Object.keys(n).forEach(f=>{n[f]!==d.attrs[f]&&(h=!0)}),h){const f=t.type.create({...t.attrs,...n});s.removeMark(c,u,t.type),s.addMark(c,u,f)}}),s.docChanged&&e.view.dispatch(s)}var gs=class lH extends TT{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new lH(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function zu(t){return new ZSe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=en(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(CT(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===t.type&&v!==m.mark.type)).filter(m=>m.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var vke=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const wke=Tg(vke);var cH={exports:{}},uH={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb=$,xke=nT;function bke(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ske=typeof Object.is=="function"?Object.is:bke,kke=xke.useSyncExternalStore,_ke=eb.useRef,Nke=eb.useEffect,Eke=eb.useMemo,Ake=eb.useDebugValue;uH.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=_ke(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Eke(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var m=o.value;if(i(m,f))return d=m}return d=f}if(m=d,Ske(u,f))return m;var g=r(f);return i!==void 0&&i(m,g)?(u=f,m):(u=f,d=g)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=kke(t,s[0],s[1]);return Nke(function(){o.hasValue=!0,o.value=a},[a]),Ake(a),a};cH.exports=uH;var Cke=cH.exports,Tke=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Pke=({contentComponent:t})=>{const e=nT.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(e)})};function jke(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:RD.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var Lke=class extends mi.Component{constructor(t){var e;super(t),this.editorContentRef=mi.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=jke(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:Tke(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&p.jsx(Pke,{contentComponent:t.contentComponent})]})}},Rke=$.forwardRef((t,e)=>{const n=mi.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return mi.createElement(Lke,{key:n,innerRef:e,...t})}),Ike=mi.memo(Rke),Oke=typeof window<"u"?$.useLayoutEffect:$.useEffect,Mke=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Dke(t){var e;const[n]=$.useState(()=>new Mke(t.editor)),r=Cke.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:wke);return Oke(()=>n.watch(t.editor),[t.editor,n]),$.useDebugValue(r),r}var Fke=!1,MN=typeof window>"u",Bke=MN||!!(typeof window<"u"&&window.next),zke=class dH{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?MN||Bke?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new lke(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?dH.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Uke(t={},e=[]){const n=$.useRef(t);n.current=t;const[r]=$.useState(()=>new zke(n)),i=nT.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return $.useDebugValue(i),$.useEffect(r.onRender(e)),Dke({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var $ke=$.createContext({editor:null});$ke.Consumer;var Vke=$.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Hke=()=>$.useContext(Vke);mi.forwardRef((t,e)=>{const{onDragStart:n}=Hke(),r=t.as||"div";return p.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});mi.createContext({markViewContentRef:()=>{}});var uw=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},qke=/^\s*>\s$/,Wke=gs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return uw("blockquote",{...fr(this.options.HTMLAttributes,t),children:uw("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const a=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[bh({find:qke,type:this.type})]}}),Kke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Gke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Jke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Yke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Xke=td.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return uw("strong",{...fr(this.options.HTMLAttributes,t),children:uw("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xh({find:Kke,type:this.type}),xh({find:Jke,type:this.type})]},addPasteRules(){return[zu({find:Gke,type:this.type}),zu({find:Yke,type:this.type})]}}),Qke=/(^|[^`])`([^`]+)`(?!`)$/,Zke=/(^|[^`])`([^`]+)`(?!`)/g,e_e=td.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xh({find:Qke,type:this.type})]},addPasteRules(){return[zu({find:Zke,type:this.type})]}}),US=4,t_e=/^```([a-z]+)?[\s\n]$/,n_e=/^~~~([a-z]+)?[\s\n]$/,r_e=gs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:US,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",fr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:US,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:u}=i,f=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>a+m).join(`
`);return l.replaceWith(c,u,r.schema.text(f)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:US,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var l;const{pos:c}=s,u=s.start(),d=s.end(),f=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let m=0,g=0;const v=c-u;for(let M=0;M<f.length;M+=1){if(g+f[M].length>=v){m=M;break}g+=f[M].length+1}const w=((l=f[m].match(/^ */))==null?void 0:l[0])||"",b=Math.min(w.length,n);if(b===0)return!0;let N=u;for(let M=0;M<m;M+=1)N+=f[M].length+1;return a.delete(N,N+b),c-N<=b&&a.setSelection(_t.create(a.doc,N)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=i,h=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(f=>{var m;const g=((m=f.match(/^ */))==null?void 0:m[0])||"",v=Math.min(g.length,n);return f.slice(v)}).join(`
`);return a.replaceWith(l,c,r.schema.text(h)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Dt.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[IN({find:t_e,type:this.type,getAttributes:t=>({language:t[1]})}),IN({find:n_e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Vn({key:new Tr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(_t.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),i_e=gs.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),s_e=gs.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",fr(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),o_e=gs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,fr(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>IN({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),a_e=gs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",fr(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!uke(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return GV(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(_t.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(ht.create(o.doc,l.pos)):o.setSelection(_t.create(o.doc,l.pos));else{const u=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(o.insert(c,d),o.setSelection(_t.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[cke({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),l_e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,c_e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,u_e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,d_e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,f_e=td.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",fr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xh({find:l_e,type:this.type}),xh({find:u_e,type:this.type})]},addPasteRules(){return[zu({find:c_e,type:this.type}),zu({find:d_e,type:this.type})]}});const h_e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",p_e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",DN="numeric",FN="ascii",BN="alpha",Cm="asciinumeric",Zp="alphanumeric",zN="domain",fH="emoji",m_e="scheme",g_e="slashscheme",$S="whitespace";function y_e(t,e){return t in e||(e[t]=[]),e[t]}function yu(t,e,n){e[DN]&&(e[Cm]=!0,e[Zp]=!0),e[FN]&&(e[Cm]=!0,e[BN]=!0),e[Cm]&&(e[Zp]=!0),e[BN]&&(e[Zp]=!0),e[Zp]&&(e[zN]=!0),e[fH]&&(e[zN]=!0);for(const r in e){const i=y_e(r,n);i.indexOf(t)<0&&i.push(t)}}function v_e(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Mi(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mi.groups={};Mi.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Mi.groups;let i;return e&&e.j?i=e:(i=new Mi(e),n&&r&&yu(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Mi.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new Mi,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Mi,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(v_e(o.t,r),n);yu(s,l,r)}else n&&yu(s,n,r);o.t=s}return i.j[t]=o,o}};const Mt=(t,e,n,r,i)=>t.ta(e,n,r,i),Mn=(t,e,n,r,i)=>t.tr(e,n,r,i),JI=(t,e,n,r,i)=>t.ts(e,n,r,i),Ge=(t,e,n,r,i)=>t.tt(e,n,r,i),Ca="WORD",UN="UWORD",hH="ASCIINUMERICAL",pH="ALPHANUMERICAL",Ag="LOCALHOST",$N="TLD",VN="UTLD",Wv="SCHEME",sf="SLASH_SCHEME",RT="NUM",HN="WS",IT="NL",Tm="OPENBRACE",Pm="CLOSEBRACE",dw="OPENBRACKET",fw="CLOSEBRACKET",hw="OPENPAREN",pw="CLOSEPAREN",mw="OPENANGLEBRACKET",gw="CLOSEANGLEBRACKET",yw="FULLWIDTHLEFTPAREN",vw="FULLWIDTHRIGHTPAREN",ww="LEFTCORNERBRACKET",xw="RIGHTCORNERBRACKET",bw="LEFTWHITECORNERBRACKET",Sw="RIGHTWHITECORNERBRACKET",kw="FULLWIDTHLESSTHAN",_w="FULLWIDTHGREATERTHAN",Nw="AMPERSAND",Ew="APOSTROPHE",Aw="ASTERISK",Ll="AT",Cw="BACKSLASH",Tw="BACKTICK",Pw="CARET",Fl="COLON",OT="COMMA",jw="DOLLAR",$o="DOT",Lw="EQUALS",MT="EXCLAMATION",Ts="HYPHEN",jm="PERCENT",Rw="PIPE",Iw="PLUS",Ow="POUND",Lm="QUERY",DT="QUOTE",mH="FULLWIDTHMIDDLEDOT",FT="SEMI",Vo="SLASH",Rm="TILDE",Mw="UNDERSCORE",gH="EMOJI",Dw="SYM";var yH=Object.freeze({__proto__:null,ALPHANUMERICAL:pH,AMPERSAND:Nw,APOSTROPHE:Ew,ASCIINUMERICAL:hH,ASTERISK:Aw,AT:Ll,BACKSLASH:Cw,BACKTICK:Tw,CARET:Pw,CLOSEANGLEBRACKET:gw,CLOSEBRACE:Pm,CLOSEBRACKET:fw,CLOSEPAREN:pw,COLON:Fl,COMMA:OT,DOLLAR:jw,DOT:$o,EMOJI:gH,EQUALS:Lw,EXCLAMATION:MT,FULLWIDTHGREATERTHAN:_w,FULLWIDTHLEFTPAREN:yw,FULLWIDTHLESSTHAN:kw,FULLWIDTHMIDDLEDOT:mH,FULLWIDTHRIGHTPAREN:vw,HYPHEN:Ts,LEFTCORNERBRACKET:ww,LEFTWHITECORNERBRACKET:bw,LOCALHOST:Ag,NL:IT,NUM:RT,OPENANGLEBRACKET:mw,OPENBRACE:Tm,OPENBRACKET:dw,OPENPAREN:hw,PERCENT:jm,PIPE:Rw,PLUS:Iw,POUND:Ow,QUERY:Lm,QUOTE:DT,RIGHTCORNERBRACKET:xw,RIGHTWHITECORNERBRACKET:Sw,SCHEME:Wv,SEMI:FT,SLASH:Vo,SLASH_SCHEME:sf,SYM:Dw,TILDE:Rm,TLD:$N,UNDERSCORE:Mw,UTLD:VN,UWORD:UN,WORD:Ca,WS:HN});const Ea=/[a-z]/,zp=new RegExp("\\p{L}","u"),VS=new RegExp("\\p{Emoji}","u"),Aa=/\d/,HS=/\s/,YI="\r",qS=`
`,w_e="",x_e="",WS="";let lv=null,cv=null;function b_e(t=[]){const e={};Mi.groups=e;const n=new Mi;lv==null&&(lv=XI(h_e)),cv==null&&(cv=XI(p_e)),Ge(n,"'",Ew),Ge(n,"{",Tm),Ge(n,"}",Pm),Ge(n,"[",dw),Ge(n,"]",fw),Ge(n,"(",hw),Ge(n,")",pw),Ge(n,"<",mw),Ge(n,">",gw),Ge(n,"",yw),Ge(n,"",vw),Ge(n,"",ww),Ge(n,"",xw),Ge(n,"",bw),Ge(n,"",Sw),Ge(n,"",kw),Ge(n,"",_w),Ge(n,"&",Nw),Ge(n,"*",Aw),Ge(n,"@",Ll),Ge(n,"`",Tw),Ge(n,"^",Pw),Ge(n,":",Fl),Ge(n,",",OT),Ge(n,"$",jw),Ge(n,".",$o),Ge(n,"=",Lw),Ge(n,"!",MT),Ge(n,"-",Ts),Ge(n,"%",jm),Ge(n,"|",Rw),Ge(n,"+",Iw),Ge(n,"#",Ow),Ge(n,"?",Lm),Ge(n,'"',DT),Ge(n,"/",Vo),Ge(n,";",FT),Ge(n,"~",Rm),Ge(n,"_",Mw),Ge(n,"\\",Cw),Ge(n,"",mH);const r=Mn(n,Aa,RT,{[DN]:!0});Mn(r,Aa,r);const i=Mn(r,Ea,hH,{[Cm]:!0}),s=Mn(r,zp,pH,{[Zp]:!0}),o=Mn(n,Ea,Ca,{[FN]:!0});Mn(o,Aa,i),Mn(o,Ea,o),Mn(i,Aa,i),Mn(i,Ea,i);const a=Mn(n,zp,UN,{[BN]:!0});Mn(a,Ea),Mn(a,Aa,s),Mn(a,zp,a),Mn(s,Aa,s),Mn(s,Ea),Mn(s,zp,s);const l=Ge(n,qS,IT,{[$S]:!0}),c=Ge(n,YI,HN,{[$S]:!0}),u=Mn(n,HS,HN,{[$S]:!0});Ge(n,WS,u),Ge(c,qS,l),Ge(c,WS,u),Mn(c,HS,u),Ge(u,YI),Ge(u,qS),Mn(u,HS,u),Ge(u,WS,u);const d=Mn(n,VS,gH,{[fH]:!0});Ge(d,"#"),Mn(d,VS,d),Ge(d,w_e,d);const h=Ge(d,x_e);Ge(h,"#"),Mn(h,VS,d);const f=[[Ea,o],[Aa,i]],m=[[Ea,null],[zp,a],[Aa,s]];for(let g=0;g<lv.length;g++)kl(n,lv[g],$N,Ca,f);for(let g=0;g<cv.length;g++)kl(n,cv[g],VN,UN,m);yu($N,{tld:!0,ascii:!0},e),yu(VN,{utld:!0,alpha:!0},e),kl(n,"file",Wv,Ca,f),kl(n,"mailto",Wv,Ca,f),kl(n,"http",sf,Ca,f),kl(n,"https",sf,Ca,f),kl(n,"ftp",sf,Ca,f),kl(n,"ftps",sf,Ca,f),yu(Wv,{scheme:!0,ascii:!0},e),yu(sf,{slashscheme:!0,ascii:!0},e),t=t.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<t.length;g++){const v=t[g][0],w=t[g][1]?{[m_e]:!0}:{[g_e]:!0};v.indexOf("-")>=0?w[zN]=!0:Ea.test(v)?Aa.test(v)?w[Cm]=!0:w[FN]=!0:w[DN]=!0,JI(n,v,v,w)}return JI(n,"localhost",Ag,{ascii:!0}),n.jd=new Mi(Dw),{start:n,tokens:Object.assign({groups:e},yH)}}function vH(t,e){const n=S_e(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,h=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[o].length,h++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=h,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function S_e(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function kl(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Mi(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new Mi(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function XI(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Cg={defaultProtocol:"http",events:null,format:QI,formatHref:QI,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function BT(t,e=null){let n=Object.assign({},Cg);t&&(n=Object.assign(n,t instanceof BT?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}BT.prototype={o:Cg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Cg[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function QI(t){return t}function wH(t,e){this.t="token",this.v=t,this.tk=e}wH.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Cg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function tb(t,e){class n extends wH{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const ZI=tb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),eO=tb("text"),k_e=tb("nl"),uv=tb("url",{isLink:!0,toHref(t=Cg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ag&&t[1].t===Fl}}),As=t=>new Mi(t);function __e({groups:t}){const e=t.domain.concat([Nw,Aw,Ll,Cw,Tw,Pw,jw,Lw,Ts,RT,jm,Rw,Iw,Ow,Vo,Dw,Rm,Mw]),n=[Ew,Fl,OT,$o,MT,jm,Lm,DT,FT,mw,gw,Tm,Pm,fw,dw,hw,pw,yw,vw,ww,xw,bw,Sw,kw,_w],r=[Nw,Ew,Aw,Cw,Tw,Pw,jw,Lw,Ts,Tm,Pm,jm,Rw,Iw,Ow,Lm,Vo,Dw,Rm,Mw],i=As(),s=Ge(i,Rm);Mt(s,r,s),Mt(s,t.domain,s);const o=As(),a=As(),l=As();Mt(i,t.domain,o),Mt(i,t.scheme,a),Mt(i,t.slashscheme,l),Mt(o,r,s),Mt(o,t.domain,o);const c=Ge(o,Ll);Ge(s,Ll,c),Ge(a,Ll,c),Ge(l,Ll,c);const u=Ge(s,$o);Mt(u,r,s),Mt(u,t.domain,s);const d=As();Mt(c,t.domain,d),Mt(d,t.domain,d);const h=Ge(d,$o);Mt(h,t.domain,d);const f=As(ZI);Mt(h,t.tld,f),Mt(h,t.utld,f),Ge(c,Ag,f);const m=Ge(d,Ts);Ge(m,Ts,m),Mt(m,t.domain,d),Mt(f,t.domain,d),Ge(f,$o,h),Ge(f,Ts,m);const g=Ge(f,Fl);Mt(g,t.numeric,ZI);const v=Ge(o,Ts),y=Ge(o,$o);Ge(v,Ts,v),Mt(v,t.domain,o),Mt(y,r,s),Mt(y,t.domain,o);const w=As(uv);Mt(y,t.tld,w),Mt(y,t.utld,w),Mt(w,t.domain,o),Mt(w,r,s),Ge(w,$o,y),Ge(w,Ts,v),Ge(w,Ll,c);const b=Ge(w,Fl),N=As(uv);Mt(b,t.numeric,N);const C=As(uv),M=As();Mt(C,e,C),Mt(C,n,M),Mt(M,e,C),Mt(M,n,M),Ge(w,Vo,C),Ge(N,Vo,C);const B=Ge(a,Fl),z=Ge(l,Fl),F=Ge(z,Vo),G=Ge(F,Vo);Mt(a,t.domain,o),Ge(a,$o,y),Ge(a,Ts,v),Mt(l,t.domain,o),Ge(l,$o,y),Ge(l,Ts,v),Mt(B,t.domain,C),Ge(B,Vo,C),Ge(B,Lm,C),Mt(G,t.domain,C),Mt(G,e,C),Ge(G,Vo,C);const W=[[Tm,Pm],[dw,fw],[hw,pw],[mw,gw],[yw,vw],[ww,xw],[bw,Sw],[kw,_w]];for(let L=0;L<W.length;L++){const[V,E]=W[L],te=Ge(C,V);Ge(M,V,te),Ge(te,E,C);const pe=As(uv);Mt(te,e,pe);const re=As();Mt(te,n),Mt(pe,e,pe),Mt(pe,n,re),Mt(re,e,pe),Mt(re,n,re),Ge(pe,E,C),Ge(re,E,C)}return Ge(i,Ag,w),Ge(i,IT,k_e),{start:i,tokens:yH}}function N_e(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,h=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(KS(eO,e,o)),o=[]),i-=h,u-=h;const f=d.t,m=n.slice(i-u,i);s.push(KS(f,e,m))}}return o.length>0&&s.push(KS(eO,e,o)),s}function KS(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const E_e=typeof console<"u"&&console&&console.warn||(()=>{}),A_e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",xn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function C_e(){return Mi.groups={},xn.scanner=null,xn.parser=null,xn.tokenQueue=[],xn.pluginQueue=[],xn.customSchemes=[],xn.initialized=!1,xn}function tO(t,e=!1){if(xn.initialized&&E_e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${A_e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);xn.customSchemes.push([t,e])}function T_e(){xn.scanner=b_e(xn.customSchemes);for(let t=0;t<xn.tokenQueue.length;t++)xn.tokenQueue[t][1]({scanner:xn.scanner});xn.parser=__e(xn.scanner.tokens);for(let t=0;t<xn.pluginQueue.length;t++)xn.pluginQueue[t][1]({scanner:xn.scanner,parser:xn.parser});return xn.initialized=!0,xn}function zT(t){return xn.initialized||T_e(),N_e(xn.parser.start,t,vH(xn.scanner.start,t))}zT.scan=vH;function xH(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new BT(n),i=zT(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var UT="[\0- -\u2029]",P_e=new RegExp(UT),j_e=new RegExp(`${UT}$`),L_e=new RegExp(UT,"g");function R_e(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function I_e(t){return new Vn({key:new Tr("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=zV(n.doc,[...e]);if(KV(a).forEach(({newRange:c})=>{const u=pSe(r.doc,c,f=>f.isTextblock);let d,h;if(u.length>1)d=u[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const f=r.doc.textBetween(c.from,c.to," "," ");if(!j_e.test(f))return;d=u[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&h){const f=h.split(P_e).filter(Boolean);if(f.length<=0)return!1;const m=f[f.length-1],g=d.pos+h.lastIndexOf(m);if(!m)return!1;const v=zT(m).map(y=>y.toObject(t.defaultProtocol));if(!R_e(v))return!1;v.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{CT(y.from,y.to,r.doc).some(w=>w.mark.type===t.type)||o.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function O_e(t){return new Vn({key:new Tr("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;o=d.find(h=>h.nodeName==="A")}if(!o)return!1;const a=WV(e.state,t.type.name),l=(i=o==null?void 0:o.href)!=null?i:a.href,c=(s=o==null?void 0:o.target)!=null?s:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&l?(window.open(l,c),!0):!1}}})}function M_e(t){return new Vn({key:new Tr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=xH(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Jc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(L_e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var D_e=td.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){tO(t);return}tO(t.scheme,t.optionalSlashes)})},onDestroy(){C_e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Jc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Jc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Jc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",fr(this.options.HTMLAttributes,t),0]:["a",fr(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Jc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Jc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[zu({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=xH(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Jc(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(I_e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Jc(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(O_e({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(M_e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),F_e=Object.defineProperty,B_e=(t,e)=>{for(var n in e)F_e(t,n,{get:e[n],enumerable:!0})},z_e="listItem",nO="textStyle",rO=/^\s*([-+*])\s$/,bH=gs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(z_e,this.editor.getAttributes(nO)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=bh({find:rO,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=bh({find:rO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nO),editor:this.editor})),[t]}}),SH=gs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),a=e.parseChildren(o);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>LT(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),U_e={};B_e(U_e,{findListItemPos:()=>i0,getNextListDepth:()=>$T,handleBackspace:()=>qN,handleDelete:()=>WN,hasListBefore:()=>kH,hasListItemAfter:()=>$_e,hasListItemBefore:()=>_H,listItemHasSubList:()=>NH,nextListIsDeeper:()=>EH,nextListIsHigher:()=>AH});var i0=(t,e)=>{const{$from:n}=e.selection,r=dr(t,e.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},$T=(t,e)=>{const n=i0(t,e);if(!n)return!1;const[,r]=_Se(e,t,n.$pos.pos+4);return r},kH=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},_H=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},NH=(t,e,n)=>{if(!n)return!1;const r=dr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},qN=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!gc(t.state,e)&&kH(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((h,f)=>{h.type.name===e&&c.push({node:h,pos:f})});const u=c.at(-1);if(!u)return!1;const d=t.state.doc.resolve(l.start()+u.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!gc(t.state,e)||!CSe(t.state))return!1;const r=i0(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=NH(e,t.state,s);return _H(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},EH=(t,e)=>{const n=$T(t,e),r=i0(t,e);return!r||!n?!1:n>r.depth},AH=(t,e)=>{const n=$T(t,e),r=i0(t,e);return!r||!n?!1:n<r.depth},WN=(t,e)=>{if(!gc(t.state,e)||!ASe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:EH(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():AH(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},$_e=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},CH=hr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&WN(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&WN(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&qN(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&qN(t,n,r)&&(e=!0)}),e}}}}),iO=/^(\s*)(\d+)\.\s+(.*)$/,V_e=/^\s/;function H_e(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(iO);if(!s)break;const[,o,a,l]=s,c=o.length;let u=l,d=n+1;const h=[i];for(;d<t.length;){const f=t[d];if(f.match(iO))break;if(f.trim()==="")h.push(f),u+=`
`,d+=1;else if(f.match(V_e))h.push(f),u+=`
${f.slice(c+2)}`,d+=1;else break}e.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:h.join(`
`)}),r=d,n=d}return[e,r]}function TH(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const o=t[s];if(o.indent===e){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const f=n.blockTokens(u);c.push(...f)}let d=s+1;const h=[];for(;d<t.length&&t[d].indent>e;)h.push(t[d]),d+=1;if(h.length>0){const f=Math.min(...h.map(g=>g.indent)),m=TH(h,f,n);c.push({type:"list",ordered:!0,start:h[0].number,items:m,raw:h.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:c}),s=d}else s+=1}return i}function q_e(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var W_e="listItem",sO="textStyle",oO=/^(\d+)\.\s$/,PH=gs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",fr(this.options.HTMLAttributes,n),0]:["ol",fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?q_e(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,o]=H_e(i);if(s.length===0)return;const a=TH(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(W_e,this.editor.getAttributes(sO)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=bh({find:oO,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=bh({find:oO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sO)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),K_e=/^\s*(\[([( |x])?\])\s$/,G_e=gs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",fr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return LT(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,h;a.ariaLabel=((h=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:h.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const f=n();if(typeof f!="number")return!1;const m=h.doc.nodeAt(f);return h.setNodeMarkup(f,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{i.setAttribute(u,d)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([u,d])=>{i.setAttribute(u,d)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[bh({find:K_e,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),J_e=gs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",fr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const o=ON(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(s)},i=ON(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});hr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(bH.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(SH.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(CH.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(PH.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(G_e.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(J_e.configure(this.options.taskList)),t}});var Y_e=gs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",fr(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),X_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Q_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Z_e=td.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xh({find:X_e,type:this.type})]},addPasteRules(){return[zu({find:Q_e,type:this.type})]}}),eNe=gs.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),jH=td.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",fr(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),tNe=jH;function nNe(t={}){return new Vn({view(e){return new rNe(e,t)}})}class rNe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let d=e.nodeBefore,h=e.nodeAfter;if(d||h){let f=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(f){let m=f.getBoundingClientRect(),g=d?m.bottom:m.top;d&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*a;r={left:m.left,right:m.right,top:g-v,bottom:g+v}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*o;r={left:d.left-h,right:d.left+h,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),h=d.width/l.offsetWidth,f=d.height/l.offsetHeight;c=d.left-l.scrollLeft*h,u=d.top-l.scrollTop*f}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=L$(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Un extends Dt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Un.valid(r)?new Un(r):Dt.near(r)}content(){return nt.empty}eq(e){return e instanceof Un&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Un(e.resolve(n.pos))}getBookmark(){return new VT(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!iNe(e)||!sNe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Un.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Un.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ht.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Un.valid(a))return a}return null}}}Un.prototype.visible=!1;Un.findFrom=Un.findGapCursorFrom;Dt.jsonID("gapcursor",Un);class VT{constructor(e){this.pos=e}map(e){return new VT(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Un.valid(n)?new Un(n):Dt.near(n)}}function LH(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function iNe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||LH(i.type))return!0;if(i.inlineContent)return!1}}return!0}function sNe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||LH(i.type))return!0;if(i.inlineContent)return!1}}return!0}function oNe(){return new Vn({props:{decorations:uNe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Un.valid(n)?new Un(n):null},handleClick:lNe,handleKeyDown:aNe,handleDOMEvents:{beforeinput:cNe}}})}const aNe=LV({ArrowLeft:dv("horiz",-1),ArrowRight:dv("horiz",1),ArrowUp:dv("vert",-1),ArrowDown:dv("vert",1)});function dv(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof _t){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Un.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Un(c))),!0):!1}}function lNe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Un.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ht.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Un(r))),!0)}function cNe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Un))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=He.empty;for(let o=r.length-1;o>=0;o--)i=He.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new nt(i,0,0));return s.setSelection(_t.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function uNe(t){if(!(t.selection instanceof Un))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Tn.create(t.doc,[vi.widget(t.selection.head,e,{key:"gapcursor"})])}var Fw=200,Cr=function(){};Cr.prototype.append=function(e){return e.length?(e=Cr.from(e),!this.length&&e||e.length<Fw&&this.leafAppend(e)||this.length<Fw&&e.leafPrepend(this)||this.appendInner(e)):this};Cr.prototype.prepend=function(e){return e.length?Cr.from(e).append(this):this};Cr.prototype.appendInner=function(e){return new dNe(this,e)};Cr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Cr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Cr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Cr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Cr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Cr.from=function(e){return e instanceof Cr?e:e&&e.length?new RH(e):Cr.empty};var RH=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Fw)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Fw)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Cr);Cr.empty=new RH([]);var dNe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Cr);const fNe=500;class yo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Ho(d.map));let f=d.step.map(i.slice(s)),m;f&&o.maybeStep(f).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ho(m,void 0,void 0,c.length+u.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new yo(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new Ho(e.mapping.maps[u],d,n),f;(f=l&&l.merge(h))&&(h=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let c=o-r.depth;return c>pNe&&(a=hNe(a,c),o-=c),new yo(a.append(s),o)}remapping(e,n){let r=new xg;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new yo(this.items.append(e.map(n=>new Ho(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let m=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),v=h.selection&&h.selection.map(s.slice(l+1,f));v&&a++,r.push(new Ho(m,g,v))}else r.push(new Ho(m))},i);let c=[];for(let h=n;h<o;h++)c.push(new Ho(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new yo(u,a);return d.emptyItemCount()>fNe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Ho(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&r--},this.items.length,0),new yo(Cr.from(i.reverse()),s)}}yo.empty=new yo(Cr.empty,0);function hNe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ho{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ho(n.getMap().invert(),n,this.selection)}}}class Rl{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const pNe=20;function mNe(t,e,n,r){let i=n.getMeta(Cu),s;if(i)return i.historyState;n.getMeta(vNe)&&(t=new Rl(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Cu))return o.getMeta(Cu).redo?new Rl(t.done.addTransform(n,void 0,r,Kv(e)),t.undone,aO(n.mapping.maps),t.prevTime,t.prevComposition):new Rl(t.done,t.undone.addTransform(n,void 0,r,Kv(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!gNe(n,t.prevRanges)),c=o?GS(t.prevRanges,n.mapping):aO(n.mapping.maps);return new Rl(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Kv(e)),yo.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Rl(t.done.rebased(n,s),t.undone.rebased(n,s),GS(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Rl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),GS(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function gNe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function aO(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function GS(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function yNe(t,e,n){let r=Kv(e),i=Cu.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Rl(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Cu,{redo:n,historyState:l})}let JS=!1,lO=null;function Kv(t){let e=t.plugins;if(lO!=e){JS=!1,lO=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){JS=!0;break}}return JS}const Cu=new Tr("history"),vNe=new Tr("closeHistory");function wNe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Vn({key:Cu,state:{init(){return new Rl(yo.empty,yo.empty,null,0,-1)},apply(e,n,r){return mNe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?OH:r=="historyRedo"?MH:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function IH(t,e){return(n,r)=>{let i=Cu.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=yNe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const OH=IH(!1,!0),MH=IH(!0,!0);hr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Vn({key:new Tr("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var xNe=hr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nNe(this.options)]}});hr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Vn({key:new Tr("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Tn.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(vi.node(c,c+l.nodeSize,{class:this.options.className}))}),Tn.create(t,s)}}})]}});var bNe=hr.create({name:"gapCursor",addProseMirrorPlugins(){return[oNe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=en(ft(t,"allowGapCursor",n)))!=null?e:null}}}),SNe=hr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Vn({key:new Tr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Xx(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=vi.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Tn.create(t,i)}}})]}});hr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Vn({key:new Tr("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||GV(n.selection)||t.view.dragging?null:Tn.create(n.doc,[vi.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function cO({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var kNe=hr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Tr(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Vn({key:e,appendTransaction:(i,s,o)=>{const{doc:a,tr:l,schema:c}=o,u=e.getState(o),d=a.content.size,h=c.nodes[n];if(u)return l.insert(d,h.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!cO({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged)return s;const o=i.doc.lastChild;return!cO({node:o,types:r})}}})]}}),_Ne=hr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>OH(t,e),redo:()=>({state:t,dispatch:e})=>MH(t,e)}},addProseMirrorPlugins(){return[wNe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),NNe=hr.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(Xke.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Wke.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(bH.configure(this.options.bulletList)),this.options.code!==!1&&i.push(e_e.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(r_e.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(i_e.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(xNe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(bNe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(s_e.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(o_e.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(_Ne.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(a_e.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(f_e.configure(this.options.italic)),this.options.listItem!==!1&&i.push(SH.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(CH.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(D_e.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(PH.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Y_e.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Z_e.configure(this.options.strike)),this.options.text!==!1&&i.push(eNe.configure(this.options.text)),this.options.underline!==!1&&i.push(jH.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(kNe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),ENe=NNe,ANe=SNe;const uO=t=>!t||t.trim().length===0?"<p></p>":t.split(/\n{2,}/).map(e=>`<p>${e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")}</p>`).join(""),dO=t=>t?t.replace(/<\/?p>/g,`
`).replace(/<br\s*\/?>(?=\n?)/g,`
`).replace(/<[^>]+>/g,"").replace(/\u00a0/g," ").replace(/\n{3,}/g,`

`).trim():"";function CNe({value:t,onChange:e,readOnly:n=!1,placeholder:r,className:i}){const s=$.useMemo(()=>uO(t),[t]),o=Uke({content:s,editable:!n,extensions:[ENe.configure({heading:{levels:[1,2,3]},bulletList:{keepMarks:!0},orderedList:{keepMarks:!0}}),tNe,ANe.configure({placeholder:r||"Start drafting your legal document"})],onUpdate({editor:a}){const l=dO(a.getHTML());e(l)}});return $.useEffect(()=>{if(!o)return;dO(o.getHTML())!==t&&o.commands.setContent(uO(t),!1)},[t,o]),$.useEffect(()=>{o&&o.setEditable(!n)},[n,o]),p.jsx("div",{className:`legal-editor ${n?"legal-editor--readonly":""} ${i||""}`.trim(),children:p.jsx(Ike,{editor:o})})}const YS=[{id:"lod-standard",name:"Letter of Demand  Outstanding Invoices",category:"Litigation",documentType:"Letter of Demand",summary:"Standard letter of demand requiring payment of outstanding professional fees with notice of intended legal action.",defaultDescription:"Our firm has been instructed to demand settlement of the outstanding professional fees owing to our client.",content:`HAKICHAIN ADVOCATES LLP
1ST FLOOR, HAKI TOWERS, PARLIAMENT ROAD, NAIROBI
P.O. BOX 12345-00100 NAIROBI | TEL: +254 700 000000 | EMAIL: INFO@HAKICHAIN.COM

11 July 2025

______________________________
______________________________
______________________________

RE: OUTSTANDING PROFESSIONAL FEES

1. TAKE NOTICE that you are lawfully indebted to our client in the sum of Kenya Shillings ___________ being outstanding professional fees for legal services rendered between ___________ and ___________.

2. DESPITE repeated reminders and demand, the entire sum remains unpaid beyond the agreed payment period.

3. WE ARE INSTRUCTED to demand, as we hereby do, immediate settlement of the aforesaid sum within seven (7) days from the date hereof together with any applicable interest pursuant to the retainer agreement.

4. TAKE FURTHER NOTICE that in default of compliance we hold firm instructions to institute recovery proceedings without further reference to you and at your risk as to costs and consequences.

Yours faithfully,

______________________________
For: HAKICHAIN ADVOCATES LLP`},{id:"nda-startup",name:"Mutual NDA  Early Stage Venture",category:"Corporate / Business",documentType:"Non-Disclosure Agreement",summary:"Mutual non-disclosure agreement for preliminary commercial discussions between a start-up and investor.",defaultDescription:"Mutual NDA covering confidential information exchanged during preliminary venture and investment discussions.",content:`HAKICHAIN ADVOCATES LLP
1ST FLOOR, HAKI TOWERS, PARLIAMENT ROAD, NAIROBI
P.O. BOX 12345-00100 NAIROBI | TEL: +254 700 000000 | EMAIL: INFO@HAKICHAIN.COM

11 July 2025

NON-DISCLOSURE AGREEMENT

1. PARTIES: This Agreement is made between ____________________ of ____________________ ("Party A") and ____________________ of ____________________ ("Party B").

2. PURPOSE: The Parties wish to explore a potential commercial relationship concerning ____________________ and anticipate disclosure of proprietary information.

3. CONFIDENTIAL INFORMATION: Each Party undertakes to keep strictly confidential all non-public technical, financial, commercial or strategic information disclosed by the other Party in any form.

4. OBLIGATIONS: Confidential Information shall be used solely for the Purpose, kept secure, disclosed only to personnel with a need to know, and returned or destroyed upon request.

5. TERM: This Agreement commences on the Effective Date and remains in force for three (3) years. Obligations of confidentiality survive termination for a further three (3) years.

6. GOVERNING LAW: This Agreement is governed by the laws of the Republic of Kenya and the Parties submit to the exclusive jurisdiction of the High Court of Kenya.

SIGNED by the Parties on the date appearing above.

______________________________
Party A Signature

______________________________
Party B Signature`}],KN=t=>new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t),TNe=t=>{const e=new Date(t.createdAt);return KN(e)},PNe=["General Documents","Litigation","Corporate / Business","Real Estate / Property","Family Law","Succession / Estate","Employment / Labor","Intellectual Property","Immigration","Regulatory / Compliance","Academic / Legal Research"],jNe={"General Documents":["Letter of Demand","Affidavit","Power of Attorney","Statutory Declaration"],Litigation:["Statement of Claim","Statement of Defense","Notice of Motion","Submissions"],"Corporate / Business":["Memorandum of Association","Articles of Association","Shareholders Agreement","Board Resolution"],"Real Estate / Property":["Sale Agreement","Lease Agreement","Transfer Documents","Charge Documents"],"Family Law":["Divorce Petition","Custody Agreement","Maintenance Order","Prenuptial Agreement"],"Succession / Estate":["Will","Grant of Probate","Letters of Administration","Succession Cause"],"Employment / Labor":["Employment Contract","Termination Letter","Non-Disclosure Agreement","Non-Compete Agreement"],"Intellectual Property":["Trademark Application","Patent Application","Copyright Assignment","License Agreement"],Immigration:["Work Permit Application","Visa Application","Citizenship Application","Appeal Letter"],"Regulatory / Compliance":["Compliance Certificate","Regulatory Submission","Audit Report","Complaint Response"],"Academic / Legal Research":["Legal Opinion","Research Memorandum","Case Summary","Legislative Brief"]};function LNe(){var re;const{getProcessState:t,updateProcessState:e}=iA(),n=t("hakiDraft"),{showTour:r,category:i,documentType:s,clientName:o,caseType:a,description:l,jurisdiction:c,generating:u,generatedDoc:d,editorContent:h,templateId:f,versions:m,lastSavedVersionId:g,approvedVersionId:v,error:y}=n,{isFullView:w,toggleFullView:b}=hC("hakidraft-full-view"),[N,C]=$.useState(!1),M=$.useMemo(()=>YS.find(K=>K.id===f),[f]),B=$.useMemo(()=>[...m].sort((K,Y)=>new Date(Y.createdAt).getTime()-new Date(K.createdAt).getTime()),[m]),z=h??d??"",F=z.trim().length>0,G=$.useCallback(K=>{if(!K){e("hakiDraft",{templateId:void 0});return}const Y=YS.find(q=>q.id===K);if(!Y){e("hakiDraft",{templateId:void 0});return}e("hakiDraft",q=>({...q,templateId:Y.id,category:Y.category||q.category,documentType:Y.documentType||q.documentType,description:Y.defaultDescription||q.description,generatedDoc:Y.content,editorContent:Y.content,lastSavedVersionId:null,approvedVersionId:null,error:null})),Ii({title:"Template loaded",description:Y.summary})},[e]),W=$.useCallback(K=>{e("hakiDraft",{editorContent:K})},[e]),L=$.useCallback(K=>{let Y,q=!1;if(e("hakiDraft",de=>{const T=(de.editorContent||de.generatedDoc||"").trim();if(!T)return q=!0,de;const R=new Date,J=`${R.getTime()}`,ae=`${de.documentType||"Draft"}  ${KN(R)}`,Q={id:J,title:ae,content:T,createdAt:R.toISOString(),templateId:de.templateId,documentType:de.documentType,approved:!1};return Y=J,{...de,versions:[Q,...de.versions],lastSavedVersionId:J}}),q){Ii({title:"Nothing to save",description:"Generate or edit the draft before saving a version."});return}return Y&&!(K!=null&&K.silent)&&Ii({title:"Version saved",description:"Snapshot added to the history timeline."}),Y},[e]),V=$.useCallback(K=>{const Y=m.find(q=>q.id===K);Y&&(e("hakiDraft",q=>({...q,editorContent:Y.content,generatedDoc:Y.content,lastSavedVersionId:K})),Ii({title:"Version restored",description:Y.title}))},[e,m]),E=$.useCallback(()=>{let K=g;K||(K=L({silent:!0})),K&&(e("hakiDraft",Y=>({...Y,approvedVersionId:K,versions:Y.versions.map(q=>q.id===K?{...q,approved:!0}:{...q,approved:!1})})),Ii({title:"Version approved",description:"Marked as the client-ready draft."}),C(!0))},[L,g,e]);$.useEffect(()=>(console.log("[HakiDraft] mounted"),()=>{console.log("[HakiDraft] unmounted")}),[]),$.useEffect(()=>{console.log("[HakiDraft] state updated",n)},[n]);const te=K=>{e("hakiDraft",Y=>{const de=Y.jurisdiction.includes(K)?Y.jurisdiction.filter(T=>T!==K):[...Y.jurisdiction,K];return{...Y,jurisdiction:de}})},pe=async()=>{if(!i||!s||!o){alert("Please fill in required fields (Category, Document Type, and Client Name)");return}e("hakiDraft",{generating:!0,error:null,generatedDoc:""});try{const K=`Generate a professional legal document with the following specifications:

Document Type: ${s}
Category: ${i}
Jurisdiction(s): ${c.join(", ")}
Client Name: ${o}
${a?`Case Type: ${a}`:""}
${l?`Case Description: ${l}`:""}

Requirements:
1. Generate a complete, professionally formatted ${s} document
2. Include all standard clauses and provisions relevant to ${i}
3. Ensure compliance with ${c.join(" and ")} legal requirements
4. Include proper headers, date (${new Date().toLocaleDateString()}), and client information
5. Make the document ready for use by legal professionals
6. Include placeholders where specific details need to be filled in (e.g., [PARTY NAME], [AMOUNT], [DATE])
7. Follow proper legal document structure and formatting

Generate the complete document now:`,Y=await cre(K);if(Y.error)e("hakiDraft",{error:Y.error,generatedDoc:""});else if(Y.content){const q=r$(Y.content),de=cxe({documentTitle:s||"Legal Document",firmName:void 0,firmAddress:void 0,firmContact:void 0,recipientName:o||void 0,recipientAddress:l||void 0,subject:a||s,body:q,signerName:"____________________",signerTitle:"For: ____________________"});e("hakiDraft",T=>{const R=new Date,J=`${R.getTime()}`,ae=`${s||T.documentType||"Draft"}  ${KN(R)}`,Q={id:J,title:ae,content:de,createdAt:R.toISOString(),templateId:T.templateId,documentType:s||T.documentType,approved:!1};return{...T,generatedDoc:de,editorContent:de,error:null,versions:[Q,...T.versions],lastSavedVersionId:J,approvedVersionId:null}})}else e("hakiDraft",{error:"No content generated. Please try again.",generatedDoc:""})}catch(K){e("hakiDraft",{error:K instanceof Error?K.message:"An unexpected error occurred. Please check your API configuration.",generatedDoc:""})}finally{e("hakiDraft",{generating:!1})}};return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[r&&p.jsx(Xu,{onComplete:()=>e("hakiDraft",{showTour:!1})}),p.jsx(Ec,{onTourStart:()=>e("hakiDraft",{showTour:!0})}),p.jsx(Mr.div,{className:"flex-1 ml-[280px] p-8",layout:!0,children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-purple-600 rounded-lg flex items-center justify-center",children:p.jsx(uA,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Document Generator"}),p.jsx("p",{className:"text-gray-600",children:"Generate professional legal documents with AI assistance"})]})]}),p.jsx(fC,{isFullView:w,onToggle:b})]}),p.jsx(Mr.div,{layout:!0,className:"flex flex-col gap-8",children:p.jsxs(Mr.div,{layout:!0,className:"flex flex-col lg:flex-row gap-8",children:[p.jsx(ih,{initial:!1,mode:"sync",children:!w&&p.jsx(Mr.div,{layout:!0,initial:{opacity:0,x:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4,ease:"easeInOut"},className:"w-full lg:w-1/2",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Document Configuration"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"template-preset",children:"Load Template"}),p.jsxs("select",{id:"template-preset",value:f??"",onChange:K=>G(K.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",children:[p.jsx("option",{value:"",children:"Select a preset (optional)"}),YS.map(K=>p.jsx("option",{value:K.id,children:K.name},K.id))]}),M&&p.jsx("p",{className:"mt-2 text-xs text-gray-500 leading-relaxed",children:M.summary})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"document-category",children:"Document Category *"}),p.jsxs("select",{id:"document-category",value:i,onChange:K=>{e("hakiDraft",{category:K.target.value,documentType:""})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",children:[p.jsx("option",{value:"",children:"Select document category"}),PNe.map(K=>p.jsx("option",{value:K,children:K},K))]})]}),i&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"document-type",children:"Document Type *"}),p.jsxs("select",{id:"document-type",value:s,onChange:K=>e("hakiDraft",{documentType:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",children:[p.jsx("option",{value:"",children:"Select document type"}),(re=jNe[i])==null?void 0:re.map(K=>p.jsx("option",{value:K,children:K},K))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"client-name",children:"Client Name *"}),p.jsx("input",{id:"client-name",type:"text",value:o,onChange:K=>e("hakiDraft",{clientName:K.target.value}),placeholder:"Enter client full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"case-type",children:"Case Type"}),p.jsx("input",{id:"case-type",type:"text",value:a,onChange:K=>e("hakiDraft",{caseType:K.target.value}),placeholder:"e.g., Civil, Criminal, Family Law",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"case-description",children:"Case Description"}),p.jsx("textarea",{id:"case-description",value:l,onChange:K=>e("hakiDraft",{description:K.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"})]}),p.jsx("div",{children:p.jsxs("fieldset",{className:"space-y-2",children:[p.jsx("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jurisdiction"}),["Kenya","Uganda","Nigeria","Ghana"].map(K=>p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:c.includes(K),onChange:()=>te(K),className:"w-4 h-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded"}),p.jsx("span",{className:"ml-2 text-sm text-gray-700",children:K})]},K))]})}),p.jsx("button",{onClick:pe,disabled:u,className:"w-full py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-medium hover:from-pink-600 hover:to-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Generating...":"Generate Document"})]})},"hakidraft-config")}),p.jsx(Mr.div,{layout:!0,transition:{duration:.4,ease:"easeInOut"},className:`w-full ${w?"":"lg:w-1/2"}`,children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-full flex flex-col",children:[p.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Draft Workspace"}),M&&p.jsxs("p",{className:"text-sm text-gray-500",children:["Template: ",M.name]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs("button",{onClick:()=>L(),disabled:!F,className:"inline-flex items-center gap-1.5 rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 hover:border-teal-400 hover:text-teal-600 disabled:cursor-not-allowed disabled:opacity-40",children:[p.jsx(lF,{className:"h-4 w-4"}),"Save Version"]}),p.jsxs("button",{onClick:E,disabled:!F,className:"inline-flex items-center gap-1.5 rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 hover:border-teal-400 hover:text-teal-600 disabled:cursor-not-allowed disabled:opacity-40",children:[p.jsx(rh,{className:"h-4 w-4"}),"Mark Approved"]}),p.jsxs("button",{onClick:()=>C(K=>!K),className:"inline-flex items-center gap-1.5 rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 hover:border-teal-400 hover:text-teal-600",children:[p.jsx(cQ,{className:"h-4 w-4"}),N?"Hide History":"Version History"]})]})]}),y&&p.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Th,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-red-900 mb-1",children:"Generation Error"}),p.jsx("p",{className:"text-sm text-red-700",children:y}),p.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please check your API configuration in the .env file."})]})]})}),p.jsx("div",{className:"flex-1",children:F?p.jsx(CNe,{value:z,onChange:W}):p.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 border border-dashed border-gray-300 rounded-lg bg-gray-50",children:[p.jsx(qs,{className:"w-16 h-16 text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Generate"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Fill in the form, load a template, or begin drafting directly in the editor."})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[p.jsxs(Jwe,{children:[p.jsx(Ywe,{asChild:!0,children:p.jsx("button",{className:"flex-1 px-4 py-2 bg-gradient-to-r from-teal-600 to-blue-600 text-white rounded-lg hover:from-teal-700 hover:to-blue-700 font-medium transition disabled:cursor-not-allowed disabled:opacity-60",disabled:!F,children:"Export"})}),p.jsxs(Xwe,{className:"w-48",children:[p.jsxs(ev,{onClick:()=>{const K=z.trim();if(!K){Ii({title:"Nothing to export",description:"Add or generate content before exporting."});return}v9(K,`${s||"hakidraft-document"}.pdf`),Ii({title:"Exported",description:"Document saved as PDF."})},children:[p.jsx(sF,{className:"h-4 w-4"})," Export as PDF"]}),p.jsxs(ev,{onClick:async()=>{const K=z.trim();if(!K){Ii({title:"Nothing to export",description:"Add or generate content before exporting."});return}await w9(K,`${s||"hakidraft-document"}.docx`),Ii({title:"Exported",description:"Document saved as DOCX."})},children:[p.jsx(qs,{className:"h-4 w-4"})," Export as DOCX"]}),p.jsxs(ev,{onClick:()=>{const K=z.trim();if(!K){Ii({title:"Nothing to send",description:"Add or generate content before sending."});return}const Y=qme(K);Y.sent&&Y.email&&Ii({title:"Sent",description:`Document sent to ${Y.email}`})},children:[p.jsx(sx,{className:"h-4 w-4"})," Send to Email"]}),p.jsxs(ev,{onClick:()=>{const K=z.trim();if(!K){Ii({title:"Nothing to send",description:"Add or generate content before sending."});return}Wme(K),Ii({title:"Sent",description:"Sent to HakiDocs (dev mode)."})},children:[p.jsx(wQ,{className:"h-4 w-4"})," Send to HakiDocs"]})]})]}),p.jsx("button",{onClick:()=>e("hakiDraft",K=>({...K,generatedDoc:"",editorContent:"",error:null,lastSavedVersionId:null,approvedVersionId:null})),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Clear"})]}),p.jsx(ih,{initial:!1,children:N&&p.jsxs(Mr.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"easeOut"},className:"border border-gray-200 rounded-lg bg-gray-50 p-4 max-h-72 overflow-y-auto space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Version History"}),p.jsx("button",{onClick:()=>C(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Close"})]}),B.length===0?p.jsx("p",{className:"text-xs text-gray-500",children:"No saved versions yet."}):B.map(K=>{var de;const Y=K.id===g,q=K.id===v;return p.jsx("div",{className:`rounded-lg border px-3 py-3 text-sm shadow-sm ${q?"border-teal-500 bg-teal-50":Y?"border-blue-300 bg-blue-50":"border-gray-200 bg-white"}`,children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsxs("div",{className:"flex items-start justify-between gap-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-gray-900",children:K.title}),p.jsx("p",{className:"text-xs text-gray-500",children:TNe(K)})]}),p.jsx("button",{onClick:()=>V(K.id),className:"text-xs font-medium text-teal-700 hover:text-teal-900",children:"Restore"})]}),p.jsx("p",{className:"text-xs text-gray-600 overflow-hidden text-ellipsis",children:((de=K.content.split("\\n").find(T=>T.trim().length>0))==null?void 0:de.slice(0,160))||""}),q&&p.jsxs("p",{className:"mt-2 inline-flex items-center gap-1 text-xs font-semibold text-teal-700",children:[p.jsx(rh,{className:"h-3.5 w-3.5"})," Approved version"]})]})},K.id)})]},"history")})]})},"hakidraft-output")]})})]})})]})}function RNe(){var L;const{state:t,updateProcessState:e}=iA(),n=t.hakiReview,r=x9(),{showTour:i,message:s,activeTab:o,uploadedFile:a,uploadedFileContent:l,chatMessages:c,isLoading:u}=n,d=$.useRef(null),h=6e3,{isFullView:f,toggleFullView:m}=hC("hakireview-full-chat"),[g,v]=$.useState(null),[y,w]=$.useState(""),b=$.useMemo(()=>{const V=[];return c.forEach(E=>{if(E.sender!=="bot"||!E.text)return;E.text.split(`
`).forEach(pe=>{const re=pe.trim();if(!re)return;const K=re.replace(/^#+\s*/,"");(/^(clause|section|article)/i.test(K)||/^[0-9]+(\.[0-9]+)*\s/.test(K))&&V.push({id:E.id,title:K.slice(0,120)})})}),V},[c]);$.useEffect(()=>(console.log("[HakiReview] mounted"),()=>{console.log("[HakiReview] unmounted")}),[]),$.useEffect(()=>{console.log("[HakiReview] state updated",n)},[n]),$.useEffect(()=>{var V;(V=d.current)==null||V.scrollIntoView({behavior:"smooth"})},[c]);const N=$.useRef(n.uploadedFileUrl);$.useEffect(()=>{N.current=n.uploadedFileUrl},[n.uploadedFileUrl]),$.useEffect(()=>()=>{N.current&&URL.revokeObjectURL(N.current)},[]);const C=async(V,E)=>{if(V.type==="application/pdf"||V.name.toLowerCase().endsWith(".pdf")){const pe=await Bs(()=>import("./pdf-BnPRJEQ6.js"),[]),re=await Bs(()=>import("./pdf.worker-rRTVGHQx.js"),[]);pe.GlobalWorkerOptions.workerSrc=re.default||re;const K=new Uint8Array(E),Y=await pe.getDocument({data:K}).promise;let q="";for(let de=1;de<=Y.numPages;de++){const R=await(await Y.getPage(de)).getTextContent();if(q+=R.items.map(J=>J.str).join(" ")+`
`,q.length>=h*1.2)break}return q}if(V.name.toLowerCase().endsWith(".docx")){const pe=await Bs(()=>import("./index-BnUEY4jg.js").then(K=>K.i),[]),{value:re}=await pe.extractRawText({arrayBuffer:E});return re}return new TextDecoder("utf-8").decode(E)},M=async V=>{var te;const E=(te=V.target.files)==null?void 0:te[0];if(E)try{const pe=await E.arrayBuffer(),re=new Blob([pe],{type:E.type||"application/octet-stream"}),K=await C(E,pe),Y=URL.createObjectURL(re);n.uploadedFileUrl&&URL.revokeObjectURL(n.uploadedFileUrl),e("hakiReview",q=>{const de={id:Date.now().toString(),text:`I've ingested "${E.name}". Ask me anything about it.`,sender:"bot",timestamp:new Date};return{...q,uploadedFile:E.name,uploadedFileContent:K.slice(0,h),uploadedFileBuffer:pe,uploadedFileType:E.type,uploadedFileUrl:Y,chatMessages:[...q.chatMessages,de]}})}catch(pe){e("hakiReview",re=>({...re,chatMessages:[...re.chatMessages,{id:Date.now().toString(),text:`Failed to read "${E.name}": ${pe instanceof Error?pe.message:"Unknown error"}`,sender:"bot",timestamp:new Date,error:!0}]}))}},B=async()=>{if(!s.trim()||u)return;const V={id:Date.now().toString(),text:s,sender:"user",timestamp:new Date};e("hakiReview",te=>({...te,chatMessages:[...te.chatMessages,V],message:"",isLoading:!0}));const E=(Date.now()+1).toString();e("hakiReview",te=>({...te,chatMessages:[...te.chatMessages,{id:E,text:"Analyzing...",sender:"bot",timestamp:new Date}]}));try{const te=`You are an AI document review assistant specializing in legal documents. 
You help lawyers review, analyze, and understand legal documents. 
${a?`The user has uploaded a document: ${a}.`:"No document has been uploaded yet."}
Provide clear, accurate analysis and suggestions for legal documents. Base your responses only on the provided context and user messages.`,pe=l?`Here is the document context (truncated to ${h} characters):
${l}`:"",re=await WA(pe?`${pe}

User question:
${V.text}`:V.text,te);e("hakiReview",K=>{var q;const Y=K.chatMessages.filter(de=>de.id!==E);return re.error?{...K,chatMessages:[...Y,{id:(Date.now()+2).toString(),text:`Error: ${re.error}

Please check your API configuration.`,sender:"bot",timestamp:new Date,error:!0}],isLoading:!1}:{...K,chatMessages:[...Y,{id:(Date.now()+2).toString(),text:((q=re.content)==null?void 0:q.trim())||"I apologize, but I couldn't generate a response. Please try again.",sender:"bot",timestamp:new Date}],isLoading:!1}})}catch(te){e("hakiReview",pe=>{const re=pe.chatMessages.filter(K=>K.id!==E);return{...pe,chatMessages:[...re,{id:(Date.now()+2).toString(),text:`An unexpected error occurred: ${te instanceof Error?te.message:"Unknown error"}. Please try again.`,sender:"bot",timestamp:new Date,error:!0}],isLoading:!1}})}},z=V=>{v(V),w(n.annotations[V]||"")},F=()=>{if(!g)return;const V=y.trim();e("hakiReview",E=>{const te={...E.annotations};return V?te[g]=V:delete te[g],{...E,annotations:te}}),r({title:V?"Annotation saved":"Annotation removed",description:V?"Your note is now pinned to this clause.":"The note has been cleared.",variant:V?"success":"warning"}),v(null),w("")},G=()=>{v(null),w("")},W=V=>{const E=document.getElementById(`message-${V}`);E&&(E.scrollIntoView({behavior:"smooth",block:"start"}),E.classList.add("ring-2","ring-teal-500/70","ring-offset-2"),window.setTimeout(()=>{E.classList.remove("ring-2","ring-teal-500/70","ring-offset-2")},1600))};return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[i&&p.jsx(Xu,{onComplete:()=>e("hakiReview",{showTour:!1})}),p.jsx(Ec,{onTourStart:()=>e("hakiReview",{showTour:!0})}),p.jsx(Mr.div,{className:"flex-1 ml-[280px] p-8",layout:!0,children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"mb-8 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg flex items-center justify-center",children:p.jsx(oA,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiReview"}),p.jsx("p",{className:"text-gray-600",children:"AI-powered document analysis and legal review"})]})]}),p.jsx(fC,{isFullView:f,onToggle:m})]}),p.jsx(Mr.div,{layout:!0,className:"flex flex-col gap-8",children:p.jsxs(Mr.div,{layout:!0,className:"flex flex-col lg:flex-row gap-8",children:[p.jsx(ih,{initial:!1,mode:"sync",children:!f&&p.jsx(Mr.div,{layout:!0,initial:{opacity:0,x:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4,ease:"easeInOut"},className:"w-full lg:w-[55%]",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Document Preview"}),a?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:a}),p.jsxs("p",{className:"text-sm text-gray-500",children:[n.uploadedFileType||"Document"," "," ",Math.min(l.length,h)," characters indexed"]})]}),p.jsx(dA,{icon:p.jsx(qs,{className:"h-3 w-3"}),children:"Preview"})]}),n.uploadedFileUrl&&((L=n.uploadedFileType)!=null&&L.includes("pdf"))?p.jsx("iframe",{src:n.uploadedFileUrl,title:"Document preview",className:"w-full h-[420px] rounded-lg border border-gray-200 shadow-inner"}):p.jsx("div",{className:"border border-gray-200 rounded-lg p-4 h-[420px] overflow-y-auto bg-gray-50",children:p.jsx(F_,{content:l})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("button",{onClick:()=>{n.uploadedFileUrl&&URL.revokeObjectURL(n.uploadedFileUrl),e("hakiReview",V=>({...V,uploadedFile:null,uploadedFileContent:"",uploadedFileBuffer:void 0,uploadedFileType:void 0,uploadedFileUrl:void 0}))},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Remove File"}),n.uploadedFileUrl&&p.jsx("a",{href:n.uploadedFileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-teal-600 hover:text-teal-700 font-medium",children:"Open in new tab"})]})]}):p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:[p.jsx(uF,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop your PDF, DOCX, or DOC file here"}),p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),p.jsxs("label",{className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 cursor-pointer inline-block",children:["Select File",p.jsx("input",{type:"file",accept:".pdf,.docx,.doc",onChange:M,className:"hidden"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Supported formats: PDF, DOCX, DOC"})]})]})},"hakireview-document")}),p.jsx(Mr.div,{layout:!0,transition:{duration:.4,ease:"easeInOut"},className:`w-full ${f?"":"lg:flex-1"}`,children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 h-full flex flex-col",children:[p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsxs("button",{onClick:()=>e("hakiReview",{activeTab:"chat"}),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${o==="chat"?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[p.jsx(ox,{className:"w-4 h-4"}),"Chat"]}),p.jsxs("button",{onClick:()=>e("hakiReview",{activeTab:"edit"}),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${o==="edit"?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[p.jsx(mP,{className:"w-4 h-4"}),"Edit"]}),p.jsxs("button",{onClick:()=>e("hakiReview",{activeTab:"esign"}),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${o==="esign"?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[p.jsx(pP,{className:"w-4 h-4"}),"E-Sign"]})]}),o==="chat"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:[c.map(V=>{const E=V.sender==="bot"&&!V.error,te=n.annotations[V.id];return p.jsx("div",{className:`flex ${V.sender==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{id:`message-${V.id}`,className:`max-w-[85%] px-4 py-3 rounded-lg transition ring-offset-2 ${V.sender==="user"?"bg-blue-600 text-white rounded-br-none":V.error?"bg-red-100 text-red-800 rounded-bl-none border border-red-300":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:[V.error?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx(Th,{className:"w-3 h-3"}),p.jsx("p",{className:"text-xs font-semibold",children:"Error"})]}),p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:V.text})]}):V.sender==="bot"?p.jsx(F_,{content:V.text}):p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:V.text}),p.jsx("p",{className:`text-xs mt-2 opacity-70 ${V.sender==="user"?"text-blue-100":"text-gray-600"}`,children:V.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),E&&p.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[te&&p.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-teal-700 bg-teal-50 border border-teal-200 px-2 py-1 rounded-full",children:[p.jsx(yP,{className:"h-3.5 w-3.5"}),"Note attached"]}),p.jsxs("button",{onClick:()=>z(V.id),className:"ml-auto inline-flex items-center gap-1 text-xs text-teal-700 hover:text-teal-900 focus:outline-none",children:[p.jsx(yP,{className:"h-3.5 w-3.5"}),te?"Edit note":"Add note"]})]}),te&&p.jsx("div",{className:"mt-2 rounded-lg border border-teal-200 bg-white/70 px-3 py-2 text-xs text-teal-900",children:te}),g===V.id&&p.jsxs("div",{className:"mt-3 space-y-2",children:[p.jsx("textarea",{value:y,onChange:pe=>w(pe.target.value),rows:3,className:"w-full rounded-lg border border-teal-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400",placeholder:"Add your legal analysis, follow-up, or to-do..."}),p.jsxs("div",{className:"flex justify-end gap-2 text-sm",children:[p.jsx("button",{onClick:G,className:"px-3 py-1.5 text-gray-600 hover:text-gray-800",children:"Cancel"}),p.jsx("button",{onClick:F,className:"px-3 py-1.5 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Save note"})]})]})]})},V.id)}),p.jsx("div",{ref:d})]}),p.jsx("div",{className:"pt-4",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:s,onChange:V=>e("hakiReview",{message:V.target.value}),onKeyDown:V=>V.key==="Enter"&&B(),placeholder:"Ask me about your document...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u}),p.jsx("button",{onClick:B,disabled:u||!s.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx(ax,{className:"w-4 h-4"})})]})})]}),o==="edit"&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(mP,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Document Editor"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Upload a document to start editing"})]}),o==="esign"&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(pP,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Electronic Signature"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Upload a document to add signatures"})]})]})},"hakireview-chat"),p.jsx(ih,{initial:!1,mode:"sync",children:!f&&b.length>0&&p.jsx(Mr.div,{layout:!0,initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:40},transition:{duration:.3,ease:"easeInOut"},className:"w-full lg:w-64",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-5 h-full",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(fQ,{className:"h-4 w-4 text-teal-600"}),p.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Clause Navigator"})]}),p.jsx("div",{className:"space-y-2 max-h-[420px] overflow-y-auto pr-1",children:b.map((V,E)=>p.jsxs("button",{onClick:()=>W(V.id),className:"w-full text-left text-xs bg-gray-50 hover:bg-teal-50 border border-gray-200 hover:border-teal-200 rounded-lg px-3 py-2 transition",children:[p.jsx("span",{className:"block font-medium text-gray-900 truncate",children:V.title}),p.jsxs("span",{className:"text-[11px] text-gray-500",children:["Clause reference  ",E+1]})]},`${V.id}-${E}`))})]})},"hakireview-clause-nav")})]})})]})})]})}function INe(){const{profile:t}=$i(),[e,n]=$.useState(!1),[r,i]=$.useState(!1),[s,o]=$.useState([]),[a,l]=$.useState(!0),[c,u]=$.useState({title:"",description:"",reminder_date:""});$.useEffect(()=>{t&&d()},[t]);async function d(){try{const{data:v,error:y}=await gn.from("case_reminders").select("*").eq("lawyer_id",t==null?void 0:t.id).order("reminder_date",{ascending:!0});if(y)throw y;o(v||[])}catch(v){console.error("Error loading reminders:",v)}finally{l(!1)}}async function h(v){if(v.preventDefault(),!(!c.title||!c.reminder_date))try{const{error:y}=await gn.from("case_reminders").insert({lawyer_id:t==null?void 0:t.id,title:c.title,description:c.description,reminder_date:c.reminder_date,status:"scheduled"});if(y)throw y;u({title:"",description:"",reminder_date:""}),i(!1),d()}catch(y){console.error("Error creating reminder:",y),alert("Failed to create reminder")}}const f=s.filter(v=>v.status==="scheduled"),m=s.filter(v=>v.status==="sent"),g=s.filter(v=>v.status==="history");return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e&&p.jsx(Xu,{onComplete:()=>n(!1)}),p.jsx(Ec,{onTourStart:()=>n(!0)}),p.jsx("div",{className:"flex-1 ml-[280px] p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:p.jsx(vo,{className:"w-6 h-6 text-white"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiReminders"})]}),p.jsx("p",{className:"text-gray-600",children:"AI-powered reminder management with Kanban workflow"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg font-medium hover:bg-purple-200",children:[p.jsx(lA,{className:"w-4 h-4"}),"AI Suggestions",p.jsx("span",{className:"bg-purple-200 text-purple-800 px-2 py-0.5 rounded-full text-xs",children:"0"})]}),p.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:[p.jsx(aA,{className:"w-4 h-4"}),"New Reminder"]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 px-4 py-2 mb-4",children:p.jsxs("h3",{className:"font-semibold text-blue-900",children:["Scheduled (",f.length,")"]})}),p.jsx("div",{className:"space-y-3",children:f.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[p.jsx(vo,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-600",children:"No scheduled reminders"})]}):f.map(v=>p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:v.title}),v.description&&p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:v.description}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.reminder_date).toLocaleString()})]},v.id))})]}),p.jsxs("div",{children:[p.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 px-4 py-2 mb-4",children:p.jsxs("h3",{className:"font-semibold text-green-900",children:["Sent (",m.length,")"]})}),p.jsx("div",{className:"space-y-3",children:m.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[p.jsx(vo,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-600",children:"No sent reminders"})]}):m.map(v=>p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:v.title}),v.description&&p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:v.description}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.reminder_date).toLocaleString()})]},v.id))})]}),p.jsxs("div",{children:[p.jsx("div",{className:"bg-gray-50 border-l-4 border-gray-600 px-4 py-2 mb-4",children:p.jsxs("h3",{className:"font-semibold text-gray-900",children:["History (",g.length,")"]})}),p.jsx("div",{className:"space-y-3",children:g.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[p.jsx(vo,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p.jsx("p",{className:"text-gray-600",children:"No history reminders"})]}):g.map(v=>p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:v.title}),v.description&&p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:v.description}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.reminder_date).toLocaleString()})]},v.id))})]})]})]})}),r&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Reminder"}),p.jsx("button",{onClick:()=>i(!1),className:"p-1 text-gray-400 hover:text-gray-600",children:p.jsx(Fg,{className:"w-5 h-5"})})]}),p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),p.jsx("input",{type:"text",value:c.title,onChange:v=>u({...c,title:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),p.jsx("textarea",{value:c.description,onChange:v=>u({...c,description:v.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time *"}),p.jsx("input",{type:"datetime-local",value:c.reminder_date,onChange:v=>u({...c,reminder_date:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Cancel"}),p.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Create Reminder"})]})]})]})})]})}function ONe(){const[t,e]=$.useState(!1),[n,r]=$.useState(""),[i,s]=$.useState([]),o=a=>{const l=a.target.files;if(l){const c=Array.from(l).map(u=>u.name);s(u=>[...u,...c])}};return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[t&&p.jsx(Xu,{onComplete:()=>e(!1)}),p.jsx(Ec,{onTourStart:()=>e(!0)}),p.jsx("div",{className:"flex-1 ml-[280px] p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:p.jsx(qs,{className:"w-6 h-6 text-white"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiDocs"})]}),p.jsx("p",{className:"text-gray-600",children:"Central document repository for HakiChain"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 cursor-pointer",children:[p.jsx(uF,{className:"w-4 h-4"}),"Upload Files",p.jsx("input",{type:"file",multiple:!0,onChange:o,className:"hidden"})]}),p.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:"Select from HakiDocs"})]})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500",children:[p.jsx("option",{value:"all",children:"All Types"}),p.jsx("option",{value:"pdf",children:"PDF"}),p.jsx("option",{value:"docx",children:"DOCX"}),p.jsx("option",{value:"doc",children:"DOC"})]})]})}),i.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[p.jsx(qs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents found"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Upload your first document to get started"}),p.jsxs("label",{className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium cursor-pointer inline-block",children:["Upload Files",p.jsx("input",{type:"file",multiple:!0,onChange:o,className:"hidden"})]})]}):p.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Document Name"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Uploaded"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((a,l)=>{var c;return p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:(c=a.split(".").pop())==null?void 0:c.toUpperCase()}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"Just now"})]},l)})})]})})]})})]})}function MNe(){const{profile:t}=$i(),[e,n]=$.useState(!1),[r,i]=$.useState(!1),[s,o]=$.useState(!1),[a,l]=$.useState({full_name:"",email:"",organization_name:"",practicing_certificate:"",wallet_address:""});$.useEffect(()=>{t&&l({full_name:t.full_name||"",email:t.email||"",organization_name:t.organization_name||"",practicing_certificate:t.practicing_certificate||"",wallet_address:t.wallet_address||""})},[t]);const c=async u=>{u.preventDefault(),i(!0),o(!1);try{const{error:d}=await gn.from("profiles").update({full_name:a.full_name,organization_name:a.organization_name,practicing_certificate:a.practicing_certificate,wallet_address:a.wallet_address}).eq("id",t==null?void 0:t.id);if(d)throw d;o(!0),setTimeout(()=>o(!1),3e3)}catch(d){console.error("Error updating profile:",d),alert("Failed to update profile")}finally{i(!1)}};return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e&&p.jsx(Xu,{onComplete:()=>n(!1)}),p.jsx(Ec,{onTourStart:()=>n(!0)}),p.jsx("div",{className:"flex-1 ml-[280px] p-8",children:p.jsxs("div",{className:"max-w-3xl mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile Information"}),s&&p.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:"Profile updated successfully!"}),p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[p.jsx(cA,{className:"w-4 h-4"}),"Full Name *"]}),p.jsx("input",{type:"text",value:a.full_name,onChange:u=>l({...a,full_name:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[p.jsx(sx,{className:"w-4 h-4"}),"Email"]}),p.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),p.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[p.jsx(ZX,{className:"w-4 h-4"}),"Organization Name"]}),p.jsx("input",{type:"text",value:a.organization_name,onChange:u=>l({...a,organization_name:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[p.jsx(qs,{className:"w-4 h-4"}),"Practicing Certificate Number"]}),p.jsx("input",{type:"text",value:a.practicing_certificate,onChange:u=>l({...a,practicing_certificate:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[p.jsx(qs,{className:"w-4 h-4"}),"Wallet Address"]}),p.jsx("input",{type:"text",value:a.wallet_address,onChange:u=>l({...a,wallet_address:u.target.value}),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),p.jsx("div",{className:"pt-4",children:p.jsxs("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(lF,{className:"w-4 h-4"}),r?"Saving...":"Save Changes"]})})]})]}),p.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Type"}),p.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[p.jsx("span",{className:"text-gray-700",children:"User Type"}),p.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium capitalize",children:t==null?void 0:t.user_type})]}),p.jsxs("div",{className:"flex items-center justify-between py-3",children:[p.jsx("span",{className:"text-gray-700",children:"Verification Status"}),p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t!=null&&t.verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:t!=null&&t.verified?"Verified":"Pending Verification"})]})]})]})})]})}function DNe(){return p.jsx(WX,{children:p.jsx(KX,{children:p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsx(CQ,{}),p.jsx("main",{className:"flex-1",children:p.jsxs(oJ,{children:[p.jsx(Jr,{path:"/",element:p.jsx(rge,{})}),p.jsx(Jr,{path:"/login",element:p.jsx(age,{})}),p.jsx(Jr,{path:"/signup",element:p.jsx(lge,{})}),p.jsx(Jr,{path:"/bounties",element:p.jsx(cge,{})}),p.jsx(Jr,{path:"/bounties/:id",element:p.jsx(dge,{})}),p.jsx(Jr,{path:"/dashboard",element:p.jsx(Dge,{})}),p.jsx(Jr,{path:"/cases",element:p.jsx(Wge,{})}),p.jsx(Jr,{path:"/haki-lens",element:p.jsx(Qge,{})}),p.jsx(Jr,{path:"/haki-draft",element:p.jsx(LNe,{})}),p.jsx(Jr,{path:"/haki-review",element:p.jsx(RNe,{})}),p.jsx(Jr,{path:"/haki-reminders",element:p.jsx(INe,{})}),p.jsx(Jr,{path:"/haki-docs",element:p.jsx(ONe,{})}),p.jsx(Jr,{path:"/settings",element:p.jsx(MNe,{})}),p.jsx(Jr,{path:"/documentation",element:p.jsx(Vge,{})}),p.jsx(Jr,{path:"/admin-dashboard",element:p.jsx(Hge,{})})]})}),p.jsx(TQ,{}),p.jsx(nge,{})]})})})}var FNe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BNe="VisuallyHidden",HT=$.forwardRef((t,e)=>p.jsx($n.span,{...t,ref:e,style:{...FNe,...t.style}}));HT.displayName=BNe;var qT="ToastProvider",[WT,zNe,UNe]=DC("Toast"),[DH]=Dh("Toast",[UNe]),[$Ne,nb]=DH(qT),FH=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=$.useState(null),[c,u]=$.useState(0),d=$.useRef(!1),h=$.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qT}\`. Expected non-empty \`string\`.`),p.jsx(WT.Provider,{scope:e,children:p.jsx($Ne,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:$.useCallback(()=>u(f=>f+1),[]),onToastRemove:$.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};FH.displayName=qT;var BH="ToastViewport",VNe=["F8"],GN="toast.viewportPause",JN="toast.viewportResume",zH=$.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=VNe,label:i="Notifications ({hotkey})",...s}=t,o=nb(BH,n),a=zNe(n),l=$.useRef(null),c=$.useRef(null),u=$.useRef(null),d=$.useRef(null),h=oi(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;$.useEffect(()=>{const v=y=>{var b;r.length!==0&&r.every(N=>y[N]||y.code===N)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),$.useEffect(()=>{const v=l.current,y=d.current;if(m&&v&&y){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(GN);y.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(JN);y.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!v.contains(M.relatedTarget)&&b()},C=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",N),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const g=$.useCallback(({tabbingDirection:v})=>{const w=a().map(b=>{const N=b.ref.current,C=[N,...nEe(N)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return $.useEffect(()=>{const v=d.current;if(v){const y=w=>{var C,M,B;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const z=document.activeElement,F=w.shiftKey;if(w.target===v&&F){(C=c.current)==null||C.focus();return}const L=g({tabbingDirection:F?"backwards":"forwards"}),V=L.findIndex(E=>E===z);XS(L.slice(V+1))?w.preventDefault():F?(M=c.current)==null||M.focus():(B=u.current)==null||B.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,g]),p.jsxs(v0e,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&p.jsx(YN,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});XS(v)}}),p.jsx(WT.Slot,{scope:n,children:p.jsx($n.ol,{tabIndex:-1,...s,ref:h})}),m&&p.jsx(YN,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});XS(v)}})]})});zH.displayName=BH;var UH="ToastFocusProxy",YN=$.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=nb(UH,n);return p.jsx(HT,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});YN.displayName=UH;var s0="Toast",HNe="toast.swipeStart",qNe="toast.swipeMove",WNe="toast.swipeCancel",KNe="toast.swipeEnd",$H=$.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=OC({prop:r,defaultProp:i??!0,onChange:s,caller:s0});return p.jsx(zh,{present:n||a,children:p.jsx(YNe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:hs(t.onPause),onResume:hs(t.onResume),onSwipeStart:Tt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Tt(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Tt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Tt(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});$H.displayName=s0;var[GNe,JNe]=DH(s0,{onClose(){}}),YNe=$.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...m}=t,g=nb(s0,n),[v,y]=$.useState(null),w=oi(e,E=>y(E)),b=$.useRef(null),N=$.useRef(null),C=i||g.duration,M=$.useRef(0),B=$.useRef(C),z=$.useRef(0),{onToastAdd:F,onToastRemove:G}=g,W=hs(()=>{var te;(v==null?void 0:v.contains(document.activeElement))&&((te=g.viewport)==null||te.focus()),o()}),L=$.useCallback(E=>{!E||E===1/0||(window.clearTimeout(z.current),M.current=new Date().getTime(),z.current=window.setTimeout(W,E))},[W]);$.useEffect(()=>{const E=g.viewport;if(E){const te=()=>{L(B.current),c==null||c()},pe=()=>{const re=new Date().getTime()-M.current;B.current=B.current-re,window.clearTimeout(z.current),l==null||l()};return E.addEventListener(GN,pe),E.addEventListener(JN,te),()=>{E.removeEventListener(GN,pe),E.removeEventListener(JN,te)}}},[g.viewport,C,l,c,L]),$.useEffect(()=>{s&&!g.isClosePausedRef.current&&L(C)},[s,C,g.isClosePausedRef,L]),$.useEffect(()=>(F(),()=>G()),[F,G]);const V=$.useMemo(()=>v?JH(v):null,[v]);return g.viewport?p.jsxs(p.Fragment,{children:[V&&p.jsx(XNe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:V}),p.jsx(GNe,{scope:n,onClose:W,children:Og.createPortal(p.jsx(WT.ItemSlot,{scope:n,children:p.jsx(y0e,{asChild:!0,onEscapeKeyDown:Tt(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx($n.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Tt(t.onKeyDown,E=>{E.key==="Escape"&&(a==null||a(E.nativeEvent),E.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Tt(t.onPointerDown,E=>{E.button===0&&(b.current={x:E.clientX,y:E.clientY})}),onPointerMove:Tt(t.onPointerMove,E=>{if(!b.current)return;const te=E.clientX-b.current.x,pe=E.clientY-b.current.y,re=!!N.current,K=["left","right"].includes(g.swipeDirection),Y=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=K?Y(0,te):0,de=K?0:Y(0,pe),T=E.pointerType==="touch"?10:2,R={x:q,y:de},J={originalEvent:E,delta:R};re?(N.current=R,fv(qNe,d,J,{discrete:!1})):fO(R,g.swipeDirection,T)?(N.current=R,fv(HNe,u,J,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(te)>T||Math.abs(pe)>T)&&(b.current=null)}),onPointerUp:Tt(t.onPointerUp,E=>{const te=N.current,pe=E.target;if(pe.hasPointerCapture(E.pointerId)&&pe.releasePointerCapture(E.pointerId),N.current=null,b.current=null,te){const re=E.currentTarget,K={originalEvent:E,delta:te};fO(te,g.swipeDirection,g.swipeThreshold)?fv(KNe,f,K,{discrete:!0}):fv(WNe,h,K,{discrete:!0}),re.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),XNe=t=>{const{__scopeToast:e,children:n,...r}=t,i=nb(s0,e),[s,o]=$.useState(!1),[a,l]=$.useState(!1);return eEe(()=>o(!0)),$.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(KC,{asChild:!0,children:p.jsx(HT,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},QNe="ToastTitle",VH=$.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx($n.div,{...r,ref:e})});VH.displayName=QNe;var ZNe="ToastDescription",HH=$.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx($n.div,{...r,ref:e})});HH.displayName=ZNe;var qH="ToastAction",WH=$.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(GH,{altText:n,asChild:!0,children:p.jsx(KT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qH}\`. Expected non-empty \`string\`.`),null)});WH.displayName=qH;var KH="ToastClose",KT=$.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=JNe(KH,n);return p.jsx(GH,{asChild:!0,children:p.jsx($n.button,{type:"button",...r,ref:e,onClick:Tt(t.onClick,i.onClose)})})});KT.displayName=KH;var GH=$.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx($n.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function JH(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tEe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...JH(r))}}),e}function fv(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MC(i,s):i.dispatchEvent(s)}var fO=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function eEe(t=()=>{}){const e=hs(t);Ga(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tEe(t){return t.nodeType===t.ELEMENT_NODE}function nEe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rEe=FH,YH=zH,XH=$H,QH=VH,ZH=HH,eq=WH,tq=KT;const hO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pO=XU,iEe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return pO(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=hO(u)||hO(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...s,...a}[g]):{...s,...a}[g]===v})?[...c,d,h]:c},[]);return pO(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},sEe=rEe,nq=$.forwardRef(({className:t,...e},n)=>p.jsx(YH,{ref:n,className:Ac("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nq.displayName=YH.displayName;const oEe=iEe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rq=$.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(XH,{ref:r,className:Ac(oEe({variant:e}),t),...n}));rq.displayName=XH.displayName;const aEe=$.forwardRef(({className:t,...e},n)=>p.jsx(eq,{ref:n,className:Ac("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));aEe.displayName=eq.displayName;const iq=$.forwardRef(({className:t,...e},n)=>p.jsx(tq,{ref:n,className:Ac("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Fg,{className:"h-4 w-4"})}));iq.displayName=tq.displayName;const sq=$.forwardRef(({className:t,...e},n)=>p.jsx(QH,{ref:n,className:Ac("text-sm font-semibold",t),...e}));sq.displayName=QH.displayName;const oq=$.forwardRef(({className:t,...e},n)=>p.jsx(ZH,{ref:n,className:Ac("text-sm opacity-90",t),...e}));oq.displayName=ZH.displayName;function lEe(){const{toasts:t}=nxe();return p.jsxs(sEe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(rq,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(sq,{children:n}),r&&p.jsx(oq,{children:r})]}),i,p.jsx(iq,{})]},e)}),p.jsx(nq,{})]})}const cEe=[];function uEe({items:t=cEe}){const[e,n]=$.useState(!1),r=$.useMemo(()=>t,[t]);return $.useEffect(()=>{const i=s=>{(s.metaKey||s.ctrlKey)&&s.key.toLowerCase()==="k"&&(s.preventDefault(),n(a=>!a))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[]),e?p.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 px-4 py-10",role:"dialog","aria-modal":"true",children:p.jsxs("div",{className:"w-full max-w-lg rounded-xl bg-white shadow-2xl border border-legal-border",children:[p.jsxs("div",{className:"flex items-center gap-2 border-b border-legal-border px-4 py-3",children:[p.jsx(ia,{className:"h-4 w-4 text-legal-muted"}),p.jsx("input",{className:"flex-1 outline-none text-sm",placeholder:"Type a command or search...",autoFocus:!0}),p.jsx("button",{onClick:()=>n(!1),className:"text-xs text-legal-muted hover:text-legal-accent",children:"ESC"})]}),p.jsx("ul",{className:"max-h-72 overflow-y-auto px-2 py-2 space-y-1 text-sm",children:r.length===0?p.jsx("li",{className:"px-3 py-2 text-legal-muted",children:"No commands available."}):r.map(i=>p.jsx("li",{children:p.jsx("button",{onClick:()=>{n(!1),i.action()},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-legal-accent/10 focus:outline-none focus:ring-2 focus:ring-legal-accent",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{children:i.label}),i.shortcut&&p.jsx("span",{className:"text-xs text-legal-muted",children:i.shortcut})]})})},i.id))})]})}):null}function dEe({children:t}){return p.jsx(EQ,{children:p.jsxs("div",{className:"min-h-screen bg-legal-bg text-legal-base",children:[t,p.jsx(lEe,{}),p.jsx(uEe,{})]})})}ID(document.getElementById("root")).render(p.jsx(pJ,{children:p.jsx(dEe,{children:p.jsx(DNe,{})})}));export{tn as _,Tg as a,Gv as c,xO as g};
